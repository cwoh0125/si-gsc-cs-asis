<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.2">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="BNS010" classname="BNS010" inheritanceid="" position="absolute 0 0 1655 858" titletext="상담관리" onload="BNS010_onload" style="color:transparent;" onkeydown="Copy_Prevention_onkeydown" onrbuttondown="Copy_onrbuttondown" visible="false">
    <Script type="xscript4.0"><![CDATA[/********************************************************************************** 
 *****	INBOUND 상담관리
***********************************************************************************/

include "LIB::CommonLib.xjs"
var SVC_IF_URL 	= "XinterfaceAction.do?method=CommonInterface";
var oneD;
var objPHN = getObjPhnBns();
var g_top  = getTopFrame();

//고객 정보 변경
var custNoStr ;
var gUsrId =  getTrim(GetUserInfo("gUSR_ID"));
var gUsrNm =  getTrim(GetUserInfo("gUSR_NM"));
var gLginIp =  getTrim(GetUserInfo("gLGIN_IP"));
var errMsgStr = "";

//엑셀 다운로드 고객 
var gCustId = "";

if(objPHN){
	objPHN.BNS010 = this;
	objPHN.getPhnEvent = getPhnEvent;	
}

var g_div_cti 	= getTopFrame().Div_CTI;	
var objPHNDTMF = getObjPhnDtmf_BNS010();
if(objPHNDTMF){
	objPHNDTMF.BNS010 = this;
	objPHNDTMF.getPhnEvent = getPhnEvent;	
}

var strSrchFlg 		= "0";		// 고객조회flag(0:default, 1:OB 캠페인, 2:OB Email, 3:예약콜)
var COM290 					= null;  // ARS고객정보입력 팝업

/*20150818 개인정보접촉이력 등록*/
var sAccNo = "BNS010"; //개인정보접촉이력 일련번호

//OB리스트 아웃바운드 캠페인 기타 전화 번호 셋팅
var edt_phone;

//콜백건 여부
var callbackYn = "N"; 


// 화면 onload
function BNS010_onload(obj:Form, e:LoadEventInfo)
{
	//화면 복사 방지 Event
	var evtObj = new EventInfo(); // 이벤트 객체 생성
	obj.onkeydown.addHandler(Copy_Prevention_onkeydown, evtObj);
	obj.onrbuttondown.addHandler(Copy_onrbuttondown, evtObj);
	//화면 복사 방지 Event END
	
	fn_setDefaultValue();
	// 상담화면 기능권한 수정
	fn_srchFctList();	
	
	// 2011.11 SMT그룹
	//2017.11.15 상담관리 화면 처리 	
	//trace(getTrim(GetUserInfo("gGRP_CD")));
	if(getTrim(GetUserInfo("gGRP_CD")) == "OIL"){		
		//fn_setSmtGrpScrn();
		SMT.visible = true ;
		SMT00.visible = true ; 
		SMT01.visible = true ;
		
	}
		//GS쿠폰
	//김순화D 요청 20180717
	if(getTrim(GetUserInfo("gGRP_CD")) == "CPN"){			
		
		Btn_AlterCuik.enable = false; //식별키
		Btn_AltRsNo.enable = false;		  //사업번호 변경
		Btn_SaveCustInfo.enable = false;     //저장
		Btn_Smt_Callback00.enable = false;   //휴면 고객 복원		
	}

	 
}

function fn_setDefaultValue()
{
	// 콤보세팅	
    var arrCombo           = ["Cmb_DmSendDiv","Cmb_CustDiv"];    					//콤보ID
    var arrSearchKey       = ["NW074","NW077"];               						//공통코드-대분류코드
    var arrListMode        = ["TY","TY"];                    						//CTN : [코드] 코드명  , TY : 코드명,  TN: 초기값무시
    var arrOptionRowValue  = [",",","];                  							//코드상단에 로우추가후 전체, 공백

	setComboList(arrCombo, arrSearchKey, arrListMode, arrOptionRowValue); 			
}

// 상담관리 권한조회
function fn_srchFctList()
{
	ds_srch.clearData();
	ds_fct_list.clearData();

	fun_ds_srch(ds_srch, "GRP_CD",getTrim(GetUserInfo("gGRP_CD")));			// 그룹
	fun_ds_srch(ds_srch, "PART_CD",getTrim(GetUserInfo("gPART_CD")));		// 파트	
	fun_ds_srch(ds_srch, "GRD_CD",getTrim(GetUserInfo("gUSR_GRD_CD")));		// 등급
	
	var strSvcID = "R2";
	var strURL = SVC_USR_URL;
	var strInDatasets = "SELECT_0_IDATA=ds_srch:a"; 
	var strOutDatasets = "ds_fct_list=SELECT_0_ODATA";
	var strArgument = "SELECT_0_ID=BNS010.Get_FctList_SELECT"; 	
	var strCallbackFunc = "fn_callBack";
	var strProcessBar = true;
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);	
		
}

// 상담화면 버튼 enable 처리
function fn_btnListEnable()
{
	var strGrpCd = getTrim(GetUserInfo("gGRP_CD"));
	var strPartCd = getTrim(GetUserInfo("gPART_CD"));
	var strGrdCd = getTrim(GetUserInfo("gUSR_GRD_CD"));	
	
	//trace(strGrpCd+strPartCd+strGrdCd);
	//trace(">>>>>>>"+ds_fct_list.saveXML());
	
	for(i=0;i<ds_fct_list.rowcount;i++)
	{		
		if(		getTrim(ds_fct_list.getColumn(i,"GRP_CD"))== strGrpCd
		    &&  getTrim(ds_fct_list.getColumn(i,"PART_CD"))== strPartCd
			&&  getTrim(ds_fct_list.getColumn(i,"CNSLR_GRD_CD"))== strGrdCd){
			var strBtnId 	= getTrim(ds_fct_list.getColumn(i,"REFN_CD_VLU1"));
			if(this.all[strBtnId]){
				//trace(i + "." + strBtnId + ":");
				//var objBtn 	 	= eval(strBtnId);
				//objBtn.enable = true;
				
				this.all[strBtnId].enable 	= true;
			}else{
			}
		}
	}	
}

// 2011.11 SMT그룹사용자 화면세팅
// 2017.11.16 SMT그룹을 윤화유로 사용 하여 셋팅
function fn_setSmtGrpScrn()
{
	/*
	// 1. 기능버튼 활성화처리(기존기능 사용여부에 따라 활성/비활성화처리.)
	Btn_IntgReAply.enable	= false;	// 재반영 비활성화
	Btn_Fdc.enable			= false;	// 현장할인	비활성화
	Btn_AlterCrdPw.enable	= false;	// 법인비밀번호변경 비활성화
	
	
	
	// 2. 스마트콜백 버튼 visible 처리.(IPIN고객 위치)
	Btn_Smt_Callback.visible = true;
	//Btn_CST036.visible = false;
	Btn_CustintgIns.visible = false;		
	*/
}

// 고객조회조건 Clear
function fn_ClrSrchCond()
{
	Msk_SrchTailRsBzNo.value 		= "";
	Edt_SrchCustNo.value 			= "";
	Edt_SrchIntgCustNo.value		= "";
	Edt_SrchWebId.value				= "";
	Msk_SrchCrdNo.value				= "";
	Edt_SrchSapId.value				= "";
	Cmb_SrchSexCd.value				= "";
	Edt_SrchCuikBday.value			= "";
	Edt_SrchCelPhone.value			= "";
	
}

// 초기화버튼 클릭
function Btn_SrchClear_onclick(obj:Button,  e:ClickEventInfo)
{
	// 조회조건 Clear
	fn_ClrSrchCond();	
	// 화면 Clear
	fn_clearCustInfo();
	// 업무팝업닫기
	parent.fnSubMdiPopupRealClose();
	// 이력탭 index 초기화
	this.all["Tab_CntctHistInfo"].tabindex = 0;
	// Flag초기화
	fn_clearFlag();
	
	//콜백 초기화는 상담 저장 할때 한번만 한다.
	//callbackYn == "N"; //콜백 여부 초기화
}

function fn_clearFlag()
{
	strSrchFlg 		= "0";
	ds_srch_flg.setColumn(0,"FLAG","");	
	
	//콜백 초기화는 상담 저장 할때 한번만 한다.
	//callbackYn = "N";
	
	// 2011.11 SMT그룹의 콜백 ds 초기화
	if(getTrim(GetUserInfo("gGRP_CD")) == "SMT"){
		ds_smt_callbck.clearData();
		//fn_initSmtCallbck(false);
	}
}

/********************************************************************************** 
 ***** 고객조회 / 저장
***********************************************************************************/

// 인바운드로 들어온 고객조회
function fn_SrchInbndCallCust(strCustId, strCustGbn)
{
	var objCnslDs = this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];	// 상담일련번호 DS
	
	// 인바운드 콜 인입 여부
	ds_srch_flg.setColumn(0,"CALL_IN_YN","Y");
		
	if(strCustGbn == "03"){						// 가맹점고객		
		//일반조회 Flg세팅							
		strSrchFlg  = "0" ;
		// 화면Clear
		fn_clearCustInfo();
		
		if(strCustId.length == 4){
			// 가맹점정보 인터페이스 조회
			Edt_SrchSapId.value = strCustId;
			fn_srchFrchInfo(strCustId);		
		}else{
			// SAP코드로 SITE코드 조회
			fn_srchFrchBnsId(strCustId);
		}			
	}else {								// 개인 사업자고객
		//일반조회 Flg세팅							
		strSrchFlg  = "0" ;								 		
		// 화면Clear
		fn_clearCustInfo();		
		// 상세기본정보
		fn_srchCustDtlsInfo(strCustId);
					
		/* 기존고객등급조회 -> GS&포인트 회원등급조회 변경
		 * 2025.02.06 | NP847
		 * fn_srchCustGrd(strCustId);	
		*/
		fn_srchcmCustGrd(strCustId);
		
	}
	
	/*
	// 최초 콜 인입시 초기화 및 세팅됨
	// DTMF값 초기화
	trace("BNS010 :: dtmf 초기화");
	g_dtmf_no = "";	
	*/
}

// 가맹점 고객이 ARS를 통해 들어올 때 SAP코드로 BONUS ID DB조회
function fn_srchFrchBnsId(strSapCd)
{
	if(strSapCd.length == 10){
		strSapCd = strSapCd.substr(4,6);
	}
/*	
	if(strSapCd.length != 6){
		cf_Alert("COME0028","SAP 코드","6");		
		return;
	}
*/
	ds_srch.clearData();
	ds_bonus_id.clearData();
	fun_ds_srch(ds_srch, "CUST_ID",strSapCd);
	
	var	strSvcID = "R3";
	var	strURL = SVC_USR_URL;
	var	strInDatasets = "SELECT_0_IDATA=ds_srch:a"; 
	var	strOutDatasets = "ds_bonus_id=SELECT_0_ODATA";
	var	strArgument = "SELECT_0_ID=BNS010.Get_SapCdToBnsId_SELECT";
	var strCallbackFunc = "fn_callBack";
	
	if(getTrim(ds_srch_flg.getColumn(0,"CALL_IN_YN")) == "Y"){
		var strProcessBar = false;
	}else{
		var strProcessBar = true;		
	}
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);
			
	return;		
}

// 조회버튼 클릭시
function Btn_SrchCustInfo_onclick(obj:Button,  e:ClickEventInfo)
{
	
	
	if(objPHN){
		if(objPHN.getCallStatus() == "READY"){
			cf_Alert("COME0046");
			fn_ClrSrchCond();
			return;
		}
	}

	var objCnslDs = this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];	// 상담일련번호 DS
	// 인바운드 콜 인입 여부
	ds_srch_flg.setColumn(0,"CALL_IN_YN","N");	
	
	if(getTrim(Edt_SrchSapId.value) != ""){		// SITE코드 가 입력된 경우
		if(	   getTrim(Edt_SrchCustNo.value)=="" 
			&& getTrim(Edt_SrchIntgCustNo.value)=="" 
			&& getTrim(Edt_SrchWebId.value)=="" 
			&& getTrim(Msk_SrchCrdNo.value)=="") {
			
			if(objCnslDs.rowcount > 0){
				if(ds_srched_cust.rowcount > 0){
					cf_Alert("BNSE0022","가맹점고객");			
					return;
				}		
			}			
			// 화면Clear
			fn_clearCustInfo();
			// 진행중 상담이 없는 경우 일반조회 Flg세팅
			if(objCnslDs.rowcount < 1){							
				strSrchFlg  = "0";								 
			}						
			// 가맹점정보 인터페이스 조회
			fn_srchFrchInfo(getTrim(Edt_SrchSapId.value));
		}else{
			cf_Alert("BNSE0044","보너스카드 고객","가맹점");			
			return;
		}
	}else{	
		if(!fn_ChkValid())	return;
		
		// 진행중 상담이 없는 경우 일반조회 Flg세팅
		if(objCnslDs.rowcount < 1){							
			strSrchFlg  = "0";								 
		}
		
		// 화면Clear
		fn_clearCustInfo();
				
		if(getTrim(Edt_SrchCustNo.value)!=""){		
			// 상세기본정보
			fn_srchCustDtlsInfo(getTrim(Edt_SrchCustNo.value));

			
			
			/* 기존고객등급조회 -> GS&포인트 회원등급조회 변경
			 * 2025.02.06 | NP847
			 * fn_srchCustGrd(getTrim(Edt_SrchCustNo.value));
			*/
			fn_srchcmCustGrd(getTrim(Edt_SrchCustNo.value));
			
			// 스마트 보증제 가입여부 
			fn_srchCustSg(getTrim(Edt_SrchCustNo.value));	
		}else{
			fn_srchCustInfo();	
		}
		
		// 이벤트포인트현황 | 2024.12.23 NP847
		fn_srchCustEventPt();
	}
		
	// DTMF값 초기화
	//trace("BNS010 :: dtmf 초기화");
	g_dtmf_no = "";		
	
}

// ARS주민조회로 고객조회
function fn_SrchCustInfoARS()
{
	if(objPHN){
		if(objPHN.getCallStatus() == "READY"){
			cf_Alert("COME0046");
			fn_ClrSrchCond();
			return;
		}
	}

	var objCnslDs = this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];	// 상담일련번호 DS
	// 인바운드 콜 인입 여부
	ds_srch_flg.setColumn(0,"CALL_IN_YN","N");	
	
	if(getTrim(Edt_SrchSapId.value) != ""){		// SITE코드 가 입력된 경우
		if(	   getTrim(Edt_SrchCustNo.value)=="" 
			&& getTrim(Edt_SrchIntgCustNo.value)=="" 
			&& getTrim(Edt_SrchWebId.value)=="" 
			&& getTrim(Msk_SrchCrdNo.value)=="") {
			
			if(objCnslDs.rowcount > 0){
				if(ds_srched_cust.rowcount > 0){
					cf_Alert("BNSE0022","가맹점고객");			
					return;
				}		
			}			

			// 진행중 상담이 없는 경우 일반조회 Flg세팅
			if(objCnslDs.rowcount < 1){							
				strSrchFlg  = "0";								 
			}						
			// 가맹점정보 인터페이스 조회
			fn_srchFrchInfo(getTrim(Edt_SrchSapId.value));
		}else{
			cf_Alert("BNSE0044","보너스카드 고객","가맹점");			
			return;
		}
	}else{	
		if(!fn_ChkValid())	return;
		
		// 진행중 상담이 없는 경우 일반조회 Flg세팅
		if(objCnslDs.rowcount < 1){							
			strSrchFlg  = "0";								 
		}
		// 화면Clear
//		fn_clearCustInfo();		
		if(getTrim(Edt_SrchCustNo.value)!=""){
			// 상세기본정보
			fn_srchCustDtlsInfo(getTrim(Edt_SrchCustNo.value));
			/* 기존고객등급조회 -> GS&포인트 회원등급조회 변경
			 * 2025.02.06 | NP847
			 * fn_srchCustGrd(getTrim(Edt_SrchCustNo.value));
			*/
			fn_srchcmCustGrd(getTrim(Edt_SrchCustNo.value));	
		}else{
		
			fn_srchCustInfo();	
		}
	}
	
}

// Validation 체크
function fn_ChkValid()
{
	var objCnslDs 		= this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];	// 상담일련번호 DS
	var objObSelDs		= this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_sel_cust"];			// OB리스트 조회한 고객DS	
	
	// OB LIST, 예약콜 상담중에는 조회불가
	if(objCnslDs.rowcount > 0){
		if(ds_srch_flg.getColumn(0,"FLAG") == "1" || ds_srch_flg.getColumn(0,"FLAG") == "3" ){
			cf_Alert("BNSE0006");			
			return false;
		}
		
		if(ds_srch_flg.getColumn(0,"FLAG") == "2" && getTrim(objObSelDs.getColumn(0,"CUST_NO")).substr(0,1) != "E"){
			cf_Alert("BNSE0055","조회");			
			return false;			
		}
	}
		 
	
		
	if(	   getTrim(Msk_SrchTailRsBzNo.value)=="" 
		&& getTrim(Edt_SrchCustNo.value)=="" 
		&& getTrim(Edt_SrchIntgCustNo.value)=="" 
		&& getTrim(Edt_SrchWebId.value)=="" 
		&& getTrim(Msk_SrchCrdNo.value)==""
		&& (   getTrim(Cmb_SrchSexCd.value)==""
			|| getTrim(Edt_SrchCuikBday.value)==""
			|| getTrim(Edt_SrchCelPhone.value)==""
		    )
		){
		cf_Alert("COME0007","조회조건");		
		return false;
	}
		
	var intCnt = 0;
	if(getTrim(Edt_SrchCustNo.value)!= ""){
		intCnt++;
	}
	if(getTrim(Edt_SrchIntgCustNo.value) != ""){
		intCnt++;
	}
	if(getTrim(Edt_SrchWebId.value) != ""){
		intCnt++;
	}
	if(getTrim(Msk_SrchCrdNo.value) != ""){
		intCnt++;		
	}
	
	//주민번호 수집금지
	if(	   getTrim(Cmb_SrchSexCd.value)		!= ""
		&& getTrim(Edt_SrchCuikBday.value)	!= ""
		&& getTrim(Edt_SrchCelPhone.value)	!= ""){
		intCnt++;
	}
	
	
	cf_trace("조회조건수 ",intCnt);	
	
	if(getTrim(Msk_SrchTailRsBzNo.value) == ""){	
		if(intCnt != 1){
			cf_Alert("BNSE0048");		
			return false;
		}
	}
	
	if(getTrim(Edt_SrchCustNo.value)!="" && getTrim(Edt_SrchCustNo.value).length != 10){
		cf_Alert("COME0028","고객번호","10");
		Edt_SrchCustNo.setFocus();
		return false;
	}
	
	if(getTrim(Edt_SrchCustNo.value)==""){	
		if(getTrim(Msk_SrchCrdNo.value)!="" && getTrim(Msk_SrchCrdNo.value).length != 16){
			cf_Alert("COME0028","카드번호","16");
			Msk_SrchCrdNo.setFocus();
			return false;
		}
	}
	
	return true;
}

// SITE코드로 가맹점정보 조회
function fn_srchFrchInfo(strBnsId)
{
	ds_if_frch_env.clearData();
	ds_if_frch_data.clearData();
	ds_if_frch_common.clearData();
	ds_if_frch_header.clearData();
	ds_if_frch_record.clearData();
	
	// IF ENV DS
	fn_setIfEnvDs(ds_if_frch_env,"WAS","frFrchSelC03.do","","STP_FR_FRCH_SEL_C03_Rsp","","OT_OUT_CURSOR");
	
	fun_ds_srch(ds_if_frch_data,"req_chnl_code","610050");
	fun_ds_srch(ds_if_frch_data,"input_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_frch_data,"input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
	fun_ds_srch(ds_if_frch_data,"input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));

	fun_ds_srch(ds_if_frch_data,"in_search_gbn","S1");
	fun_ds_srch(ds_if_frch_data,"in_search_key1","19000101");
	fun_ds_srch(ds_if_frch_data,"in_search_key2",getToday());
	fun_ds_srch(ds_if_frch_data,"in_search_key3",strBnsId);	

	var	strSvcID = "IF_CSC_ITRT_044";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_frch_env:a INTERFACE_DATA=ds_if_frch_data:a";
	var	strOutDatasets = "ds_if_frch_common=DS_COMMON ds_if_frch_header=DS_HEADER ds_if_frch_record=DS_RECORD";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBack";
	
	if(getTrim(ds_srch_flg.getColumn(0,"CALL_IN_YN")) == "Y"){
		var strProcessBar = false;
	}else{
		var strProcessBar = true;		
	}
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);	
	
}

// 인터페이스 가맹점 조회 후 세팅
function fn_setFrchCustInfo()
{
	var objCnslDs = this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];	// 상담일련번호 DS
	
	ds_cust_info.setColumn(0,"IO_CUST_NO",ds_if_frch_record.getColumn(0,"FRCH_CD"));
	ds_cust_info.setColumn(0,"OT_CUST_NM",ds_if_frch_record.getColumn(0,"FRCH_NM"));	
	ds_cust_info.setColumn(0,"OT_CUST_ST_CD_NM",ds_if_frch_record.getColumn(0,"FRCH_ST_NM"));
	ds_cust_info.setColumn(0,"OT_HOME_PHONE_NO",maskPhone(ds_if_frch_record.getColumn(0,"PHONE_NO")));
	ds_cust_info.setColumn(0,"OT_HOME_ZIP_CODE",ds_if_frch_record.getColumn(0,"ZIPCD"));
	ds_cust_info.setColumn(0,"OT_HOME_MID_ADDR",ds_if_frch_record.getColumn(0,"ADDR"));		
	ds_srch_flg.setColumn(0,"FRCH_YN","Y");
	ds_srch_flg.setColumn(0,"FLAG",strSrchFlg);						// 고객조회flag(0:default, 1:OB 캠페인, 2:OB Email , 3:예약콜)
	ds_srch_flg.setColumn(0,"INBND_CMP_YN","N");					// 인바운드캠페인 flag 세팅	
	
	var qualty_yn = ds_if_frch_record.getColumn(0,"QUALT_YN");
	fun_ds_srch(ds_if_sg_sel_record,"USE_YN",qualty_yn);	//스마트 보증제 품질 보증주유소 yn
	
	
	// 조회된 고객세팅
	if(objCnslDs.rowcount > 0){
		if(ds_srched_cust.findRow("CUST_NO",ds_cust_info.getColumn(0,"IO_CUST_NO")) == -1){
			ds_srched_cust.addRow();
			ds_srched_cust.setColumn(ds_srched_cust.rowposition,"CUST_NO",ds_cust_info.getColumn(0,"IO_CUST_NO"));
			ds_srched_cust.setColumn(ds_srched_cust.rowposition,"CUST_NM",ds_cust_info.getColumn(0,"OT_CUST_NM"));
		}
	}	
	
	// 상담화면 각 탭마다 탭처리여부 세팅
	// 가맹점고객은 모든처리를 할 수 없음
	for(i=0; i < ds_tab_proc_yn.getColCount(); i++)
	{
		ds_tab_proc_yn.setColumn(0,i,"N");
	}
	// 접촉이력만 조회가능
	ds_tab_proc_yn.setColumn(0,"Tab_CntctHistInfo_tabpage2","Y");	
		
	// 고객 Summary 조회	
	this.all["Tab_SmryInfo"]["tabpage1"].fn_srchFormDataFrch();			// Summary	
	
}

// 고객정보조회(주민사업번호, 통합고객번호, 웹ID, 카드번호로 고객조회)
function fn_srchCustInfo()
{
	ds_if_cust_env.clearData();
	ds_if_cust_data.clearData();
	ds_if_cust_common.clearData();
	ds_if_cust_header.clearData();
	ds_if_cust_column.clearData();
	ds_if_cust_record.clearData();
	
	// IF ENV DS
	fn_setIfEnvDs(ds_if_cust_env,"WAS","cmCustSelC10.do","","STP_CM_CUST_SEL_C10_Rsp","","OT_OUT_CURSOR");

	fun_ds_srch(ds_if_cust_data,"req_chnl_code","610050");
	fun_ds_srch(ds_if_cust_data,"input_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_cust_data,"input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
	fun_ds_srch(ds_if_cust_data,"input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));	
	
	if(getTrim(Edt_SrchIntgCustNo.value) != ""){
		fun_ds_srch(ds_if_cust_data,"in_search_gbn","S2");
		fun_ds_srch(ds_if_cust_data,"in_search_key1",getTrim(Edt_SrchIntgCustNo.value));
	}
	//주민번호 수집금지로 제거(없애지 않아도 상관없으나.. 삭제!)
	//else if(getTrim(Msk_SrchTailRsBzNo.value)!= ""){
	//	fun_ds_srch(ds_if_cust_data,"in_search_gbn","S3");
	//	fun_ds_srch(ds_if_cust_data,"in_search_key1",getTrim(Msk_SrchTailRsBzNo.value));				
	//}
	else if(getTrim(Msk_SrchCrdNo.value) != ""){
		fun_ds_srch(ds_if_cust_data,"in_search_gbn","S4");
		fun_ds_srch(ds_if_cust_data,"in_search_key1",getTrim(Msk_SrchCrdNo.value));		
	}else if(getTrim(Edt_SrchWebId.value) != ""){
		fun_ds_srch(ds_if_cust_data,"in_search_gbn","S5");
		fun_ds_srch(ds_if_cust_data,"in_search_key1",getTrim(Edt_SrchWebId.value));
	}else if(getTrim(Edt_SrchWebId.value) != ""){
		fun_ds_srch(ds_if_cust_data,"in_search_gbn","S5");
		fun_ds_srch(ds_if_cust_data,"in_search_key1",getTrim(Edt_SrchWebId.value));
	}else if(getTrim(Cmb_SrchSexCd.value) != "" && getTrim(Edt_SrchCuikBday.value) != "" && getTrim(Edt_SrchCelPhone.value) != ""){
		fun_ds_srch(ds_if_cust_data,"in_search_gbn","H3");
		fun_ds_srch(ds_if_cust_data,"in_search_key1",getTrim(Edt_SrchCuikBday.value).replace("-",""));	//생년월일
		fun_ds_srch(ds_if_cust_data,"in_search_key2",getTrim(Cmb_SrchSexCd.value));	//성별
		fun_ds_srch(ds_if_cust_data,"in_search_key3",getTrim(Edt_SrchCelPhone.value).replace("-",""));	//휴대폰
		fun_ds_srch(ds_if_cust_data,"in_search_key4","");	//성명
	}
	
	var	strSvcID = "IF_CSC_ITRT_022";
	var	strURL = SVC_IF_URL;
	var	strInDatasets = "INTERFACE_ENV=ds_if_cust_env:a INTERFACE_DATA=ds_if_cust_data:a";
	var	strOutDatasets = "ds_if_cust_common=DS_COMMON ds_if_cust_header=DS_HEADER ds_if_cust_column=DS_COLUMN ds_if_cust_record=DS_RECORD";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBack";
	
	if(getTrim(ds_srch_flg.getColumn(0,"CALL_IN_YN")) == "Y"){
		var strProcessBar = false;
	}else{
		var strProcessBar = true;		
	}
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);	
	
}

// 고객상세정보조회
function fn_srchCustDtlsInfo(strParaCustNo)
{
	ds_if_cust_dtl_env.clearData();
	ds_if_cust_dtl_data.clearData();
	ds_if_cust_dtl_common.clearData();
	ds_if_cust_dtl_header.clearData();
	ds_if_cust_dtl_column.clearData();
	ds_if_cust_dtl_record.clearData();
	
	// IF ENV DS
	fn_setIfEnvDs(ds_if_cust_dtl_env,"WAS","cmCustdtlSelC07.do","","","","STP_CM_CUSTDTL_SEL_C07_Rsp");
	
	fun_ds_srch(ds_if_cust_dtl_data,"req_chnl_code","610050");
	fun_ds_srch(ds_if_cust_dtl_data,"input_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_cust_dtl_data,"input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
	fun_ds_srch(ds_if_cust_dtl_data,"input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));
	fun_ds_srch(ds_if_cust_dtl_data,"in_req_chnl_cd","610050");	
	fun_ds_srch(ds_if_cust_dtl_data,"io_cust_no",strParaCustNo);

	var	strSvcID = "IF_CSC_ITRT_024";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_cust_dtl_env:a INTERFACE_DATA=ds_if_cust_dtl_data:a";
	var	strOutDatasets = "ds_if_cust_dtl_common=DS_COMMON ds_if_cust_dtl_header=DS_HEADER ds_if_cust_dtl_column=DS_COLUMN ds_if_cust_dtl_record=DS_RECORD";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBack";
	
	if(getTrim(ds_srch_flg.getColumn(0,"CALL_IN_YN")) == "Y"){
		var strProcessBar = false;
	}else{
		var strProcessBar = true;		
	}
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);
}

// 고객상세정보조회 업무 후처리용 -조회 후 정보세팅만 함.
function fn_srchCustDtlsAftrProc(strParaCustNo)
{
	cf_trace("고객상세재조회 ",strParaCustNo);
	
	fn_ClrSrchCond();
	Edt_SrchCustNo.value = strParaCustNo;
	
	ds_if_cust_dtl_env.clearData();
	ds_if_cust_dtl_data.clearData();
	ds_if_cust_dtl_common.clearData();
	ds_if_cust_dtl_header.clearData();
	ds_if_cust_dtl_column.clearData();
	ds_if_cust_dtl_record.clearData();
	
	// IF ENV DS
	fn_setIfEnvDs(ds_if_cust_dtl_env,"WAS","cmCustdtlSelC07.do","","","","STP_CM_CUSTDTL_SEL_C07_Rsp");
	
	fun_ds_srch(ds_if_cust_dtl_data,"req_chnl_code","610050");
	fun_ds_srch(ds_if_cust_dtl_data,"input_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_cust_dtl_data,"input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
	fun_ds_srch(ds_if_cust_dtl_data,"input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));
	fun_ds_srch(ds_if_cust_dtl_data,"in_req_chnl_cd","610050");
	fun_ds_srch(ds_if_cust_dtl_data,"io_cust_no",strParaCustNo);

	var	strSvcID = "IF_CSC_ITRT_024_AftrProc";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_cust_dtl_env:a INTERFACE_DATA=ds_if_cust_dtl_data:a";
	var	strOutDatasets = "ds_if_cust_dtl_common=DS_COMMON ds_if_cust_dtl_header=DS_HEADER ds_if_cust_dtl_column=DS_COLUMN ds_if_cust_dtl_record=DS_RECORD";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBack";
	var strProcessBar = false;		


	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);
}

// 고객상세조회 후 처리
function fn_setCustInfo()
{ 		
	var objCnslDs 		= this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];		// 상담일련번호 DS
	var objObSelDs		= this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_sel_cust"];			// OB리스트 조회한 고객DS
	var objSrchedCustDs	= this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_srched_cust"];		// 상담 조회고객
	
	if(objCnslDs.rowcount < 1){							// 진행중 상담이 없는 경우
		this.all["Tab_CntctHistInfo"].tabindex 	= 0;
		this.all["Tab_CntctHistInfo"]["tabpage1"].all["Tab_CnslCtt"].tabindex = 0;
	}

	ds_srch_flg.setColumn(0,"FLAG",strSrchFlg);						// 고객조회flag(0:default, 1:OB 캠페인, 2:OB Email , 3:예약콜)
	ds_srch_flg.setColumn(0,"INBND_CMP_YN","N");					// 인바운드캠페인 flag 세팅
	ds_srch_flg.setColumn(0,"FRCH_YN","N");							// 가맹점 조회 여부
	
	 // 고객정보 형식변경
	fn_fixFormCustInfo();
			
	// 상담화면 각 탭마다 탭처리여부 세팅
	// 고객 조회 후 탭 선택시 최초 한번만 처리하도록 한다.
	for(i=0; i < ds_tab_proc_yn.getColCount(); i++)
	{
		ds_tab_proc_yn.setColumn(0,i,"Y");
	}		
			
	// 상담생성된 경우 OB리스트 고객조회가 아닌경우 조회고객 추가
//	if(objCnslDs.rowcount > 0){
//		if(ds_srched_cust.rowcount > 0 && ds_srch_flg.getColumn(0,"FLAG") == "0"){
		if(ds_srch_flg.getColumn(0,"FLAG") == "0"){	
			if(ds_srched_cust.findRow("CUST_NO",ds_cust_info.getColumn(0,"IO_CUST_NO")) == -1){
				ds_srched_cust.addRow();
				ds_srched_cust.setColumn(ds_srched_cust.rowposition,"CUST_NO",ds_cust_info.getColumn(0,"IO_CUST_NO"));
				ds_srched_cust.setColumn(ds_srched_cust.rowposition,"CUST_NM",ds_cust_info.getColumn(0,"OT_CUST_NM"));
				ds_srched_cust.setColumn(ds_srched_cust.rowposition,"WEB_ID",ds_cust_info.getColumn(0,"OT_WEB_ID"));
				ds_srched_cust.setColumn(ds_srched_cust.rowposition,"CUST_DIV_CD",ds_cust_info.getColumn(0,"OT_CUST_DIV_CD"));
			}
		}else if(ds_srch_flg.getColumn(0,"FLAG") == "2"){
			if(getTrim(objSrchedCustDs.getColumn(0,"CUST_NO")).substr(0,1) == "E"){
				ds_srched_cust.clearData();
			}
			
			if(getTrim(objObSelDs.getColumn(0,"CUST_NO")).substr(0,1) == "E"){
				ds_srched_cust.addRow();
				ds_srched_cust.setColumn(ds_srched_cust.rowposition,"CUST_NO",ds_cust_info.getColumn(0,"IO_CUST_NO"));
				ds_srched_cust.setColumn(ds_srched_cust.rowposition,"CUST_NM",ds_cust_info.getColumn(0,"OT_CUST_NM"));
				ds_srched_cust.setColumn(ds_srched_cust.rowposition,"WEB_ID",ds_cust_info.getColumn(0,"OT_WEB_ID"));
				ds_srched_cust.setColumn(ds_srched_cust.rowposition,"CUST_DIV_CD",ds_cust_info.getColumn(0,"OT_CUST_DIV_CD"));						
			}
		}
//	}
	
		
	// 최근고객조회 콤보에 고객 추가
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") != ""){
		if(gds_CustCmb.findRow("CUST_NO",ds_cust_info.getColumn(0,"IO_CUST_NO")) == -1){
			gds_CustCmb.addRow();
			gds_CustCmb.setColumn(gds_CustCmb.rowposition,"CUST_NO",ds_cust_info.getColumn(0,"IO_CUST_NO"));
			gds_CustCmb.setColumn(gds_CustCmb.rowposition,"CUST_NM",ds_cust_info.getColumn(0,"OT_CUST_NM") + "(" + ds_cust_info.getColumn(0,"IO_CUST_NO") + ")" );
		}
	}
	
	// 2012.01 콜백번호 세팅
	if(getTrim(GetUserInfo("gGRP_CD")) == "SMT"){
		if(ds_smt_callbck.rowcount > 0){
			Edt_EtcPhone.value = maskPhone(getTrim(ds_smt_callbck.getColumn(0,"HOPE_TEL_NO")));
		}
	}	
	
	// 고객 Summary 조회	
	this.all["Tab_SmryInfo"]["tabpage1"].fn_srchFormData();			// Summary
	
	//개인/법인 구분에 따라 고객명 수정가능여부처리
	if(ds_cust_info.getColumn(0,"OT_CUST_DIV_CD") == "01"){	//개인
		Edt_CustNm.readonly = true;		//고객명 수정못하게 처리
		if(GetUserInfo("gUSR_GRD_CD") == "D" || GetUserInfo("gUSR_GRD_CD") == "A"){
			Edt_CelPhone.readonly = false;	//파트장권한 수정 가능
		}else{  
			Edt_CelPhone.readonly = true;	//휴대폰번호 수정못하게 처리
		}		
	}else{	//법인
		Edt_CustNm.readonly = false;	//고객명 수정 가능하도록 오픈
		Edt_CelPhone.readonly = false;	//휴대폰번호 수정 가능하도록 오픈
	} 
					
	//콜백 탭 고객 조회 후 후처리 2017.06.29
	if(callbackYn == "Y" && objCnslDs.rowcount < 1){ 			
		
		//this.all["Tab_CntctHistInfo"]["tabpage1"].fn_creCnslSeq();
		
		/* 허선화D Callback 자동 발신 차단 요청 20180820
		if(getTrim(Edt_CelPhone.value).replace("-","") != ""){
			objPHN.setEventProcGbn("objPHNBNS");	// objPHNBNS, objPHNORD, objPHNCMP, objPHNLPS						
			objPHN.setMakeCall('9' + getTrim(Edt_CelPhone.value).replace("-",""),"BNS");																	
		}
		*/
	}			
}


// 이노믹스메일 임시고객 선택시
function fn_setTempEnmix()
{
	var objCnslDs 		= this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];	// 상담일련번호 DS
	
	if(objCnslDs.rowcount > 0){
		cf_Alert("BNSE0055","처리");	
		return;
	}
	
	if(objCnslDs.rowcount < 1){							// 진행중 상담이 없는 경우
		this.all["Tab_CntctHistInfo"].tabindex 	= 0;
		this.all["Tab_CntctHistInfo"]["tabpage1"].all["Tab_CnslCtt"].tabindex = 0;
	}
	
	ds_srch_flg.setColumn(0,"FLAG",strSrchFlg);						// 고객조회flag(0:default, 1:OB 캠페인, 2:OB Email , 3:예약콜)
	ds_srch_flg.setColumn(0,"INBND_CMP_YN","N");					// 인바운드캠페인 flag 세팅
	ds_srch_flg.setColumn(0,"FRCH_YN","N");							// 가맹점 조회 여부		
	
	this.all["Tab_CrdInfo"]["tabpage1"].fn_srchFormData();			// 카드정보가 정상조회 되었을 때 정상카드정보	
	// 구매이력
	fn_setNewCustTabPage();
	// 상담생성
	this.all["Tab_CntctHistInfo"]["tabpage1"].fn_creCnslSeq();
	
}

// 상세조회 후 데이터 형식 수정
function fn_fixFormCustInfo()
{

	// 전화번호 및 포인트정보 세팅
	var str_RsBzNo 		= getTrim(ds_cust_info.getColumn(0,"OT_HEAD_RS_BZ_NO"))  + getTrim(ds_cust_info.getColumn(0,"OT_TAIL_RS_BZ_NO"));	
	var str_HomePhn		= getTrim(ds_cust_info.getColumn(0,"OT_HOME_PHONE_DDD")) + getTrim(ds_cust_info.getColumn(0,"OT_HOME_PHONE_FSTNO")) + getTrim(ds_cust_info.getColumn(0,"OT_HOME_PHONE_LASTNO"));
	var str_OffPhn		= getTrim(ds_cust_info.getColumn(0,"OT_OFF_PHONE_DDD"))  + getTrim(ds_cust_info.getColumn(0,"OT_OFF_PHONE_FSTNO"))  + getTrim(ds_cust_info.getColumn(0,"OT_OFF_PHONE_LASTNO"));
	var str_HndPhn		= getTrim(ds_cust_info.getColumn(0,"OT_HND_PHONE_DDD"))  + getTrim(ds_cust_info.getColumn(0,"OT_HND_PHONE_FSTNO"))  + getTrim(ds_cust_info.getColumn(0,"OT_HND_PHONE_LASTNO"));
	var str_FaxPhn		= getTrim(ds_cust_info.getColumn(0,"OT_FAX_PHONE_DDD"))  + getTrim(ds_cust_info.getColumn(0,"OT_FAX_PHONE_FSTNO"))  + getTrim(ds_cust_info.getColumn(0,"OT_FAX_PHONE_LASTNO"));	
	var strCurPtSet    	= "";
	var strBfIntgPtSet 	= "";
		
	// 일반
	if(getTrim(ds_cust_info.getColumn(0,"OT_GNRL_PT")) != "" && getTrim(ds_cust_info.getColumn(0,"OT_GNRL_PT")) != "0"){
		strCurPtSet = strCurPtSet + getTrim(ds_cust_info.getColumn(0,"OT_GNRL_PT")) + " / ";
	}else{
		strCurPtSet = strCurPtSet + "0" + " / ";	
	}
	// 특별
	if(getTrim(ds_cust_info.getColumn(0,"OT_SPCL_PT")) != "" && getTrim(ds_cust_info.getColumn(0,"OT_SPCL_PT")) != "0"){
		strCurPtSet = strCurPtSet + getTrim(ds_cust_info.getColumn(0,"OT_SPCL_PT")) + " / ";
	}else{
		strCurPtSet = strCurPtSet + "0" + " / ";
	}			
	// 제휴
	if(getTrim(ds_cust_info.getColumn(0,"OT_CPRT_PT")) != "" && getTrim(ds_cust_info.getColumn(0,"OT_CPRT_PT")) != "0"){
		strCurPtSet = strCurPtSet + getTrim(ds_cust_info.getColumn(0,"OT_CPRT_PT"));
	}else{
		strCurPtSet = strCurPtSet + "0";		
	}

	// GSC
	if(getTrim(ds_cust_info.getColumn(0,"OT_BF_INTG_PT_GSC")) != "" && getTrim(ds_cust_info.getColumn(0,"OT_BF_INTG_PT_GSC")) != "0"){
		strBfIntgPtSet = strBfIntgPtSet + getTrim(ds_cust_info.getColumn(0,"OT_BF_INTG_PT_GSC")) + " / ";
	}else{
		strBfIntgPtSet = strBfIntgPtSet + "0" + " / ";	
	}
	// GSH
	if(getTrim(ds_cust_info.getColumn(0,"OT_BF_INTG_PT_GSH")) != "" && getTrim(ds_cust_info.getColumn(0,"OT_BF_INTG_PT_GSH")) != "0"){
		strBfIntgPtSet = strBfIntgPtSet + getTrim(ds_cust_info.getColumn(0,"OT_BF_INTG_PT_GSH")) + " / ";
	}else{
		strBfIntgPtSet = strBfIntgPtSet + "0" + " / ";	
	}
	// GSR
	if(getTrim(ds_cust_info.getColumn(0,"OT_BF_INTG_PT_GSR")) != "" && getTrim(ds_cust_info.getColumn(0,"OT_BF_INTG_PT_GSR")) != "0"){
		strBfIntgPtSet = strBfIntgPtSet + getTrim(ds_cust_info.getColumn(0,"OT_BF_INTG_PT_GSR"));
	}else{
		strBfIntgPtSet = strBfIntgPtSet + "0";	
	}	

	ds_cust_info.setColumn(0,"OT_RS_BZ_NO",str_RsBzNo);	
	ds_cust_info.setColumn(0,"OT_HOME_PHONE_NO",maskPhone(str_HomePhn));
	ds_cust_info.setColumn(0,"OT_OFF_PHONE_NO",maskPhone(str_OffPhn));
	ds_cust_info.setColumn(0,"OT_HND_PHONE_NO",maskPhone(str_HndPhn));
	ds_cust_info.setColumn(0,"OT_FAX_PHONE_NO",maskPhone(str_FaxPhn));
	ds_cust_info.setColumn(0,"OT_CUR_PT_SET",strCurPtSet);
	ds_cust_info.setColumn(0,"OT_BF_INTG_PT_SET",strBfIntgPtSet);
	
	ds_if_cust_dtl_record.setColumn(0,"OT_RS_BZ_NO",str_RsBzNo);	
	ds_if_cust_dtl_record.setColumn(0,"OT_HOME_PHONE_NO",maskPhone(str_HomePhn));
	ds_if_cust_dtl_record.setColumn(0,"OT_OFF_PHONE_NO",maskPhone(str_OffPhn));
	ds_if_cust_dtl_record.setColumn(0,"OT_HND_PHONE_NO",maskPhone(str_HndPhn));
	ds_if_cust_dtl_record.setColumn(0,"OT_FAX_PHONE_NO",maskPhone(str_FaxPhn));
	ds_if_cust_dtl_record.setColumn(0,"OT_CUR_PT_SET",strCurPtSet);
	ds_if_cust_dtl_record.setColumn(0,"OT_BF_INTG_PT_SET",strBfIntgPtSet);	
	
	if(getTrim(ds_cust_info.getColumn(0,"OT_HOME_TPHN_ERR_YN")) == "Y"){
		Chk_HomePhnErrYn.value = true;
	}
	if(getTrim(ds_cust_info.getColumn(0,"OT_WKST_TPHN_ERR_YN")) == "Y"){
		Chk_OffPhnErrYn.value = true;
	}
	if(getTrim(ds_cust_info.getColumn(0,"OT_CPHN_TPHN_ERR_YN")) == "Y"){
		Chk_CelPhnErrYn.value = true;
	}
	
	// 웹아이디 세팅
	var strWebId		= "";
	var strWebIdFlg		= "";
	
	if(getTrim(ds_cust_info.getColumn(0,"OT_WEB_ID")) != ""){
		if(getTrim(ds_cust_info.getColumn(0,"OT_WEB_ID")).indexOf("@") >= 1){
			var arrWebId = getTrim(ds_cust_info.getColumn(0,"OT_WEB_ID")).split("@");
			strWebId 	= arrWebId[0];
			strWebIdFlg = arrWebId[1];
			ds_cust_info.setColumn(0,"OT_WEB_ID",strWebId);
			if(strWebIdFlg == "Y"){
				Stt_WebId.text = "웹아이디(통합)";
			}else{
				Stt_WebId.text = "웹아이디(자사)";				
			}
		}else{
			ds_cust_info.setColumn(0,"OT_WEB_ID",getTrim(ds_cust_info.getColumn(0,"OT_WEB_ID")));			
		}
	}
	
	// 정보수정일, 통합동의일 세팅
	if(getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_INPT_DTIME")) != "" ){
		ds_cust_info.setColumn(0,"OT_INPT_DTIME",fn_cnvtDtToStr(ds_if_cust_dtl_record.getColumn(0,"OT_INPT_DTIME")));
	}	
	
	if(getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_FST_GRP_AGR_DTIME")) != ""){
		ds_cust_info.setColumn(0,"OT_FST_GRP_AGR_DTIME",fn_cnvtDtToStr(ds_if_cust_dtl_record.getColumn(0,"OT_FST_GRP_AGR_DTIME")));
	}
	
	if(getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_FST_REG_DT")) != ""){
		ds_cust_info.setColumn(0,"OT_FST_REG_DT",fn_cnvtDtToStr(ds_if_cust_dtl_record.getColumn(0,"OT_FST_REG_DT")));
	}	
	
	//본인인증일시
	if(getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_AUTHN_DTIME")) != ""){
		ds_cust_info.setColumn(0,"OT_AUTHN_DTIME",fn_cnvtDtToStr(ds_if_cust_dtl_record.getColumn(0,"OT_AUTHN_DTIME")));
	}
	
	// 주민사업번호 뒷자리 마스킹(주민번호 마스킹처리됨)
//	Msk_TailRsBzNo.mask = maskPassWord(Msk_TailRsBzNo.value);
/*	
	// 수신거부 색변경
	if(getTrim(ds_cust_info.getColumn(0,"OT_EM_RCV_YN")) == "N"){
		Edt_EmlAddr.style.color = "orangered";
	}else{
		Edt_EmlAddr.style.color = "#4d4d4dff";
	}
	
	if(getTrim(ds_cust_info.getColumn(0,"OT_TM_RCV_YN")) == "N"){
		Edt_HomePhone.style.color 	= "orangered";
		Edt_OffPhone.style.color 	= "orangered";
		Edt_CelPhone.style.color 	= "orangered";
		Edt_EtcPhone.style.color 	= "orangered";
	}else{
		Edt_HomePhone.style.color 	= "#4d4d4dff";
		Edt_OffPhone.style.color 	= "#4d4d4dff";
		Edt_CelPhone.style.color 	= "#4d4d4dff";
		Edt_EtcPhone.style.color 	= "#4d4d4dff";
	}
		
	if(getTrim(ds_cust_info.getColumn(0,"OT_SMS_RCV_YN")) == "N"){
		Edt_CelPhone.style.color 	= "orangered";
	}else{
		Edt_CelPhone.style.color 	= "#4d4d4dff";
	}
*/	
	
	// 고객상태(해지는 색변경)
	//그냥 전부 빨간색으로 변경
	/*
	if(getTrim(ds_cust_info.getColumn(0,"OT_CUST_ST_CD")) == "02"){
		Edt_CustSt.style.color 	= "orangered";
		Edt_CustSt.style.font = "Dotum,8,bold";

	}else{
		Edt_CustSt.style.color 	= "#4d4d4dff";
		Edt_CustSt.style.font = "Dotum,9";			
	}		
		*/
	// 부정고객여부(부정은 색변경)
	if(getTrim(ds_cust_info.getColumn(0,"OT_WRNG_ST_CD")) == "02"){
		Edt_WrngSt.style.color 	= "orangered";
		Edt_WrngSt.style.font = "Dotum,8,bold";
	
	}else{
		Edt_WrngSt.style.color 	= "#4d4d4dff";
		Edt_WrngSt.style.font = "Dotum,9";	
	}
		
	// 성별이 다른 경우 성별 수정가능
	if(getTrim(ds_cust_info.getColumn(0,"OT_TAIL_RS_BZ_NO")).substr(0,1) == "1" || getTrim(ds_cust_info.getColumn(0,"OT_TAIL_RS_BZ_NO")).substr(0,1) == "3"){
		if(getTrim(ds_cust_info.getColumn(0,"OT_SEX_CD")) == "2"){
			Cmb_GndrDiv.readonly = false;
		}else{
			Cmb_GndrDiv.readonly = true;
		}
	}
	
	if(getTrim(ds_cust_info.getColumn(0,"OT_TAIL_RS_BZ_NO")).substr(0,1) == "2" || getTrim(ds_cust_info.getColumn(0,"OT_TAIL_RS_BZ_NO")).substr(0,1) == "4"){
		if(getTrim(ds_cust_info.getColumn(0,"OT_SEX_CD")) == "1"){
			Cmb_GndrDiv.readonly = false;			
		}else{
			Cmb_GndrDiv.readonly = true;			
		}
	}	
}

// 고객정보조회내역 등록 - 사용안함
function fn_insrtCustSrchHist(strParaCustNo)
{
	ds_if_cuis_ins_env.clearData();
	ds_if_cuis_ins_data.clearData();
	ds_if_cuis_ins_common.clearData();
	ds_if_cuis_ins_header.clearData();

	// IF ENV DS
	fn_setIfEnvDs(ds_if_cuis_ins_env,"WAS","cmCuisInsC01.do","","STP_CM_CUIS_INS_C01_Rsp","","");	

	// IF DATA DS		
	fun_ds_srch(ds_if_cuis_ins_data, "req_chnl_code","610050");
	fun_ds_srch(ds_if_cuis_ins_data, "input_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_cuis_ins_data, "input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
	fun_ds_srch(ds_if_cuis_ins_data, "input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));
	
	fun_ds_srch(ds_if_cuis_ins_data, "in_req_chnl_cd","610050");
	fun_ds_srch(ds_if_cuis_ins_data, "in_cust_no",strParaCustNo);
	fun_ds_srch(ds_if_cuis_ins_data, "in_rmk","STP_CM_CUSTDTL_SEL_C07:고객정보상세조회");
	fun_ds_srch(ds_if_cuis_ins_data, "in_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_cuis_ins_data, "in_ip",getTrim(GetUserInfo("gLGIN_IP")));
	
	var	strSvcID = "IF_CSC_ITRT_020";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_cuis_ins_env:a INTERFACE_DATA=ds_if_cuis_ins_data:a";
	var	strOutDatasets = "ds_if_cuis_ins_common=DS_COMMON ds_if_cuis_ins_header=DS_HEADER";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBackCuisIns";
	
	if(getTrim(ds_srch_flg.getColumn(0,"CALL_IN_YN")) == "Y"){
		var strProcessBar = false;
	}else{
		var strProcessBar = true;		
	}
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);			
	
}

// 고객등급조회
function fn_srchCustGrd(strParaCustNo)
{
	ds_if_class_sel_env.clearData();
	ds_if_class_sel_data.clearData();
	ds_if_class_sel_common.clearData();
	ds_if_class_sel_header.clearData();
	ds_if_class_sel_column.clearData();
	ds_if_class_sel_record.clearData();

	// IF ENV DS
	fn_setIfEnvDs(ds_if_class_sel_env,"WAS","cmDwcustSelC01.do","","STP_CM_DWCUST_SEL_C01_Rsp","","OT_OUT_CURSOR");	

	// IF DATA DS		
	fun_ds_srch(ds_if_class_sel_data, "req_chnl_code","610050");
	fun_ds_srch(ds_if_class_sel_data, "input_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_class_sel_data, "input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
	fun_ds_srch(ds_if_class_sel_data, "input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));
	fun_ds_srch(ds_if_class_sel_data, "in_cust_no",strParaCustNo);
	
	var	strSvcID = "IF_CSC_ITRT_043";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_class_sel_env:a INTERFACE_DATA=ds_if_class_sel_data:a";
	var	strOutDatasets = "ds_if_class_sel_common=DS_COMMON ds_if_class_sel_header=DS_HEADER ds_if_class_sel_column=DS_COLUMN ds_if_class_sel_record=DS_RECORD";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBackCls";
	
	if(getTrim(ds_srch_flg.getColumn(0,"CALL_IN_YN")) == "Y"){
		var strProcessBar = false;
	}else{
		var strProcessBar = true;		
	}
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);			
}

// 고객등급세팅 - 상세조회와 등급조회중 어느것이 먼저 결과가 올지 모르기 때문에 call back과 Summary에서 각각 호출
function fn_setCustCls()
{
	if(ds_if_class_sel_record.rowcount < 1){
		return;
	}else{
		if(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO") != "" && getTrim(ds_cust_info.getColumn(0,"PCON_CUST_GRD_NM")) == "")){
			if(getTrim(ds_if_class_sel_record.getColumn(0,"PCON_CUST_GRD")) =="10"){
				ds_cust_info.setColumn(0,"PCON_CUST_GRD_NM","일반고객");		
			}else if(getTrim(ds_if_class_sel_record.getColumn(0,"PCON_CUST_GRD")) =="20"){
				ds_cust_info.setColumn(0,"PCON_CUST_GRD_NM","우수고객");		
			}else{
				ds_cust_info.setColumn(0,"PCON_CUST_GRD_NM",getTrim(ds_if_class_sel_record.getColumn(0,"PCON_CUST_GRD_NM")));		
			}
		}
	}
}

// 고객카드발급내역조회
function fn_srchCrdInfo()
{
	ds_if_crd_pblc_env.clearData();
	ds_if_crd_pblc_data.clearData();
	ds_if_crd_pblc_common.clearData();
	ds_if_crd_pblc_header.clearData();
	ds_if_crd_pblc_column.clearData();
	ds_if_crd_pblc_record.clearData();
	
	// IF ENV DS
	fn_setIfEnvDs(ds_if_crd_pblc_env,"WAS","cmCrdpblcSelC03.do","","STP_CM_CRDPBLC_SEL_C03_Rsp","","OT_OUT_CURSOR");
		
	fun_ds_srch(ds_if_crd_pblc_data, "req_chnl_code","610050");
	fun_ds_srch(ds_if_crd_pblc_data, "input_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_crd_pblc_data, "input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
	fun_ds_srch(ds_if_crd_pblc_data, "input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));
	fun_ds_srch(ds_if_crd_pblc_data, "in_cust_no",getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));
	fun_ds_srch(ds_if_crd_pblc_data, "in_crd_no","");
	fun_ds_srch(ds_if_crd_pblc_data, "in_flag","1");		
	
	var	strSvcID = "IF_CSC_ITRT_061";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_crd_pblc_env:a INTERFACE_DATA=ds_if_crd_pblc_data:a";
	var	strOutDatasets = "ds_if_crd_pblc_common=DS_COMMON ds_if_crd_pblc_header=DS_HEADER ds_if_crd_pblc_column=DS_COLUMN ds_if_crd_pblc_record=DS_RECORD";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBack";
	
	if(getTrim(ds_srch_flg.getColumn(0,"CALL_IN_YN")) == "Y"){
		var strProcessBar = false;
	}else{
		var strProcessBar = true;		
	}
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);	
}

// 고객카드발급내역조회 - 후처리용
function fn_srchCrdInfoAftrProc(strParaCustNo)
{
	cf_trace("고객카드발급내역조회",strParaCustNo);
	ds_if_crd_pblc_env.clearData();
	ds_if_crd_pblc_data.clearData();
	ds_if_crd_pblc_common.clearData();
	ds_if_crd_pblc_header.clearData();
	ds_if_crd_pblc_column.clearData();
	ds_if_crd_pblc_record.clearData();
	
	// IF ENV DS
	fn_setIfEnvDs(ds_if_crd_pblc_env,"WAS","cmCrdpblcSelC03.do","","STP_CM_CRDPBLC_SEL_C03_Rsp","","OT_OUT_CURSOR");
		
	fun_ds_srch(ds_if_crd_pblc_data, "req_chnl_code","610050");
	fun_ds_srch(ds_if_crd_pblc_data, "input_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_crd_pblc_data, "input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
	fun_ds_srch(ds_if_crd_pblc_data, "input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));
	fun_ds_srch(ds_if_crd_pblc_data, "in_cust_no",strParaCustNo);
	fun_ds_srch(ds_if_crd_pblc_data, "in_crd_no","");
	fun_ds_srch(ds_if_crd_pblc_data, "in_flag","1");		
	
	var	strSvcID = "IF_CSC_ITRT_061_AftrProc";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_crd_pblc_env:a INTERFACE_DATA=ds_if_crd_pblc_data:a";
	var	strOutDatasets = "ds_if_crd_pblc_common=DS_COMMON ds_if_crd_pblc_header=DS_HEADER ds_if_crd_pblc_column=DS_COLUMN ds_if_crd_pblc_record=DS_RECORD";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBack";
	var strProcessBar = false;	
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);	
}



// 카드발급내역 조회 후
function fn_setPblcCrdInfo()
{

	for(i=0;i<ds_if_crd_pblc_record.rowcount;i++)
	{
		if(ds_if_crd_pblc_record.getColumn(i,"MOD_USER_ID") != ""){			
			var arrModUsrId 	= ds_if_crd_pblc_record.getColumn(i,"MOD_USER_ID").split("/");
			if(arrModUsrId.length > 2){
				ds_if_crd_pblc_record.setColumn(i,"INPUT_CHNL",arrModUsrId[0]);
				ds_if_crd_pblc_record.setColumn(i,"INPUT_DT",arrModUsrId[1]);
				ds_if_crd_pblc_record.setColumn(i,"CRD_MASTER",arrModUsrId[2]);
				ds_if_crd_pblc_record.setColumn(i,"SERIAL",arrModUsrId[3]);												
			}			
		}
		
		//현장할인 코드/코드명 분리 2013.04
		if(ds_if_crd_pblc_record.getColumn(i,"FILD_DCNT_NM") != ""){			
			var arrModUsrId 	= ds_if_crd_pblc_record.getColumn(i,"FILD_DCNT_NM").split("/");
			if(arrModUsrId.length > 1){
				ds_if_crd_pblc_record.setColumn(i,"FILD_DCNT_CD",arrModUsrId[0]);
				ds_if_crd_pblc_record.setColumn(i,"FILD_DCNT_NM",arrModUsrId[1]);
															
			}			
		}
		
		ds_if_crd_pblc_record.setColumn(i,"CVC_CD",cvcCheck(ds_if_crd_pblc_record.getColumn(i,"CRD_NO")));
	}	
			
	this.all["Tab_CrdInfo"]["tabpage1"].fn_srchFormData();			// 카드정보가 정상조회 되었을 때 정상카드정보
}

//------------------------------------------------------------------------------------------
// CVC계산식 - BNS420참고
//------------------------------------------------------------------------------------------
function cvcCheck(cvcvalue){
//var cvcvalue = cvcdata;

	var excelcvc = (MOD(10-MOD((parseInt(cvcvalue.substr(0,1))+parseInt(cvcvalue.substr(2,1))+parseInt(cvcvalue.substr(4,1))+parseInt(cvcvalue.substr(6,1))+parseInt(cvcvalue.substr(8,1))+parseInt(cvcvalue.substr(10,1))+parseInt(cvcvalue.substr(12,1))+parseInt(cvcvalue.substr(14,1))),10),10))*100+
(MOD(10-MOD((parseInt(cvcvalue.substr(1,1))+parseInt(cvcvalue.substr(3,1))+parseInt(cvcvalue.substr(5,1))+parseInt(cvcvalue.substr(7,1))+parseInt(cvcvalue.substr(9,1))+parseInt(cvcvalue.substr(11,1))+parseInt(cvcvalue.substr(13,1))+parseInt(cvcvalue.substr(15,1))),10),10))*10+
MOD((10-MOD(7*(MOD(10-MOD((parseInt(cvcvalue.substr(0,1))+parseInt(cvcvalue.substr(2,1))+parseInt(cvcvalue.substr(4,1))+parseInt(cvcvalue.substr(6,1))+parseInt(cvcvalue.substr(8,1))+parseInt(cvcvalue.substr(10,1))+parseInt(cvcvalue.substr(12,1))+parseInt(cvcvalue.substr(14,1))),10),10))+
9*(MOD(10-MOD((parseInt(cvcvalue.substr(1,1))+parseInt(cvcvalue.substr(3,1))+parseInt(cvcvalue.substr(5,1))+parseInt(cvcvalue.substr(7,1))+parseInt(cvcvalue.substr(9,1))+parseInt(cvcvalue.substr(11,1))+parseInt(cvcvalue.substr(13,1))+parseInt(cvcvalue.substr(15,1))),10),10)),10)),10);

	return excelcvc;
}
//------------------------------------------------------------------------------------------
//  MOD함수 - BNS420참고
//------------------------------------------------------------------------------------------
function MOD(aa,bb){
	var cc=aa%bb;
	return cc;
}



// 고객 정상조회시 구매이력, 접촉저장 탭페이지 세팅
// 개인고객은 Summary(BNS050) 에서 호출

function fn_setNewCustTabPage()
{
	var objCnslDs = this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];	// 상담일련번호 DS	
	this.all["Tab_BnsHistInfo"]["tabpage1"].fn_srchNewCust();		// 구매이력
	
	if(objCnslDs.rowcount < 1){										// 진행중 상담이 없는 경우
		this.all["Tab_CntctHistInfo"]["tabpage1"].fn_srchNewCust();
//	}else if(objCnslDs.rowcount > 0 && this.all["Tab_CntctHistInfo"].tabindex== 0){
//		this.all["Tab_CntctHistInfo"]["tabpage1"].fn_srchFormData();	
	}else if(objCnslDs.rowcount > 0){	  
		Tab_CntctHistInfo_onchanged();
	}	
}

// 별명은 한글, 영문, 숫자만 입력가능
function fn_validNkNm(strNm)
{
	var regExp	=/[^a-zA-Z0-9ㄱ-ㅎㅏ-ㅣ가-힣]/;

	if(regExp.test(strNm)) {
		cf_Alert("BNSE0051");		
		return false;
	}
	
	return true;
}

// 고객정보수정 IF DATA DS 및 업무처리정보, 변경이력통계용 DS 세팅
function fn_setCustUptDataDs()
{	
	if(getTrim(Edt_CustNm.value) == ""){
		cf_Alert("COME0007","고객명");
		Edt_CustNm.setFocus();
		return false;
	}
	
	// 기존에 DM발송구분이 있으면 인터페이스에서 NULL 처리 안됨 --고객요구로 제거 2012.02.02(진정화/진현주)
	/*
	if(getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_DM_SEND_DIV_CD")) != "" && getTrim(Cmb_DmSendDiv.value) == ""){
		cf_Alert("COME0008","우편물 수신처");
		Cmb_DmSendDiv.setFocus();
		return false;
	}
	*/
	
	// 자택, 직장주소 중 하나는 필수(반송은 제외) --고객요구로 체크 제거2012.02.20(진정화/진현주)
	/*
	if(		getTrim(ds_cust_info.getColumn(0,"OT_HOME_PHONE_NO")).replace("-","") == ""
		&&	getTrim(ds_cust_info.getColumn(0,"OT_OFF_PHONE_NO")).replace("-","") == ""
		&&	getTrim(ds_cust_info.getColumn(0,"OT_HND_PHONE_NO")).replace("-","") == ""){
		cf_Alert("BNSE0052","전화번호");		
		return false;
	}
	*/
	// 자택전화
	var arrHmPhn 	= getTrim(ds_cust_info.getColumn(0,"OT_HOME_PHONE_NO")).split("-");
	var strHmPhnDdd = "";
	var strHmPhnFst = "";
	var strHmPhnLst = "";
	var strAfHmPhn	= getTrim(ds_cust_info.getColumn(0,"OT_HOME_PHONE_NO")).replace("-","");
	var strBfHmPhn	= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_HOME_PHONE_NO")).replace("-","");
	
	if(arrHmPhn.length > 1){
		if(arrHmPhn.length == 2){
			strHmPhnFst = arrHmPhn[0];
			strHmPhnLst = arrHmPhn[1];
		}else if(arrHmPhn.length == 3){
			strHmPhnDdd	= arrHmPhn[0];
			strHmPhnFst = arrHmPhn[1];
			strHmPhnLst = arrHmPhn[2];		
		}else{
			cf_Alert("COME0029","저장","자택전화번호");
			Edt_HomePhone.setFocus();
			return false;			
		}
	}else{
		if(getTrim(ds_cust_info.getColumn(0,"OT_HOME_PHONE_NO"))!=""){
			cf_Alert("COME0029","저장","자택전화번호");
			Edt_HomePhone.setFocus();
			return false;
		}
	}	
	
	// 직장전화
	var arrOfPhn 	= getTrim(ds_cust_info.getColumn(0,"OT_OFF_PHONE_NO")).split("-");
	var strOfPhnDdd = "";
	var strOfPhnFst = "";
	var strOfPhnLst = "";
	var strAfOfPhn	= getTrim(ds_cust_info.getColumn(0,"OT_OFF_PHONE_NO")).replace("-","");
	var strBfOfPhn	= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_OFF_PHONE_NO")).replace("-","");	
	
	if(arrOfPhn.length > 1){	
		if(arrOfPhn.length == 2){
			strOfPhnFst = arrOfPhn[0];
			strOfPhnLst = arrOfPhn[1];
		}else if(arrOfPhn.length == 3){
			strOfPhnDdd	= arrOfPhn[0];
			strOfPhnFst = arrOfPhn[1];
			strOfPhnLst = arrOfPhn[2];		
		}else{
			cf_Alert("COME0029","저장","직장전화번호");
			Edt_OffPhone.setFocus();
			return false;
		}
	}else{
		if(getTrim(ds_cust_info.getColumn(0,"OT_OFF_PHONE_NO"))!=""){
			cf_Alert("COME0029","저장","직장전화번호");
			Edt_OffPhone.setFocus();
			return false;
		}
	}
	// 휴대전화
	var arrClPhn 	= getTrim(ds_cust_info.getColumn(0,"OT_HND_PHONE_NO")).split("-");
	var strClPhnDdd = "";
	var strClPhnFst = "";
	var strClPhnLst = "";
	var strAfClPhn	= getTrim(ds_cust_info.getColumn(0,"OT_HND_PHONE_NO")).replace("-","");
	var strBfClPhn	= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_HND_PHONE_NO")).replace("-","");
		
		
		
	
	if(arrClPhn.length > 1){	
		if(arrClPhn.length == 3){
			strClPhnDdd	= arrClPhn[0];
			strClPhnFst = arrClPhn[1];
			strClPhnLst = arrClPhn[2];
		}else{
		//	cf_Alert("COME0029","저장","휴대전화번호");
		//	Edt_CelPhone.setFocus();
		//	return false;
		}
	}else{
		//if(getTrim(ds_cust_info.getColumn(0,"OT_HND_PHONE_NO"))!=""){
		//	cf_Alert("COME0029","저장","휴대전화번호");
		//	Edt_CelPhone.setFocus();
		//	return false;
		//}
	}
	/*
	if(strClPhnDdd != ""){
		// 전화번호 앞자리 체크
		ds_cphon_head_no.clearData();
		ds_cphon_head_no.copyData(gds_CommCode,false);  
		ds_cphon_head_no.filter("GROUPCODE == 'NW108' && USE_YN =='Y'");
		if(ds_cphon_head_no.findRow("CODE",strClPhnDdd) == -1){
			cf_Alert("BNSE0053",strClPhnDdd);
			Edt_CelPhone.setFocus();
			return false;
		}
	}*/
	
		
	// 자택, 직장주소 중 하나는 필수(반송은 제외) --고객요구로 주소 체크 제거2012.02.20(진정화/진현주)
	/*
	if(getTrim(ds_cust_info.getColumn(0,"OT_DM_SEND_DIV_CD")) != "3"){
		if(		getTrim(ds_cust_info.getColumn(0,"OT_HOME_ZIP_CODE")).replace("-","") == ""
			&&  getTrim(ds_cust_info.getColumn(0,"OT_OFF_ZIP_CODE")).replace("-","") == ""){
			cf_Alert("BNSE0052","주소");		
			return false;
		}
	}
	*/
	
	if(		getTrim(ds_cust_info.getColumn(0,"OT_HOME_ZIP_CODE")).replace("-","") != ""
		&&  getTrim(ds_cust_info.getColumn(0,"OT_HOME_ADDR")) == ""){
		cf_Alert("COME0007","자택상세주소");		
		return false;
	}
	
	if(		getTrim(ds_cust_info.getColumn(0,"OT_OFF_ZIP_CODE")).replace("-","") != ""
		&&  getTrim(ds_cust_info.getColumn(0,"OT_OFF_ADDR")) == ""){
		cf_Alert("COME0007","직장상세주소");		
		return false;
	}	

	// Email주소 형식체크
	if(getTrim(Edt_EmlAddr.value) != ""){
		if(!fn_ValidEmail(Edt_EmlAddr.value,Edt_EmlAddr)) return false;		
	}
		
	// 기념일 체크
	if(getTrim(Cal_Bday.value) != ""){
		if(getTrim(Rdo_BdayLunsolDiv.value) == ""){
			cf_Alert("BNSE0050","본인생일");
			Rdo_BdayLunsolDiv.setFocus();
			return false;
		}
	}
	
	if(getTrim(Rdo_BdayLunsolDiv.value) != ""){
		if(getTrim(Cal_Bday.value) == ""){
			cf_Alert("COME0007","본인생일");			
			Cal_Bday.setFocus();
			return false;
		}
	}
	
	if(getTrim(Cal_MateBday.value) != ""){
		if(getTrim(Rdo_MateBdayLunsolDiv.value) == ""){
			cf_Alert("BNSE0050","배우자생일");
			Rdo_MateBdayLunsolDiv.setFocus();
			return false;
		}	
	}
	
	if(getTrim(Rdo_MateBdayLunsolDiv.value) != ""){
		if(getTrim(Cal_MateBday.value) == ""){
			cf_Alert("COME0007","배우자생일");			
			Cal_MateBday.setFocus();
			return false;			
		}		
	}
	
	if(getTrim(Cal_MryDay.value) != ""){
		if(getTrim(Rdo_MryDayLunsolDiv.value) == ""){
			//cf_Alert("BNSE0050","결혼기념일");
			//Rdo_MryDayLunsolDiv.setFocus();
			//return false;
			Rdo_MryDayLunsolDiv.value = "1";
		}	
	}		

	if(getTrim(Rdo_MryDayLunsolDiv.value) != ""){
		if(getTrim(Cal_MryDay.value) == ""){
			//cf_Alert("COME0007","결혼기념일");
			//Cal_MryDay.setFocus();
			//return false;
			Rdo_MryDayLunsolDiv.value = "";
		}	
	}

 	// 별명은 한글,숫자, 영문만 가능
	if(getTrim(Edt_NkNm.value) != ""){
		if(!fn_validNkNm(getTrim(Edt_NkNm.value).replace(" ",""))){
			Edt_NkNm.setFocus();
			return false;
		}
	}	

	// 전체주소(변경 전, 변경 후)
	var strAfHmAddr	= getTrim(ds_cust_info.getColumn(0,"OT_HOME_ZIP_CODE")).replace("-","") + " " +
					  getTrim(ds_cust_info.getColumn(0,"OT_HOME_MID_ADDR"))	+ " " +
					  getTrim(ds_cust_info.getColumn(0,"OT_HOME_ADDR"));
	var strBfHmAddr	= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_HOME_ZIP_CODE")).replace("-","") + " " +
					  getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_HOME_MID_ADDR")) + " " +
					  getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_HOME_ADDR"));
	var strAfOfAddr	= getTrim(ds_cust_info.getColumn(0,"OT_OFF_ZIP_CODE")).replace("-","") + " " +
					  getTrim(ds_cust_info.getColumn(0,"OT_OFF_MID_ADDR"))	+ " " +
					  getTrim(ds_cust_info.getColumn(0,"OT_OFF_ADDR"));
	var strBfOfAddr	= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_OFF_ZIP_CODE")).replace("-","") + " " +
					  getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_OFF_MID_ADDR")) + " " +
					  getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_OFF_ADDR"));

	// 인바운드여부
	var strIbndYn = "Y";
	if(objPHN){
		if(objPHN.getBlnOutbound() == true){
			strIbndYn 	= "N";
		}
	}
	
	// 업무처리정보리스트 DS
	ds_biz_proc_list.clearData();
	// 고객정보변경 통계 DS
	ds_upd_cust_info_stt.clearData();

	fun_ds_srch(ds_if_cust_upd_data, "req_chnl_code","610050");
	fun_ds_srch(ds_if_cust_upd_data, "input_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_cust_upd_data, "input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
	fun_ds_srch(ds_if_cust_upd_data, "input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));
	
	fun_ds_srch(ds_if_cust_upd_data, "in_req_gbn","U");
	fun_ds_srch(ds_if_cust_upd_data, "in_req_chnl_cd","610050");
	fun_ds_srch(ds_if_cust_upd_data, "in_cust_no",getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));
	fun_ds_srch(ds_if_cust_upd_data, "in_sex_cd",getTrim(ds_cust_info.getColumn(0,"OT_SEX_CD")));
	fun_ds_srch(ds_if_cust_upd_data, "in_cust_nm",getTrim(ds_cust_info.getColumn(0,"OT_CUST_NM")));
	fun_ds_srch(ds_if_cust_upd_data, "in_nknm",getTrim(ds_cust_info.getColumn(0,"OT_NKNM")));	
	fun_ds_srch(ds_if_cust_upd_data, "in_wkst_nm",getTrim(ds_cust_info.getColumn(0,"OT_WKST_NM")));
	fun_ds_srch(ds_if_cust_upd_data, "in_dept_nm",getTrim(ds_cust_info.getColumn(0,"OT_DEPT_NM")));		
	fun_ds_srch(ds_if_cust_upd_data, "in_dm_send_div_cd",getTrim(ds_cust_info.getColumn(0,"OT_DM_SEND_DIV_CD")));
	fun_ds_srch(ds_if_cust_upd_data, "in_home_tphn_err_yn",getTrim(ds_cust_info.getColumn(0,"OT_HOME_TPHN_ERR_YN")));
	fun_ds_srch(ds_if_cust_upd_data, "in_wkst_tphn_err_yn",getTrim(ds_cust_info.getColumn(0,"OT_WKST_TPHN_ERR_YN")));	
	fun_ds_srch(ds_if_cust_upd_data, "in_cphn_tphn_err_yn",getTrim(ds_cust_info.getColumn(0,"OT_CPHN_TPHN_ERR_YN")));
	if(getTrim(ds_cust_info.getColumn(0,"OT_EML_ADDR")) == ""){
		fun_ds_srch(ds_if_cust_upd_data, "in_eml_addr","「");
	}else{
		fun_ds_srch(ds_if_cust_upd_data, "in_eml_addr",getTrim(ds_cust_info.getColumn(0,"OT_EML_ADDR")));
	}
	
	fun_ds_srch(ds_if_cust_upd_data, "in_home_head_tphn_no",strHmPhnDdd);
	fun_ds_srch(ds_if_cust_upd_data, "in_home_mid_tphn_no",strHmPhnFst);
	fun_ds_srch(ds_if_cust_upd_data, "in_home_fnl_tphn_no",strHmPhnLst);	
	fun_ds_srch(ds_if_cust_upd_data, "in_ofc_head_tphn_no",strOfPhnDdd);	
	fun_ds_srch(ds_if_cust_upd_data, "in_ofc_mid_tphn_no",strOfPhnFst);
	fun_ds_srch(ds_if_cust_upd_data, "in_ofc_fnl_tphn_no",strOfPhnLst);	
	fun_ds_srch(ds_if_cust_upd_data, "in_cphn_head_tphn_no",strClPhnDdd);
	fun_ds_srch(ds_if_cust_upd_data, "in_cphn_mid_tphn_no",strClPhnFst);
	fun_ds_srch(ds_if_cust_upd_data, "in_cphn_fnl_tphn_no",strClPhnLst);
	fun_ds_srch(ds_if_cust_upd_data, "in_home_zipcd",getTrim(ds_cust_info.getColumn(0,"OT_HOME_ZIP_CODE")).replace("-",""));
	fun_ds_srch(ds_if_cust_upd_data, "in_home_zip_addr",getTrim(ds_cust_info.getColumn(0,"OT_HOME_MID_ADDR")));
	fun_ds_srch(ds_if_cust_upd_data, "in_home_dtl_addr",getTrim(ds_cust_info.getColumn(0,"OT_HOME_ADDR")));
	fun_ds_srch(ds_if_cust_upd_data, "in_ofc_zipcd",getTrim(ds_cust_info.getColumn(0,"OT_OFF_ZIP_CODE")).replace("-",""));
	fun_ds_srch(ds_if_cust_upd_data, "in_ofc_zip_addr",getTrim(ds_cust_info.getColumn(0,"OT_OFF_MID_ADDR")));
	fun_ds_srch(ds_if_cust_upd_data, "in_ofc_dtl_addr",getTrim(ds_cust_info.getColumn(0,"OT_OFF_ADDR")));				
	fun_ds_srch(ds_if_cust_upd_data, "in_self_anvi",getTrim(ds_cust_info.getColumn(0,"OT_BDAY")));
	fun_ds_srch(ds_if_cust_upd_data, "in_self_lunsol_div_cd",getTrim(ds_cust_info.getColumn(0,"OT_BDAY_LUNSOL_DIV_CD")));
	fun_ds_srch(ds_if_cust_upd_data, "in_mate_anvi",getTrim(ds_cust_info.getColumn(0,"OT_MATE_BDAY")));
	fun_ds_srch(ds_if_cust_upd_data, "in_mate_lunsol_div_cd",getTrim(ds_cust_info.getColumn(0,"OT_MATE_BDAY_LUNSOL_DIV_CD")));
	fun_ds_srch(ds_if_cust_upd_data, "in_mry_anvi",getTrim(ds_cust_info.getColumn(0,"OT_MRY_DAY")));
	fun_ds_srch(ds_if_cust_upd_data, "in_mry_lunsol_div_cd",getTrim(ds_cust_info.getColumn(0,"OT_MRY_LUNSOL_DIV_CD")));		
//	fun_ds_srch(ds_if_cust_upd_data, "in_dtime","");
	fun_ds_srch(ds_if_cust_upd_data, "in_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_cust_upd_data, "in_ip",getTrim(GetUserInfo("gLGIN_IP")));
	
	//★20120711
	fun_ds_srch(ds_if_cust_upd_data, "in_bday",getTrim(ds_cust_info.getColumn(0,"OT_CUIK_BDAY")));
	fun_ds_srch(ds_if_cust_upd_data, "in_com_co_div_cd",getTrim(ds_cust_info.getColumn(0,"OT_COM_CO_DIV_CD")));
	fun_ds_srch(ds_if_cust_upd_data, "in_authn_sbjt_cd",getTrim(ds_cust_info.getColumn(0,"OT_AUTHN_SBJT_CD")));
	

// 고객명	
	if(getTrim(ds_cust_info.getColumn(0,"OT_CUST_NM"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_CUST_NM"))){
		// 업무처리정보	
		if(ds_biz_proc_list.findRow("PGM_ID","BNS034") == -1){
			fn_addBizProcList("BNS034","","");	// 고객(별)명 변경
		}
	}
	
// 성별코드	
	if(getTrim(ds_cust_info.getColumn(0,"OT_SEX_CD"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_SEX_CD"))){
		// 업무처리정보	
		fn_addBizProcList("BNS036","","");	// 고객성별 변경
	}	
					
// 별명	
	if(getTrim(ds_cust_info.getColumn(0,"OT_NKNM"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_NKNM"))){
		// 업무처리정보	
		if(ds_biz_proc_list.findRow("PGM_ID","BNS034") == -1){
			fn_addBizProcList("BNS034","","");	// 고객(별)명 변경
		}
	}
	
// 직장명	
	if(getTrim(ds_cust_info.getColumn(0,"OT_WKST_NM"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_WKST_NM"))){
		// 업무처리정보
		if(ds_biz_proc_list.findRow("PGM_ID","BNS032") == -1){
			fn_addBizProcList("BNS032","","");	// 주소 정보변경			
		}
	}	
	
// 부서명	
	if(getTrim(ds_cust_info.getColumn(0,"OT_DEPT_NM"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_DEPT_NM"))){
		// 업무처리정보
		if(ds_biz_proc_list.findRow("PGM_ID","BNS032") == -1){
			fn_addBizProcList("BNS032","","");	// 주소 정보변경			
		}
	}
	
// 우편수신여부
	if(getTrim(ds_cust_info.getColumn(0,"OT_DM_SEND_DIV_CD"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_DM_SEND_DIV_CD"))){
		// 업무처리정보
		if(ds_biz_proc_list.findRow("PGM_ID","BNS032") == -1){
			fn_addBizProcList("BNS032","","");	// 주소 정보변경			
		}
	}
	
   // 자택전화오류여부
	if(getTrim(ds_cust_info.getColumn(0,"OT_HOME_TPHN_ERR_YN"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_HOME_TPHN_ERR_YN"))){		
		// 업무처리정보
		if(ds_biz_proc_list.findRow("PGM_ID","BNS031") == -1){
			fn_addBizProcList("BNS031","","");	// 연락처 정보변경(전화)			
		}	
		// 고객정보변경이력(통계용)
		if(getTrim(ds_cust_info.getColumn(0,"OT_HOME_TPHN_ERR_YN")) == "Y"){
			fn_addUpdCustInfoStt("07",getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_HOME_TPHN_ERR_YN")),getTrim(ds_cust_info.getColumn(0,"OT_HOME_TPHN_ERR_YN")),strIbndYn);
		}
	}
	
// 직장전화오류여부
	if(getTrim(ds_cust_info.getColumn(0,"OT_WKST_TPHN_ERR_YN"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_WKST_TPHN_ERR_YN"))){
		// 업무처리정보
		if(ds_biz_proc_list.findRow("PGM_ID","BNS031") == -1){
			fn_addBizProcList("BNS031","","");	// 연락처 정보변경(전화)			
		}
		// 고객정보변경이력(통계용)
		if(getTrim(ds_cust_info.getColumn(0,"OT_WKST_TPHN_ERR_YN")) == "Y"){			
			fn_addUpdCustInfoStt("08",getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_WKST_TPHN_ERR_YN")),getTrim(ds_cust_info.getColumn(0,"OT_WKST_TPHN_ERR_YN")),strIbndYn);
		}
	}
		
// 휴대폰전화오류여부
	if(getTrim(ds_cust_info.getColumn(0,"OT_CPHN_TPHN_ERR_YN"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_CPHN_TPHN_ERR_YN"))){
		// 업무처리정보
		if(ds_biz_proc_list.findRow("PGM_ID","BNS031") == -1){
			fn_addBizProcList("BNS031","","");	// 연락처 정보변경(전화)			
		}
		// 고객정보변경이력(통계용)
		if(getTrim(ds_cust_info.getColumn(0,"OT_CPHN_TPHN_ERR_YN")) == "Y"){
			fn_addUpdCustInfoStt("09",getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_CPHN_TPHN_ERR_YN")),getTrim(ds_cust_info.getColumn(0,"OT_CPHN_TPHN_ERR_YN")),strIbndYn);
		}
	}
	
// 이메일주소
	if(getTrim(ds_cust_info.getColumn(0,"OT_EML_ADDR"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_EML_ADDR"))){		
		// 업무처리정보
		fn_addBizProcList("BNS035","","");
		// 고객정보변경이력(통계용)
		fn_addUpdCustInfoStt("03",getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_EML_ADDR")),getTrim(ds_cust_info.getColumn(0,"OT_EML_ADDR")),strIbndYn);
	}
	    
// 자택전화		
	if(strAfHmPhn != strBfHmPhn){
		// 업무처리정보
		if(ds_biz_proc_list.findRow("PGM_ID","BNS031") == -1){
			fn_addBizProcList("BNS031","","");	// 연락처 정보변경(전화)
		}
		// 고객정보변경이력(통계용)
		fn_addUpdCustInfoStt("04",strBfHmPhn,strAfHmPhn,strIbndYn);
	}
	
// 직장전화		
	if(strAfOfPhn != strBfOfPhn ){
		// 업무처리정보
		if(ds_biz_proc_list.findRow("PGM_ID","BNS031") == -1){
			fn_addBizProcList("BNS031","","");	// 연락처 정보변경(전화)
		}
		// 고객정보변경이력(통계용)
		fn_addUpdCustInfoStt("05",strBfOfPhn,strAfOfPhn,strIbndYn);
	}
	
// 휴대전화
	if(strAfClPhn != strBfClPhn){
		// 업무처리정보
		if(ds_biz_proc_list.findRow("PGM_ID","BNS031") == -1){
			fn_addBizProcList("BNS031","","");	// 연락처 정보변경(전화)
		}
		// 고객정보변경이력(통계용)
		fn_addUpdCustInfoStt("06",strBfClPhn,strAfClPhn,strIbndYn);
	}
		
// 자택우편번호	
	if(getTrim(ds_cust_info.getColumn(0,"OT_HOME_ZIP_CODE")).replace("-","") != getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_HOME_ZIP_CODE")).replace("-","")){
		// 업무처리정보	
		if(ds_biz_proc_list.findRow("PGM_ID","BNS032") == -1){
			fn_addBizProcList("BNS032","","");	// 주소 정보변경(주소)			
		}
		// 고객정보변경이력(통계용)
		if(ds_upd_cust_info_stt.findRow("UPD_DV_CD","01") == -1){
			fn_addUpdCustInfoStt("01",strBfHmAddr,strAfHmAddr,strIbndYn);
		}		
	}
	
	// 자택우편주소
	if(getTrim(ds_cust_info.getColumn(0,"OT_HOME_MID_ADDR"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_HOME_MID_ADDR"))){
		// 업무처리정보	
		if(ds_biz_proc_list.findRow("PGM_ID","BNS032") == -1){
			fn_addBizProcList("BNS032","","");	// 주소 정보변경(주소)			
		}
		// 고객정보변경이력(통계용)
		if(ds_upd_cust_info_stt.findRow("UPD_DV_CD","01") == -1){
			fn_addUpdCustInfoStt("01",strBfHmAddr,strAfHmAddr,strIbndYn);
		}		
	}
		
	// 자택상세주소
	if(getTrim(ds_cust_info.getColumn(0,"OT_HOME_ADDR"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_HOME_ADDR"))){
		// 업무처리정보	
		if(ds_biz_proc_list.findRow("PGM_ID","BNS032") == -1){
			fn_addBizProcList("BNS032","","");	// 주소 정보변경(주소)			
		}
		// 고객정보변경이력(통계용)
		if(ds_upd_cust_info_stt.findRow("UPD_DV_CD","01") == -1){
			fn_addUpdCustInfoStt("01",strBfHmAddr,strAfHmAddr,strIbndYn);			
		}			
	}
	
	// 직장우편번호		
	if(getTrim(ds_cust_info.getColumn(0,"OT_OFF_ZIP_CODE")).replace("-","") != getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_OFF_ZIP_CODE")).replace("-","")){
		// 업무처리정보	
		if(ds_biz_proc_list.findRow("PGM_ID","BNS032") == -1){
			fn_addBizProcList("BNS032","","");	// 주소 정보변경(주소)			
		}
		// 고객정보변경이력(통계용)
		if(ds_upd_cust_info_stt.findRow("UPD_DV_CD","02") == -1){
			fn_addUpdCustInfoStt("02",strBfOfAddr,strAfOfAddr,strIbndYn);
		}	
	}
	
	// 직장우편주소
	if(getTrim(ds_cust_info.getColumn(0,"OT_OFF_MID_ADDR"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_OFF_MID_ADDR"))){
		// 업무처리정보	
		if(ds_biz_proc_list.findRow("PGM_ID","BNS032") == -1){
			fn_addBizProcList("BNS032","","");	// 주소 정보변경(주소)			
		}
		// 고객정보변경이력(통계용)
		if(ds_upd_cust_info_stt.findRow("UPD_DV_CD","02") == -1){
			fn_addUpdCustInfoStt("02",strBfOfAddr,strAfOfAddr,strIbndYn);				
		}		
	}
	
	// 직장상세주소
	if(getTrim(ds_cust_info.getColumn(0,"OT_OFF_ADDR"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_OFF_ADDR"))){
		// 업무처리정보	
		if(ds_biz_proc_list.findRow("PGM_ID","BNS032") == -1){
			fn_addBizProcList("BNS032","","");	// 주소 정보변경(주소)			
		}
		// 고객정보변경이력(통계용)
		if(ds_upd_cust_info_stt.findRow("UPD_DV_CD","02") == -1){
			fn_addUpdCustInfoStt("02",strBfOfAddr,strAfOfAddr,strIbndYn);			
		}		
	}
	
	// 생일	
	if(getTrim(ds_cust_info.getColumn(0,"OT_BDAY"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_BDAY"))){
		// 업무처리정보	
		if(ds_biz_proc_list.findRow("PGM_ID","BNS033") == -1){
			fn_addBizProcList("BNS033","","");	// 기념일 정보변경(본인생일, 배우자생일, 결혼기념일))			
		}		
	}
	
	// 생일 음양구분
	if(getTrim(ds_cust_info.getColumn(0,"OT_BDAY_LUNSOL_DIV_CD"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_BDAY_LUNSOL_DIV_CD"))){
		// 업무처리정보	
		if(ds_biz_proc_list.findRow("PGM_ID","BNS033") == -1){
			fn_addBizProcList("BNS033","","");	// 기념일 정보변경(본인생일, 배우자생일, 결혼기념일))			
		}		
	}
	
	// 배우자생일
	if(getTrim(ds_cust_info.getColumn(0,"OT_MATE_BDAY"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_MATE_BDAY"))){
		// 업무처리정보
		if(ds_biz_proc_list.findRow("PGM_ID","BNS033") == -1){
			fn_addBizProcList("BNS033","","");	// 기념일 정보변경(본인생일, 배우자생일, 결혼기념일))			
		}		
	}
	
	// 배우자생일 음양구분
	if(getTrim(ds_cust_info.getColumn(0,"OT_MATE_BDAY_LUNSOL_DIV_CD"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_MATE_BDAY_LUNSOL_DIV_CD"))){
		// 업무처리정보
		if(ds_biz_proc_list.findRow("PGM_ID","BNS033") == -1){
			fn_addBizProcList("BNS033","","");	// 기념일 정보변경(본인생일, 배우자생일, 결혼기념일))			
		}		
	}
		
	// 결혼기념일
	if(getTrim(ds_cust_info.getColumn(0,"OT_MRY_DAY"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_MRY_DAY"))){
		// 업무처리정보
		if(ds_biz_proc_list.findRow("PGM_ID","BNS033") == -1){
			fn_addBizProcList("BNS033","","");	// 기념일 정보변경(본인생일, 배우자생일, 결혼기념일))			
		}		
	}
	
	// 결혼기념일 음양구분
	if(getTrim(ds_cust_info.getColumn(0,"OT_MRY_LUNSOL_DIV_CD"))!= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_MRY_LUNSOL_DIV_CD"))){
		// 업무처리정보
		if(ds_biz_proc_list.findRow("PGM_ID","BNS033") == -1){
			fn_addBizProcList("BNS033","","");	// 기념일 정보변경(본인생일, 배우자생일, 결혼기념일))			
		}		
	}					

	// 고객정보조회변경이력 DS 세팅
	fn_setCustSrchUpdHistDs("U");

	return true;
}

// 저장버튼클릭
function Btn_SaveCustInfo_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;
	}
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","저장처리");	
		return;
	}
	
	fn_UpdCustInfo("COMI0014");	
}

function fn_UpdCustInfo(strMsgCd)
{
	ds_if_cust_upd_env.clearData();
	ds_if_cust_upd_data.clear();
	ds_if_cust_upd_common.clearData();
	ds_if_cust_upd_header.clearData();
	ds_if_cust_upd_column.clearData();
	ds_if_cust_upd_record.clearData();
	
	// IF DATA DS 
	if(!fn_setCustUptDataDs())	return;
	
	//저장하시겠습니까?
	// 고객명이 변경되었습니다. 고객정보를 저장하시겠습니까?
	if (!cf_Confirm(strMsgCd))	return;
			
	// IF ENV DS
	fn_setIfEnvDs(ds_if_cust_upd_env,"WAS","cmCustUpdC01.do","","STP_CM_CUST_UPD_C01_Rsp","","");
	
	var	strSvcID = "IF_CSC_ITRT_019";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_cust_upd_env:a INTERFACE_DATA=ds_if_cust_upd_data:a";
	var	strOutDatasets = "ds_if_cust_upd_common=DS_COMMON ds_if_cust_upd_header=DS_HEADER ds_if_cust_upd_column=DS_COLUMN ds_if_cust_upd_record=DS_RECORD";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBack";
	var strProcessBar = true;
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);			
	
}

/********************************************************************************** 
 *****	고객상세정보화면 버튼클릭시
***********************************************************************************/
COM200_OPENER = "";
// 고객찾기 팝업
function Btn_SrchCustNm_onclick(obj:Button,  e:ClickEventInfo)
{
	if(objPHN){
		if(objPHN.getCallStatus() == "READY"){
			cf_Alert("COME0046");
			return;
		}
	}
	
	ds_get_param.clearData();
	ds_set_param.clearData();
	ds_cb_get_param.clearData();
		
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};
	COM200_OPENER = "BNS010";

    //콜백탭 클릭시 선택된 전화번호를 셋팅하여 조회되도록 한다. 2017.06.20
    if(getTrim(GetUserInfo("gUSR_ID")) == "70594" || getTrim(GetUserInfo("gUSR_ID")) =="70592" || getTrim(GetUserInfo("gUSR_ID")) =="NP507"){
		traceX("[CALLBACK] BNS010 CST501->BNS010 :: Btn_SrchCustNm_onclick Call: 콜백에서 고객 조회 화면 팝업 호출 시작");
		traceX("[CALLBACK] BNS010 콜백 여부 확인::"+callbackYn);
    }
    
	if(callbackYn == "Y")
	{			
		if(getTrim(GetUserInfo("gUSR_ID")) == "70594" || getTrim(GetUserInfo("gUSR_ID")) =="70592"){
			traceX("[CALLBACK] BNS010 콜백 여부 정상 확인 ::"+callbackYn);
		}
		
	    var dsCallback = this.all["Tab_SmryInfo"]["tabpage3"]["ds_callback"];

	    
		//이건 쓰지 말고 아래걸로만 하자 어디선가 클리어 되는경우가 발생 되는것으로 보여짐다. 20200716
		fun_ds_srch(ds_get_param, "Edt_hphone", dsCallback.getColumn(dsCallback.rowposition,"TEL_NO"));
		fun_ds_srch(ds_get_param, "SEQ_NO", dsCallback.getColumn(dsCallback.rowposition,"SEQ_NO"));
		

		
		//ds_get_param을 어디서 초기화 해서 SEQ_NO가 없어 질수도 있다.....
		//SEQ_NO를 한번더 체크 하기 위해 추가 ds_cb_get_param신규로 만들어서 하나 더 가지고 있음.
		//전화번호는 필요하지 않음.20200716
		//fun_ds_srch(ds_cb_get_param, "TEL_NO", dsCallback.getColumn(dsCallback.rowposition,"TEL_NO"));
		if(getTrim(GetUserInfo("gUSR_ID")) == "70594" || getTrim(GetUserInfo("gUSR_ID")) =="70592" || getTrim(GetUserInfo("gUSR_ID")) =="NP507"){
			traceX("콜백 SEQ_NO ds_cb_get_param셋팅"+dsCallback.saveXML());
		}
		fun_ds_srch(ds_cb_get_param, "SEQ_NO", dsCallback.getColumn(dsCallback.rowposition,"SEQ_NO"));					
		
		COM200_OPENER = "CST501";		
	}
	//callback 분기 처리 OIL은 고객 조회 없다.
	if(GetUserInfo("gGRP_CD") == "BNS" || GetUserInfo("gGRP_CD") == "SYS") {
	
	PopupDialog("COM200","COM::COM200.xfdl", -1, -1, 972, 539, false, -1, arrParam, false, false, true, false);

		if(ds_set_param.rowcount > 0){		
			if(ds_set_param.getColumn(ds_set_param.rowposition,"TAB_PAGE") == "tabpage1"){	
			
				fn_ClrSrchCond();
				Edt_SrchCustNo.value 		= getTrim(ds_set_param.getColumn(ds_set_param.rowposition,"CUST_NO"));
	/*			
				Msk_SrchTailRsBzNo.value	= getTrim(ds_set_param.getColumn(ds_set_param.rowposition,"HEAD_RS_BZ_NO")) + getTrim(ds_set_param.getColumn(ds_set_param.rowposition,"TAIL_RS_BZ_NO"));
				Edt_SrchIntgCustNo.value	= getTrim(ds_set_param.getColumn(ds_set_param.rowposition,"INTG_CUST_NO"));
				Edt_SrchWebId.value			= getTrim(ds_set_param.getColumn(ds_set_param.rowposition,"WEB_ID"));
	*/			
				// 고객번호로 상세조회
				Btn_SrchCustInfo_onclick();
			}else if(ds_set_param.getColumn(ds_set_param.rowposition,"TAB_PAGE") == "COM300"){
				//fn_ClrSrchCond();	//조회 초기화
				Btn_SrchClear_onclick();
				
				ds_cust_info.setColumn(0,"OT_CUIK_BDAY",ds_set_param.getColumn(ds_set_param.rowposition,"BDAY"));
				ds_cust_info.setColumn(0,"OT_SEX_CD",maskPhone(ds_set_param.getColumn(ds_set_param.rowposition,"SEX_CD")));
				ds_cust_info.setColumn(0,"OT_HND_PHONE_NO",ds_set_param.getColumn(ds_set_param.rowposition,"HND_PHONE_NO"));
				
				ds_get_param.clearData();
				ds_set_param.clearData();
				var arrParam = {getCustDsArgument:ds_cust_info,setDsArgument:ds_set_param};
				//PopupDialog("COM300","COM::COM300.xfdl", -1, -1, 345, 185, false, -1, arrParam, false, false, true, false);
				PopupDialog("COM300","COM::COM300.xfdl", 292, 600, 345, 185, false, "absolute", arrParam, true, false, true, false);
					
			}else if(ds_set_param.getColumn(ds_set_param.rowposition,"TAB_PAGE") == "tabpage2"){
				strSrchFlg = "0";
				fn_setPopFrchCustInfo();		// 가맹점정보 세팅		
			}		
		}	
	}
}

// 팝업 가맹점조회고객 세팅
function fn_setPopFrchCustInfo()
{
	var objCnslDs = this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];	// 상담일련번호 DS
	
	// 고객조회 후 상담중에는 가맹점조회 못함.
	if(objCnslDs.rowcount > 0){
		if(ds_srched_cust.rowcount > 0){
			cf_Alert("BNSE0022","가맹점고객");			
			return;
		}
	}
	
	fn_clearCustInfo();			// 화면Clear
	fn_ClrSrchCond();			// 조회조건 Clear
	Edt_SrchSapId.value = ds_set_param.getColumn(ds_set_param.rowposition,"FRCH_CD");
	ds_cust_info.setColumn(0,"IO_CUST_NO",ds_set_param.getColumn(ds_set_param.rowposition,"FRCH_CD"));
	ds_cust_info.setColumn(0,"OT_CUST_NM",ds_set_param.getColumn(ds_set_param.rowposition,"FRCH_NM"));	
	ds_cust_info.setColumn(0,"OT_CUST_ST_CD_NM",ds_set_param.getColumn(ds_set_param.rowposition,"FRCH_ST_NM"));
	ds_cust_info.setColumn(0,"OT_HOME_PHONE_NO",maskPhone(ds_set_param.getColumn(ds_set_param.rowposition,"PHONE_NO")));
	ds_cust_info.setColumn(0,"OT_HOME_ZIP_CODE",ds_set_param.getColumn(ds_set_param.rowposition,"ZIPCD"));
	ds_cust_info.setColumn(0,"OT_HOME_MID_ADDR",ds_set_param.getColumn(ds_set_param.rowposition,"ADDR"));		
	ds_srch_flg.setColumn(0,"FRCH_YN","Y");
	ds_srch_flg.setColumn(0,"FLAG",strSrchFlg);						// 고객조회flag(0:default, 1:OB 캠페인, 2:OB Email , 3:예약콜)
	ds_srch_flg.setColumn(0,"INBND_CMP_YN","N");					// 인바운드캠페인 flag 세팅	
	
	// 조회된 고객세팅
	if(objCnslDs.rowcount > 0){
		if(ds_srched_cust.findRow("CUST_NO",ds_cust_info.getColumn(0,"IO_CUST_NO")) == -1){
			ds_srched_cust.addRow();
			ds_srched_cust.setColumn(ds_srched_cust.rowposition,"CUST_NO",ds_cust_info.getColumn(0,"IO_CUST_NO"));
			ds_srched_cust.setColumn(ds_srched_cust.rowposition,"CUST_NM",ds_cust_info.getColumn(0,"OT_CUST_NM"));
		}
	}
	
	// 상담화면 각 탭마다 탭처리여부 세팅
	// 가맹점고객은 모든처리를 할 수 없음
	for(i=0; i < ds_tab_proc_yn.getColCount(); i++)
	{
		ds_tab_proc_yn.setColumn(0,i,"N");
	}
	// 접촉이력만 조회가능
	ds_tab_proc_yn.setColumn(0,"Tab_CntctHistInfo_tabpage2","Y");
		
	// 고객 Summary 조회	
	this.all["Tab_SmryInfo"]["tabpage1"].fn_srchFormDataFrch();			// Summary	
}



//실명확인 버튼클릭
function Btn_Authn_onclick(obj:Button,  e:ClickEventInfo)
{

	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","실명확인");	
		return;
	}	
	
	if(getTrim(ds_cust_info.getColumn(0,"OT_CUST_DIV_CD")) == "02"){
		cf_Alert("BNSE0041","실명확인");		
		return;
	}
	
	ds_get_param.clearData();
	ds_set_param.clearData();

	fun_ds_srch(ds_get_param, "CUST_NO", ds_cust_info.getColumn(0,"IO_CUST_NO"));	
	fun_ds_srch(ds_get_param, "CUST_NM", ds_cust_info.getColumn(0,"OT_CUST_NM"));
	fun_ds_srch(ds_get_param, "CUST_DIV_CD", ds_cust_info.getColumn(0,"OT_CUST_DIV_CD"));	
	fun_ds_srch(ds_get_param, "HEAD_RS_BZ_NO", getTrim(ds_cust_info.getColumn(0,"OT_HEAD_RS_BZ_NO")));
	fun_ds_srch(ds_get_param, "TAIL_RS_BZ_NO", getTrim(ds_cust_info.getColumn(0,"OT_TAIL_RS_BZ_NO")));		
	
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	PopupDialog("BNS080","BNS::BNS080.xfdl", -1, -1, 345, 175, false, -1, arrParam, false, false, true, false);		
}

// 주민번호변경 버튼클릭
function Btn_AltRsNo_onclick(obj:Button,  e:ClickEventInfo)
{
	
	if(Edt_HeadRsBzNo.value.length==6){
		if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
			cf_Alert("COME0013","고객");		
			return;	
		}
		
		if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
			cf_Alert("BNSE0040","주민/사업번호변경");	
			return;
		}		

		ds_get_param.clearData();
		ds_set_param.clearData();
		
		fun_ds_srch(ds_get_param, "CUST_NM", ds_cust_info.getColumn(0,"OT_CUST_NM"));
		fun_ds_srch(ds_get_param, "CUST_NO",ds_cust_info.getColumn(0,"IO_CUST_NO"));
		fun_ds_srch(ds_get_param, "CUST_DIV_CD",getTrim(ds_cust_info.getColumn(0,"OT_CUST_DIV_CD")));
		fun_ds_srch(ds_get_param, "GRP_AGR_YN",getTrim(ds_cust_info.getColumn(0,"OT_GRP_AGR_YN")));									

		var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};
		alert(getTrim(ds_cust_info.getColumn(0,"OT_CUST_DIV_CD")));
		if(getTrim(ds_cust_info.getColumn(0,"OT_CUST_DIV_CD")) == "02"){
			PopupDialog("BNS091","BNS::BNS091.xfdl", -1, -1, 720, 413, false, -1, arrParam, false, false, true, false);		
		}else{
			//★개인은 여기서 안함! 식별키변경버튼으로 처리
			alert("개인고객은 식별키변경 버튼을 사용하세요.");
			return;
			//PopupDialog("BNS090","BNS::BNS090.xfdl", -1, -1, 720, 413, false, -1, arrParam, false, false, true, false);		
		}
	
	}else{
	
		if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
			cf_Alert("COME0013","고객");		
			return;	
		}
	
		if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
			cf_Alert("BNSE0040","주민/사업번호변경");	
			return;
		}		
		
		//★개인은 여기서 안함! 식별키변경버튼으로 처리
		if(getTrim(ds_cust_info.getColumn(0,"OT_CUST_DIV_CD")) == "01"){
			alert("개인고객은 식별키변경 버튼을 사용하세요.");
			return;
		}

		ds_get_param.clearData();
		ds_set_param.clearData();
		
		fun_ds_srch(ds_get_param, "CUST_NM", ds_cust_info.getColumn(0,"OT_CUST_NM"));
		fun_ds_srch(ds_get_param, "CUST_NO",ds_cust_info.getColumn(0,"IO_CUST_NO"));
		fun_ds_srch(ds_get_param, "CUST_DIV_CD",getTrim(ds_cust_info.getColumn(0,"OT_CUST_DIV_CD")));
		fun_ds_srch(ds_get_param, "GRP_AGR_YN",getTrim(ds_cust_info.getColumn(0,"OT_GRP_AGR_YN")));									
		fun_ds_srch(ds_get_param, "OT_HEAD_RS_BZ_NO",getTrim(ds_cust_info.getColumn(0,"OT_HEAD_RS_BZ_NO")));									
		fun_ds_srch(ds_get_param, "OT_TAIL_RS_BZ_NO",getTrim(ds_cust_info.getColumn(0,"OT_TAIL_RS_BZ_NO")));									

		var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

			
	
		PopupDialog("BNS092","BNS::BNS092.xfdl", -1, -1, 720, 413, false, -1, arrParam, false, false, true, false);		
	}
	
}
//	alert(ds_set_param.getColumn(0,"OT_RES_MSG"));
//	cf_trace("ds_set_param.saveXML()",ds_set_param.saveXML());
		


// IPIN고객조회 버튼클릭
function Btn_SrchIpinCust_onclick(obj:Button,  e:ClickEventInfo)
{
/*
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
*/	

	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","IPIN고객처리");	
		return;
	}
	
	ds_get_param.clearData();
	ds_set_param.clearData();
						
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	PopupDialog("BNS070","BNS::BNS070.xfdl", -1, -1, 650, 719, false, -1, arrParam, false, false, true, false);	
	
}

// ARS주민번호받기
function Btn_GetRsBzNoArs_onclick(obj:Button,  e:ClickEventInfo)
{
	if(objPHNDTMF){
		g_div_cti.DTMF_PGM_ID = "BNS010";
		//trace("BNS010 DTMF_PGM_ID ==> " + g_div_cti.DTMF_PGM_ID);
		fn_ClrSrchCond();
		
		// DTMF값 초기화
		//trace("BNS010 :: dtmf 초기화");
		g_dtmf_no = "";	
		
		var intRtnCd = g_div_cti.conferenceInit(GetConfig("IVR_AUTH"), "10");
		cf_trace("return code :::" , intRtnCd);
		if(intRtnCd != 9999){
			PopupDialog("COM290","COM::COM290.xfdl", -1, -1, 419, 178, false, -1, "", false, false, true, false);
		}
	}else{
		cf_Alert("COME0020");	
		return;
	}		
}

// 자택우편번호찾기
function Btn_SrchHomeZipCode_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","우편번호찾기");	
		return;
	}	
	
	ds_get_param.clearData();
	ds_set_param.clearData();
						
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	PopupDialog("COM160","COM::COM160.xfdl", -1, -1, 612, 562, false, -1, arrParam, false, false, true, false);		
	if(ds_set_param.rowcount > 0 ){
		ds_cust_info.setColumn(0,"OT_HOME_ZIP_CODE",ds_set_param.getColumn(0,"ZIP_NO"));		
		
		if(ds_set_param.getColumn(0,"GUBN") == "1"){			
			ds_cust_info.setColumn(0,"OT_HOME_MID_ADDR",ds_set_param.getColumn(0,"ADDR"));	
		}
		if(ds_set_param.getColumn(0,"GUBN") == "2"){		
			ds_cust_info.setColumn(0,"OT_HOME_MID_ADDR",ds_set_param.getColumn(0,"DORO_ADDR"));		
		}
		//ds_cust_info.setColumn(0,"OT_HOME_ADDR",ds_set_param.getColumn(0,"ADDR_DTL"));
		ds_cust_info.setColumn(0,"OT_HOME_ADDR","");
		Edt_HomeAddr.setFocus();		
	} else {
		
		return;
	}
}

// 직장우편번호찾기
function Btn_SrchOffZipCode_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","우편번호찾기");	
		return;
	}		

	ds_get_param.clearData();
	ds_set_param.clearData();
						
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	PopupDialog("COM160","COM::COM160.xfdl", -1, -1, 612, 562, false, -1, arrParam, false, false, true, false);		
	
	
	if(ds_set_param.rowcount > 0 ){
		ds_cust_info.setColumn(0,"OT_OFF_ZIP_CODE",ds_set_param.getColumn(0,"ZIP_NO"));		
		
		if(ds_set_param.getColumn(0,"GUBN") == "1"){		
			ds_cust_info.setColumn(0,"OT_OFF_MID_ADDR",ds_set_param.getColumn(0,"ADDR"));	
		}
		
		if(ds_set_param.getColumn(0,"GUBN") == "2"){
			ds_cust_info.setColumn(0,"OT_OFF_MID_ADDR",ds_set_param.getColumn(0,"DORO_ADDR"));	
		}		
		
		ds_cust_info.setColumn(0,"OT_OFF_ADDR","");
		Edt_OffAddr.setFocus();
	} else { 
		return;
	}	
}

// 자택주소 초기화
function Btn_DelHomeAddr_onclick(obj:Button,  e:ClickEventInfo)
{
	ds_cust_info.setColumn(0,"OT_HOME_ZIP_CODE","");
	ds_cust_info.setColumn(0,"OT_HOME_MID_ADDR","");
	ds_cust_info.setColumn(0,"OT_HOME_ADDR","");			
}

// 직장주소 초기화
function Btn_DelOffAddr_onclick(obj:Button,  e:ClickEventInfo)
{
	ds_cust_info.setColumn(0,"OT_OFF_ZIP_CODE","");
	ds_cust_info.setColumn(0,"OT_OFF_MID_ADDR","");
	ds_cust_info.setColumn(0,"OT_OFF_ADDR","");	
}

// 자택전화 걸기버튼클릭
function Btn_MakeHomeCall_onclick(obj:Button,  e:ClickEventInfo)
{
	if(!fn_chkMakeCall())	return;

	if(getTrim(ds_cust_info.getColumn(0,"OT_HOME_PHONE_NO")).replace("-","") == ""){
		cf_Alert("CAME0005","전화번호");
		Edt_HomePhone.setFocus();
		return;
	}

	if(objPHN){		
		objPHN.setCustId(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));
		if(ds_srch_flg.getColumn(0,"FRCH_YN") == "Y"){
			objPHN.setKeygubun("03");
		}else{
			objPHN.setKeygubun("02");		
		}
		objPHN.setEventProcGbn("objPHNBNS");	// objPHNBNS, objPHNORD, objPHNCMP, objPHNLPS					
		objPHN.setMakeCall('9' + getTrim(Edt_HomePhone.value).replace("-",""),"BNS");	
	}
}

// 직장전화 걸기버튼클릭
function Btn_MakeOffCall_onclick(obj:Button,  e:ClickEventInfo)
{
	if(!fn_chkMakeCall())	return;

	if(getTrim(ds_cust_info.getColumn(0,"OT_OFF_PHONE_NO")).replace("-","") == ""){
		cf_Alert("CAME0005","전화번호");
		Edt_OffPhone.setFocus();
		return;
	}

	if(objPHN){
		objPHN.setCustId(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));
		if(ds_srch_flg.getColumn(0,"FRCH_YN") == "Y"){
			objPHN.setKeygubun("03");
		}else{
			objPHN.setKeygubun("02");		
		}
		objPHN.setEventProcGbn("objPHNBNS");	// objPHNBNS, objPHNORD, objPHNCMP, objPHNLPS							
		objPHN.setMakeCall('9' + getTrim(Edt_OffPhone.value).replace("-",""),"BNS");
	}
}

// 휴대전화 걸기버튼클릭
function Btn_MakeCelCall_onclick(obj:Button,  e:ClickEventInfo)
{
	if(!fn_chkMakeCall())	return;

	if(getTrim(ds_cust_info.getColumn(0,"OT_HND_PHONE_NO")).replace("-","") == ""){
		cf_Alert("CAME0005","전화번호");
		Edt_CelPhone.setFocus();
		return;
	}

	if(objPHN){	
		objPHN.setCustId(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));
		if(ds_srch_flg.getColumn(0,"FRCH_YN") == "Y"){
			objPHN.setKeygubun("03");
		}else{
			objPHN.setKeygubun("02");		
		}
		objPHN.setEventProcGbn("objPHNBNS");	// objPHNBNS, objPHNORD, objPHNCMP, objPHNLPS
		objPHN.setMakeCall('9' + getTrim(Edt_CelPhone.value).replace("-",""),"BNS");
	}
}

// 기타전화 걸기버튼클릭
function Btn_MakeEtcCall_onclick(obj:Button,  e:ClickEventInfo)
{
	if(!fn_chkMakeCall())	return;

	if(getTrim(ds_cust_info.getColumn(0,"OT_ETC_PHONE_NO")).replace("-","") == ""){
		cf_Alert("CAME0005","전화번호");
		Edt_EtcPhone.setFocus();
		return;
	}

	if(objPHN){
		objPHN.setCustId(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));
		if(ds_srch_flg.getColumn(0,"FRCH_YN") == "Y"){
			objPHN.setKeygubun("03");
		}else{
			objPHN.setKeygubun("02");		
		}
		objPHN.setEventProcGbn("objPHNBNS");	// objPHNBNS, objPHNORD, objPHNCMP, objPHNLPS
		objPHN.setMakeCall('9' + getTrim(Edt_EtcPhone.value).replace("-",""),"BNS");
	}
}

function fn_chkMakeCall()
{
	var objCnslDs 		= this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];	// 상담일련번호 DS

	/*
	if(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")) == ""){
		cf_Alert("COME0013","고객");		
		return false;
	}
	*/
	
	if(objCnslDs.rowcount > 0){
		// 상담저장여부 확인
		if(!objPHN){
			if(getTrim(ds_srch_flg.getColumn(0,"CNSL_SAVE_YN")) != "Y"){
				cf_Alert("COME0014","상담내용");			
				return false;
			}			
		}
		
		if(objPHN){
			if(objPHN.getConSaveYn() == "N"){
				cf_Alert("COME0014","상담내용");
				return false;
			}		
		}
		
		if (!cf_Confirm("BNSE0042"))	return false;  // 상담중에는 전화걸기를 할 수 없습니다. 상담을 완료하고 전화걸기를 하시겠습니까?
	}
		
/*		
	if(ds_cust_info.getColumn(0,"OT_TM_RCV_YN") == "N"){		
		if (!cf_Confirm("BNSI0009","TM"))	return false; 	// 	
	}		
*/	
	// 상담 clear
	this.all["Tab_CntctHistInfo"]["tabpage1"].fn_ClearCnsl();
	return true;
}

// 등급이력조회 버튼클릭
function Btn_SrchCustGrdHist_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")) == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	//GS&포인트 자사화 회원등급과 기존 회원등급업무처리의 연계성에 대해 현업 확인 필요
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","고객등급 업무처리");	
		return;
	}		
	
	ds_get_param.clearData();
	ds_set_param.clearData();
					
	fun_ds_srch(ds_get_param, "CUST_NO",getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));
	fun_ds_srch(ds_get_param, "RS_BZ_NO",getTrim(ds_cust_info.getColumn(0,"OT_RS_BZ_NO")));	
							
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	PopupDialog("BNS110","BNS::BNS110.xfdl", -1, -1, 440, 284, false, -1, arrParam, false, false, true, false);
}


// 웹아이디변경 버튼클릭
function Btn_WebIdSrchMod_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")) == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","웹아이디 업무처리");	
		return;
	}		
	
	ds_get_param.clearData();
	ds_set_param.clearData();
					
	fun_ds_srch(ds_get_param, "CUST_NO",ds_cust_info.getColumn(0,"IO_CUST_NO"));
	fun_ds_srch(ds_get_param, "CUST_NM",ds_cust_info.getColumn(0,"OT_CUST_NM"));
	fun_ds_srch(ds_get_param, "INTG_CUST_NO",ds_cust_info.getColumn(0,"OT_INTG_CUST_NO"));
	fun_ds_srch(ds_get_param, "GRP_AGR_YN",ds_cust_info.getColumn(0,"OT_GRP_AGR_YN"));
	fun_ds_srch(ds_get_param, "INTG_WEB_YN",ds_cust_info.getColumn(0,"OT_INTG_WEB_YN"));
	fun_ds_srch(ds_get_param, "WEB_ID",getTrim(Edt_WebId.value));	
						
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	PopupDialog("BNS120","BNS::BNS120.xfdl", -1, -1, 500, 515, false, -1, arrParam, false, false, true, false);
	
}

// FAX
function Btn_PopFax_onclick(obj:Button,  e:ClickEventInfo)
{
	
	var proxy_id =  GetUserInfo("gUSR_ID");
	
	var SeedKey = "tobesoft20000701" ;
	var ExtObj = new ExtCommon();
	var objCrypto = new Crypto();  
	objCrypto.init("seed", 128);

	var objKey = objCrypto.getKey(SeedKey);

	//DataBuffer = new Buffer(proxy_id+"@"+date_time());
	DataBuffer = new Buffer(proxy_id+"@"+TodayTime());

	var enBuffer = objCrypto.encrypt(DataBuffer, objKey);

	var base64 = ExtObj.encodeBase64(enBuffer); 
	
	system.execBrowser(encodeURI("http://"+ GetConfig("FAX_RCV") +"/mngr/fax.jspx?cmd=getFaxInOutMgr&auth="+GetUserInfo("gUSR_GRD_CD")+","+GetUserInfo("gUSR_NM")+"&u="+base64));
	//system.execBrowser("http://" + GetConfig("FAX_RCV") + "/Web/Receive/ReceiveList.aspx");
}

// 그룹재반영
function Btn_IntgReAply_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")) == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}

	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","그룹재반영");	
		return;
	}
			
	if(getTrim(ds_cust_info.getColumn(0,"OT_GRP_AGR_YN")) == "Y" && getTrim(ds_cust_info.getColumn(0,"OT_INTG_CUST_NO")) != ""){
		cf_Alert("ORDE0001","통합고객번호");		// 등록된 통합고객번호 가 있습니다. 확인 후 등록하십시오.
		return;	
	}	
	
  	if (!cf_Confirm("COMI0012","그룹재반영"))	return;
  	
	ds_if_re_apply_env.clearData();
	ds_if_re_apply_data.clearData();
	ds_if_re_apply_common.clearData();
	ds_if_re_apply_header.clearData();
	ds_if_re_apply_column.clearData();
		
	// IF ENV DS
	fn_setIfEnvDs(ds_if_re_apply_env,"WAS","cmCustInsC09.do","","STP_CM_CUST_INS_C09_Rsp","","");

	fun_ds_srch(ds_if_re_apply_data,"req_chnl_code","610050");
	fun_ds_srch(ds_if_re_apply_data,"input_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_re_apply_data,"input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
	fun_ds_srch(ds_if_re_apply_data,"input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));
	
	fun_ds_srch(ds_if_re_apply_data,"in_req_chnl_cd","610050");
	fun_ds_srch(ds_if_re_apply_data,"in_cust_no",getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));	
	fun_ds_srch(ds_if_re_apply_data,"in_crd_no","");
	fun_ds_srch(ds_if_re_apply_data,"in_pblc_ss_cd","610050");	
	fun_ds_srch(ds_if_re_apply_data,"in_dtime","");	
	fun_ds_srch(ds_if_re_apply_data,"in_user_id",getTrim(GetUserInfo("gUSR_ID")));	
	fun_ds_srch(ds_if_re_apply_data,"in_ip",getTrim(GetUserInfo("gLGIN_IP")));	

	var	strSvcID = "IF_CSC_ITRT_161";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_re_apply_env:a INTERFACE_DATA=ds_if_re_apply_data:a";
	var	strOutDatasets = "ds_if_re_apply_common=DS_COMMON ds_if_re_apply_header=DS_HEADER ds_if_re_apply_column=DS_COLUMN";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBack";
	var strProcessBar = true;
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);	  		  	
}

/********************************************************************************** 
 *****	업무버튼 클릭시
***********************************************************************************/

// 카드등록/변경 버튼클릭
function Btn_RegAltCrd_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","카드등록/변경 업무처리");	
		return;
	}		

	ds_get_param.clearData();
	ds_set_param.clearData();	
							
	var arrParam = { getCustDsArgument:ds_cust_info,getCrdDsArgument:ds_if_crd_pblc_record ,setDsArgument:ds_set_param};

	parent.mdiOpen("BNS130","BNS::BNS130.xfdl","카드등록/변경", 393, 23, 1632, 553, false, "absolute", arrParam, true, false, true, false);
	
}

// 동의 및 약관 버튼클릭
function Btn_CrdAgrmProc_onclick(obj:Button,  e:ClickEventInfo)
{
	
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","동의 및 약관 업무처리");	
		return;
	}
			
	if(ds_cust_info.getColumn(0,"OT_CUST_DIV_CD") == "02"){
		cf_Alert("BNSE0041","동의및약관");		
		return;
	}
	
	ds_get_param.clearData();
	ds_set_param.clearData();
	
	fun_ds_srch(ds_get_param, "CUST_NO",ds_cust_info.getColumn(0,"IO_CUST_NO"));
	fun_ds_srch(ds_get_param, "CUST_NM",getTrim(ds_cust_info.getColumn(0,"OT_CUST_NM")));	
	fun_ds_srch(ds_get_param, "INTG_CUST_NO",ds_cust_info.getColumn(0,"OT_INTG_CUST_NO"));
	fun_ds_srch(ds_get_param, "GRP_AGR_YN",ds_cust_info.getColumn(0,"OT_GRP_AGR_YN"));
	fun_ds_srch(ds_get_param, "HEAD_RS_BZ_NO",getTrim(ds_cust_info.getColumn(0,"OT_HEAD_RS_BZ_NO")));
	fun_ds_srch(ds_get_param, "TAIL_RS_BZ_NO",getTrim(ds_cust_info.getColumn(0,"OT_TAIL_RS_BZ_NO")));
	fun_ds_srch(ds_get_param, "CUST_ST_CD",getTrim(ds_cust_info.getColumn(0,"OT_CUST_ST_CD")));	
		
    		
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	parent.mdiOpen("BNS170","BNS::BNS170.xfdl","동의 및 약관", 393, 23, 1632, 553, false, "absolute", arrParam, true, false, true, false);	
	
}

// 부정고객 버튼클릭
function Btn_WrngCustProc_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","부정고객 업무처리");	
		return;
	}		
	
	ds_get_param.clearData();
	ds_set_param.clearData();
	
	fun_ds_srch(ds_get_param, "CUST_NO",ds_cust_info.getColumn(0,"IO_CUST_NO"));
	fun_ds_srch(ds_get_param, "CUST_NM",ds_cust_info.getColumn(0,"OT_CUST_NM"));	
	fun_ds_srch(ds_get_param, "WRNG_ST_CD",ds_cust_info.getColumn(0,"OT_WRNG_ST_CD"));
	fun_ds_srch(ds_get_param, "WRNG_ST_CD_NM",ds_cust_info.getColumn(0,"OT_WRNG_ST_CD_NM"));	
							
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	parent.mdiOpen("BNS200","BNS::BNS200.xfdl","부정주유고객조회", 393, 23, 1632, 553, false, "absolute", arrParam, true, false, true, false);
	
	
}

// 이벤트 버튼클릭
function Btn_EvntProc_onclick(obj:Button,  e:ClickEventInfo)
{
/*
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
*/	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","이벤트 업무처리");	
		return;
	}	
		
	ds_get_param.clearData();
	ds_set_param.clearData();
	
	fun_ds_srch(ds_get_param, "CUST_NO",getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));
	fun_ds_srch(ds_get_param, "CUST_NM",getTrim(ds_cust_info.getColumn(0,"OT_CUST_NM")));	
	fun_ds_srch(ds_get_param, "INTG_CUST_NO",getTrim(ds_cust_info.getColumn(0,"OT_INTG_CUST_NO")));
	fun_ds_srch(ds_get_param, "HND_PHONE_NO",getTrim(ds_cust_info.getColumn(0,"OT_HND_PHONE_NO")));	
								
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	parent.mdiOpen("BNS210","BNS::BNS210.xfdl","이벤트", 393, 23, 1632, 553, false, "absolute", arrParam, true, false, true, false);	
}

// 고객상태변경 버튼클릭
function Btn_AltCustSt_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","고객상태변경 업무처리");	
		return;
	}		
	
	ds_get_param.clearData();
	ds_set_param.clearData();
					
	fun_ds_srch(ds_get_param, "CUST_NO",ds_cust_info.getColumn(0,"IO_CUST_NO"));
	fun_ds_srch(ds_get_param, "CUST_ST_CD",ds_cust_info.getColumn(0,"OT_CUST_ST_CD"));
	fun_ds_srch(ds_get_param, "HEAD_RS_BZ_NO",ds_cust_info.getColumn(0,"OT_HEAD_RS_BZ_NO"));
	fun_ds_srch(ds_get_param, "TAIL_RS_BZ_NO",ds_cust_info.getColumn(0,"OT_TAIL_RS_BZ_NO"));	
							
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	PopupDialog("BNS320","BNS::BNS320.xfdl", -1, -1, 345, 145, false, -1, arrParam, false, false, true, false);
}

// 현장할인 버튼클릭
function Btn_Fdc_onclick(obj:Button,  e:ClickEventInfo)
{
/*
	if(GetUserInfo("gUSR_ID")!="DEV07"){
	alert("현장할인 이벤트는 현재 실행중이지 않습니다.");
	return;
	}
*/
	//가맹점 조회 여부 
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
	 	cf_Alert("BNSE0040","현장할인");	
		return;
	}
	
	//고객번호
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	//그룹동의여부		
	if(ds_cust_info.getColumn(0,"OT_GRP_AGR_YN") != "Y"){
	 	cf_Alert("BNSI0008");		
		return;
	}	

	ds_get_param.clearData();
	ds_set_param.clearData();
	
	fun_ds_srch(ds_get_param, "CUST_NO",getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));
	fun_ds_srch(ds_get_param, "CUST_NM",getTrim(ds_cust_info.getColumn(0,"OT_CUST_NM")));		
							
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	parent.mdiOpen("BNS810","BNS::BNS810.xfdl","현장할인", 393, 23, 1632, 553, false, "absolute", arrParam, true, false, true, false);	
	
}


// 중복고객 버튼클릭
function Btn_DplctCustProc_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","중복고객 업무처리");	
		return;
	}	

	ds_get_param.clearData();
	ds_set_param.clearData();
							
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

//	PopupDialog("BNS260","BNS::BNS260.xfdl", 375, 20, 1632, 572, false, "absolute", arrParam, true, false, true, false);
	parent.mdiOpen("BNS260","BNS::BNS260.xfdl","중복고객 상세조회", 393, 23, 1632, 553, false, "absolute", arrParam, true, false, true, false);	
	
}

// 주유소조회 버튼클릭

function Btn_SrchSs_onclick(obj:Button,  e:ClickEventInfo)
{
	ds_get_param.clearData();
	ds_set_param.clearData();
							
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	parent.mdiOpen("BNS271","BNS::BNS271.xfdl","주유소조회", 393, 23, 1632, 553, false, "absolute", arrParam, true, false, true, false);
	
}

//-------------------------------------------------------------------------------------------------------
// 비밀번호초기화 버튼클릭
function Btn_InitCrdPw_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","비밀번호초기화 업무처리");	
		return;
	}		
	
  	if (!cf_Confirm("COMI0012","비밀번호초기화"))	return;  

	fn_initPw();	 
}

// 비밀번호초기화 인터페이스처리
function fn_initPw()
{
		ds_if_pw_init_env.clearData();
		ds_if_pw_init_data.clearData();
		ds_if_pw_init_common.clearData();
		ds_if_pw_init_header.clearData();
		ds_if_pw_init_column.clearData();
		ds_if_pw_init_record.clearData();	
	
		
		//IF_BNS260_01 환경설정
		fun_ds_srch(ds_if_pw_init_env, "IF_KIND", 			"WAS");
		fun_ds_srch(ds_if_pw_init_env, "REQ_SERVICE_METHOD", 	"crCrdpwUpdC01.do"); //공통이 어디까지?
		fun_ds_srch(ds_if_pw_init_env, "REQ_SERVICE_ID", 		"");
		fun_ds_srch(ds_if_pw_init_env, "RES_HEADER_SECTION", 	"STP_CR_CRDPW_UPD_C01_Rsp"); //xml상위 헤더항목
		fun_ds_srch(ds_if_pw_init_env, "RES_COLUMN_SECTION", 	""); 
		fun_ds_srch(ds_if_pw_init_env, "RES_RECORD_SECTION", 	""); 

		fun_ds_srch(ds_if_pw_init_data,"req_chnl_code","610050");				
		fun_ds_srch(ds_if_pw_init_data,"input_user_id",getTrim(GetUserInfo("gUSR_ID")));
		fun_ds_srch(ds_if_pw_init_data,"input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
		fun_ds_srch(ds_if_pw_init_data,"input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));
		
		fun_ds_srch(ds_if_pw_init_data,"in_req_gbn","I");  // I 초기화
		fun_ds_srch(ds_if_pw_init_data,"in_req_chnl_cd","610050");		
		fun_ds_srch(ds_if_pw_init_data,"in_req_flag","1"); // 1 고객번호 2 주민번호 3 카드번호
		fun_ds_srch(ds_if_pw_init_data,"in_req_data",getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));
		fun_ds_srch(ds_if_pw_init_data,"in_user_id",getTrim(GetUserInfo("gUSR_ID")));
		fun_ds_srch(ds_if_pw_init_data,"in_ip",getTrim(GetUserInfo("gLGIN_IP")));		
					
		var	strSvcID = "IF_CSC_ITRT_003";
		var	strURL = SVC_IF_URL;	
		var	strInDatasets = "INTERFACE_ENV=ds_if_pw_init_env:a INTERFACE_DATA=ds_if_pw_init_data:a";
		var	strOutDatasets = "ds_if_pw_init_common=DS_COMMON ds_if_pw_init_header=DS_HEADER ds_if_pw_init_column=DS_COLUMN ds_if_pw_init_record=DS_RECORD";
		var	strArgument = "";
		var strCallbackFunc = "fn_callBack";
		var strProcessBar = true;
		
		cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);	
}

// 법인 비밀번호 변경
function Btn_AlterCrdPw_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	if(ds_cust_info.getColumn(0,"OT_CUST_DIV_CD") != "02"){
		cf_Alert("COME0029","법인고객이 아니면 처리","고객구분");		
		return;	
	}	
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","법인비밀번호변경 업무처리");	
		return;
	}
	
	ds_get_param.clearData();
	ds_set_param.clearData();

	fun_ds_srch(ds_get_param, "CUST_NO", ds_cust_info.getColumn(0,"IO_CUST_NO"));	
	fun_ds_srch(ds_get_param, "CUST_NM", ds_cust_info.getColumn(0,"OT_CUST_NM"));
	fun_ds_srch(ds_get_param, "CUST_DIV_CD", ds_cust_info.getColumn(0,"OT_CUST_DIV_CD"));			
	
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	PopupDialog("BNS0302","BNS::BNS302.xfdl", -1, -1, 345, 175, false, -1, arrParam, false, false, true, false);		
	
	
}

// 타인명의인증리셋 버튼클릭
function Btn_ResetOthrAuthn_onclick(obj:Button,  e:ClickEventInfo)
{
	
	if(Edt_OthrAuthnCelPhone.value=="" || Edt_OthrAuthnCelPhone.value==null ){
		if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
			cf_Alert("COME0013","고객");		
		return;	
		}
	}
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","타인명의인증리셋 처리");	
		return;
	}
	
	if(getTrim(ds_cust_info.getColumn(0,"OT_OTHR_AUTHN_PHONE_NO")).replace("-","") == ""){
		cf_Alert("CAME0005","타인인증휴대폰번호");		
		return;
	}
	
	if (!cf_Confirm("COMI0012","타인명의인증리셋"))	return;
	  	
	ds_if_reset_env.clearData();
	ds_if_reset_data.clearData();
	ds_if_reset_common.clearData();
	ds_if_reset_header.clearData();
	ds_if_reset_column.clearData();
	ds_if_reset_record.clearData();	

	
	//IF_BNS260_01 환경설정
	fun_ds_srch(ds_if_reset_env, "IF_KIND", 			"WAS");
	fun_ds_srch(ds_if_reset_env, "REQ_SERVICE_METHOD", 	"cmCautdIudC02.do"); //공통이 어디까지?
	fun_ds_srch(ds_if_reset_env, "REQ_SERVICE_ID", 		"");
	fun_ds_srch(ds_if_reset_env, "RES_HEADER_SECTION", 	"STP_CM_CAUTD_IUD_C02_Rsp"); //xml상위 헤더항목
	fun_ds_srch(ds_if_reset_env, "RES_COLUMN_SECTION", 	""); 
	fun_ds_srch(ds_if_reset_env, "RES_RECORD_SECTION", 	""); 

	fun_ds_srch(ds_if_reset_data,"req_chnl_code","610050");
	fun_ds_srch(ds_if_reset_data,"input_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_reset_data,"input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
	fun_ds_srch(ds_if_reset_data,"input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));
	
	fun_ds_srch(ds_if_reset_data,"in_req_gbn","U");
	fun_ds_srch(ds_if_reset_data,"in_req_chnl_cd","610050");
	fun_ds_srch(ds_if_reset_data,"in_authn_tp_cntt",getTrim(ds_cust_info.getColumn(0,"OT_OTHR_AUTHN_PHONE_NO")).replace("-",""));
	fun_ds_srch(ds_if_reset_data,"in_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_reset_data,"in_ip",getTrim(GetUserInfo("gLGIN_IP")));
	fun_ds_srch(ds_if_reset_data,"in_mod_dtime","");
					
	var	strSvcID = "IF_CSC_ITRT_049";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_reset_env:a INTERFACE_DATA=ds_if_reset_data:a";
	var	strOutDatasets = "ds_if_reset_common=DS_COMMON ds_if_reset_header=DS_HEADER ds_if_reset_column=DS_COLUMN ds_if_reset_record=DS_RECORD";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBack";
	var strProcessBar = true;
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);	  	
	
}

// KIXX 캐쉬 버튼클릭
function Btn_KixxCash_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO"))==""){
		cf_Alert("COME0013","고객");	
		return;
	}
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","KIXX 캐쉬 업무처리");	
		return;
	}	
	
	ds_get_param.clearData();
	ds_set_param.clearData();
	
	fun_ds_srch(ds_get_param, "CUST_NO",getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));							
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};
	

	PopupDialog("BNS750","BNS::BNS750.xfdl", -1, -1, 650, 456, false, -1, arrParam, false, false, true, false);	
}

// 불만접수 버튼클릭(임시고객가능)
function Btn_Cmp_onclick(obj:Button,  e:ClickEventInfo)
{
	var objCnslDs 	= this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];	// 상담일련번호 DS
	var strCnslSeq	= "";
	var strPhRecSeq = "";	
	
	if(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")) == ""){
		if(getTrim(ds_cust_info.getColumn(0,"OT_CUST_NM")) == ""){		
			cf_Alert("COME0013","고객");		
			return;
		}
	}
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","불만접수 업무처리");	
		return;
	}	
	
	if(objCnslDs.rowcount > 0){
		strCnslSeq = getTrim(objCnslDs.getColumn(0,"CNSL_SEQ_NO"));
	}

	if(objPHN){
		strPhRecSeq = objPHN.getCallID();
	}
	ds_get_param.clearData();
	ds_set_param.clearData();
	
	fun_ds_srch(ds_get_param, "CNSL_SEQ_NO",strCnslSeq);
	fun_ds_srch(ds_get_param, "PH_REC_SEQ_NO",strPhRecSeq);
	
	if(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")) != ""){
		fun_ds_srch(ds_get_param, "CUST_ID",getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));
	}else{
		fun_ds_srch(ds_get_param, "CUST_ID",getTrim(ds_cust_info.getColumn(0,"OT_CUST_NM")));		
	}
	fun_ds_srch(ds_get_param, "CUST_NM",getTrim(ds_cust_info.getColumn(0,"OT_CUST_NM")));
	fun_ds_srch(ds_get_param, "HOME_ZIP_CODE",getTrim(ds_cust_info.getColumn(0,"OT_HOME_ZIP_CODE")).replace("-",""));
	fun_ds_srch(ds_get_param, "HOME_MID_ADDR",getTrim(ds_cust_info.getColumn(0,"OT_HOME_MID_ADDR")));
	fun_ds_srch(ds_get_param, "HOME_ADDR",getTrim(ds_cust_info.getColumn(0,"OT_HOME_ADDR")));		
	fun_ds_srch(ds_get_param, "HOME_PHONE_NO",getTrim(ds_cust_info.getColumn(0,"OT_HOME_PHONE_NO")).replace("-",""));	
	fun_ds_srch(ds_get_param, "HND_PHONE_NO",getTrim(ds_cust_info.getColumn(0,"OT_HND_PHONE_NO")).replace("-",""));
	fun_ds_srch(ds_get_param, "INTG_CUST_NO",getTrim(ds_cust_info.getColumn(0,"OT_INTG_CUST_NO")));	

	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	parent.mdiOpen("CMP010","CMP::CMP010.xfdl","불만접수", 393, 23, 1632, 553, false, "absolute", arrParam, true, false, true, false);
}


// SMS발송 버튼클릭
function Btn_SendSms_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","SMS 발송");	
		return;
	}	

	var objCnslDs 		= this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];	// 상담일련번호 DS
	
	if(objCnslDs.rowcount < 1){
		cf_Alert("BNSE0020",obj.text);		
		return;
	}
/*	
	if(ds_cust_info.getColumn(0,"OT_SMS_RCV_YN") == "N"){		
		if (!cf_Confirm("BNSI0009","SMS"))	return; 	// 	
	}
*/	
	ds_get_param.clearData();
	ds_set_param.clearData();


	fun_ds_srch(ds_get_param, "gubun", "1");
	fun_ds_srch(ds_get_param, "CNSL_SEQ_NO",objCnslDs.getColumn(0,"CNSL_SEQ_NO"));						
	fun_ds_srch(ds_get_param, "CUST_ID",ds_cust_info.getColumn(0,"IO_CUST_NO"));
	fun_ds_srch(ds_get_param, "CUST_NM",ds_cust_info.getColumn(0,"OT_CUST_NM"));	
	fun_ds_srch(ds_get_param, "TR_PHONE",getTrim(ds_cust_info.getColumn(0,"OT_HND_PHONE_NO")).replace("-",""));	
							
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	PopupDialog("COM170","COM::COM170.xfdl", -1, -1, 795, 652, false, -1, arrParam, false, false, true, false);	
}

// Email발송 버튼클릭
function Btn_SendEml_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","Email 발송");	
		return;
	}	
	
	var objCnslDs 		= this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];	// 상담일련번호 DS
	
	if(objCnslDs.rowcount < 1){
		cf_Alert("BNSE0020",obj.text);		
		return;
	}
/*		
	if(ds_cust_info.getColumn(0,"OT_EM_RCV_YN") == "N"){		
		if (!cf_Confirm("BNSI0009","Email"))	return; 	// 	
	}		
*/	
	ds_get_param.clearData();
	ds_set_param.clearData();

	fun_ds_srch(ds_get_param, "gubun", "1");
	fun_ds_srch(ds_get_param, "CNSL_SEQ_NO",objCnslDs.getColumn(0,"CNSL_SEQ_NO"));						
	fun_ds_srch(ds_get_param, "CUST_ID",ds_cust_info.getColumn(0,"IO_CUST_NO"));
	fun_ds_srch(ds_get_param, "CUST_NM",ds_cust_info.getColumn(0,"OT_CUST_NM"));	
	fun_ds_srch(ds_get_param, "TOMAILADDRESS", ds_cust_info.getColumn(0,"OT_EML_ADDR"));
	fun_ds_srch(ds_get_param, "BIZ_DV_CD", "2");  //1공통 / 2상담 / 3불만 / 4문의/ 5구매		
							
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	PopupDialog("COM190","COM::COM190.xfdl", -1, -1, 800, 862, false, -1, arrParam, false, false, true, false);
	
}

//FAX발송 버튼클릭
function Btn_SendFax_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","FAX 발송");	
		return;
	}	
	
	var objCnslDs 		= this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];	// 상담일련번호 DS
	
	if(objCnslDs.rowcount < 1){
		cf_Alert("BNSE0020",obj.text);		
		return;
	}	
	
	ds_get_param.clearData();
	ds_set_param.clearData();

	fun_ds_srch(ds_get_param, "gubun", "1");
	fun_ds_srch(ds_get_param, "CNSL_SEQ_NO",objCnslDs.getColumn(0,"CNSL_SEQ_NO"));						
	fun_ds_srch(ds_get_param, "CUST_ID",ds_cust_info.getColumn(0,"IO_CUST_NO"));
	fun_ds_srch(ds_get_param, "CUST_NM",ds_cust_info.getColumn(0,"OT_CUST_NM"));
	
	
	/*1. 고객조회 후 상담생성 버튼 클릭 후에는 FAX버튼이 정상적으로 작동
	  2. 고객조회 하지 않고 상담생성 후 FAX버튼 먹통
	    ==> OT_FAX_PHONE_NO 컬럼이 값이 생성되질않아서 replace 문구가 에러로 인하여 FAX버튼이 작동안함
	    로직 수정 (2014.05.28)
	*/
	if(ds_cust_info.getColumn(0,"OT_FAX_PHONE_NO") == '' || ds_cust_info.getColumn(0,"OT_FAX_PHONE_NO") == null)
	{
	   fun_ds_srch(ds_get_param, "TOMAILADDRESS",'');
	}
	else
	{
	   fun_ds_srch(ds_get_param, "TOMAILADDRESS",ds_cust_info.getColumn(0,"OT_FAX_PHONE_NO").replace("-",""));
	}
	
	//fun_ds_srch(ds_get_param, "TOMAILADDRESS",ds_cust_info.getColumn(0,"OT_FAX_PHONE_NO").replace("-",""));
	fun_ds_srch(ds_get_param, "BIZ_DV_CD", "2");  //1공통 / 2상담 / 3불만 / 4문의/ 5구매	
							
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	PopupDialog("COM180","COM::COM180.xfdl", -1, -1, 544, 541, false, -1, arrParam, false, false, true, false);	
	
}

// 고객삭제 버튼클릭
function Btn_DelCust_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","고객삭제");	
		return;
	}		
	
	if (!cf_Confirm("COMI0012","고객삭제"))	return;

	ds_if_cust_st_change_env.clearData();
	ds_if_cust_st_change_data.clearData();
	ds_if_cust_st_change_common.clearData();
	ds_if_cust_st_change_header.clearData();
	ds_if_cust_st_change_column.clearData();
	ds_if_cust_st_change_record.clearData();	
		
	fun_ds_srch(ds_if_cust_st_change_env, "IF_KIND", 			"WAS");
	fun_ds_srch(ds_if_cust_st_change_env, "REQ_SERVICE_METHOD", 	"cmCuststsUpdC01.do"); //공통이 어디까지?
	fun_ds_srch(ds_if_cust_st_change_env, "REQ_SERVICE_ID", 		"");
	fun_ds_srch(ds_if_cust_st_change_env, "RES_HEADER_SECTION", 	"STP_CM_CUSTSTS_UPD_C01_Rsp"); //xml상위 헤더항목
	fun_ds_srch(ds_if_cust_st_change_env, "RES_COLUMN_SECTION", 	""); 
	fun_ds_srch(ds_if_cust_st_change_env, "RES_RECORD_SECTION", 	""); 

	fun_ds_srch(ds_if_cust_st_change_data,"req_chnl_code","610050");
	fun_ds_srch(ds_if_cust_st_change_data,"input_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_cust_st_change_data,"input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
	fun_ds_srch(ds_if_cust_st_change_data,"input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));
	
	fun_ds_srch(ds_if_cust_st_change_data,"in_req_gbn","U");
	fun_ds_srch(ds_if_cust_st_change_data,"in_req_chnl_cd","610050");
	fun_ds_srch(ds_if_cust_st_change_data,"in_cust_no",getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));	
	fun_ds_srch(ds_if_cust_st_change_data,"in_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_cust_st_change_data,"in_cust_st_cd","04");				
	fun_ds_srch(ds_if_cust_st_change_data,"in_secs_rsn_cntt","본인요청");	
	fun_ds_srch(ds_if_cust_st_change_data,"in_dtime","");	
	fun_ds_srch(ds_if_cust_st_change_data,"in_user_id",getTrim(GetUserInfo("gUSR_ID")));	
	fun_ds_srch(ds_if_cust_st_change_data,"in_ip",getTrim(GetUserInfo("gLGIN_IP")));	

	var	strSvcID = "IF_CSC_ITRT_154";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_cust_st_change_env:a INTERFACE_DATA=ds_if_cust_st_change_data:a";
	var	strOutDatasets = "ds_if_cust_st_change_common=DS_COMMON ds_if_cust_st_change_header=DS_HEADER ds_if_cust_st_change_column=DS_COLUMN ds_if_cust_st_change_record=DS_RECORD";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBack";
	var strProcessBar = true;
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);	  	
}

// 스크립트
function Btn_Script_onclick(obj:Button,  e:ClickEventInfo)
{
	ds_set_param.clearData();
	ds_get_param.clearData();
	
	fun_ds_srch(ds_get_param, "BIZDV", "NW142");
	
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};
	//PopupDialog("HEL081", "HEL::HEL081.xfdl", -1, -1, 820, 640, false, -1, arrParam, true, false, true, false);  //스크립트 팝업	
	parent.mdiOpen("HEL081","HEL::HEL081.xfdl","업무스크립트", 10, 300, 800, 700, false, "absolute", arrParam, true, false, true, false);	
	
}

// 통합철회 버튼클릭시
function Btn_WthDrwGrp_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","통합철회");	
		return;
	}
			
	if(ds_cust_info.getColumn(0,"OT_GRP_AGR_YN") != "Y"){
		cf_Alert("BNSI0008");		
		return;
	}
	
	if (!cf_Confirm("COMI0012","통합철회"))	return;
	
	ds_if_wthdraw_grp_env.clearData();
	ds_if_wthdraw_grp_data.clearData();
	ds_if_wthdraw_grp_common.clearData();
	ds_if_wthdraw_grp_header.clearData();
	ds_if_wthdraw_grp_column.clearData();
	ds_if_wthdraw_grp_record.clearData();	
		
	// IF ENV DS
	fn_setIfEnvDs(ds_if_wthdraw_grp_env,"WAS","cmCuststsUpdC01.do","","STP_CM_CUSTSTS_UPD_C01_Rsp","","");

	fun_ds_srch(ds_if_wthdraw_grp_data,"req_chnl_code","610050");
	fun_ds_srch(ds_if_wthdraw_grp_data,"input_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_wthdraw_grp_data,"input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
	fun_ds_srch(ds_if_wthdraw_grp_data,"input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));
	
	fun_ds_srch(ds_if_wthdraw_grp_data,"in_req_gbn","U");
	fun_ds_srch(ds_if_wthdraw_grp_data,"in_req_chnl_cd","610050");
	fun_ds_srch(ds_if_wthdraw_grp_data,"in_cust_no",getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));	
	fun_ds_srch(ds_if_wthdraw_grp_data,"in_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_wthdraw_grp_data,"in_cust_st_cd","05");			// 01 정상, 02 해지(탈퇴), 05 원복, 04 즉시탈퇴(삭제)			
	fun_ds_srch(ds_if_wthdraw_grp_data,"in_secs_rsn_cntt","본인요청");	
	fun_ds_srch(ds_if_wthdraw_grp_data,"in_dtime","");	
	fun_ds_srch(ds_if_wthdraw_grp_data,"in_user_id",getTrim(GetUserInfo("gUSR_ID")));	
	fun_ds_srch(ds_if_wthdraw_grp_data,"in_ip",getTrim(GetUserInfo("gLGIN_IP")));	

	var	strSvcID = "IF_CSC_ITRT_154_WTHDRW_GRP";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_wthdraw_grp_env:a INTERFACE_DATA=ds_if_wthdraw_grp_data:a";
	var	strOutDatasets = "ds_if_wthdraw_grp_common=DS_COMMON ds_if_wthdraw_grp_header=DS_HEADER ds_if_wthdraw_grp_column=DS_COLUMN ds_if_wthdraw_grp_record=DS_RECORD";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBack";
	var strProcessBar = true;
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);	  		
}

// 카드정보 (+) 버튼 클릭시
function Btn_AddScrnHeiCrd_onclick(obj:Button,  e:ClickEventInfo)
{
	var intTabIndx 		= this.all["Tab_CrdInfo"].tabindex;
	var arrTabPageList 	= this.all["Tab_CrdInfo"].tabpages;
	var objTabPage 		= arrTabPageList(intTabIndx);
	var objTabPageGrd	= objTabPage.all["Grd_CrdInfo"];
	
	// Tab_CrdInfo Height:150
//	this.all["Tab_CrdInfo"].position.height = 406;
	this.all["Tab_CrdInfo"].position.height = 426;	
	// Grid Height : 124
//	objTabPageGrd.position.height = 380;
	objTabPageGrd.position.height = 390;	
}

// 카드정보 (-) 버튼 클릭시
function Btn_SubScrnHeiCrd_onclick(obj:Button,  e:ClickEventInfo)
{
	var intTabIndx 		= this.all["Tab_CrdInfo"].tabindex;
	var arrTabPageList 	= this.all["Tab_CrdInfo"].tabpages;
	var objTabPage 		= arrTabPageList(intTabIndx);
	var objTabPageGrd	= objTabPage.all["Grd_CrdInfo"];
	
	// Tab_CrdInfo Height:406
	this.all["Tab_CrdInfo"].position.height = 126;
	// Grid Height : 380
	objTabPageGrd.position.height = 100;
	
}


/********************************************************************************** 
 *****	카드정보 탭변경시
***********************************************************************************/
function Tab_CrdInfo_onchanged(obj:Tab, e:TabIndexChangeEventInfo)
{
	Btn_SubScrnHeiCrd_onclick();
	switch(Tab_CrdInfo.tabindex)
	{
		case 0 : 
			this.all["Tab_CrdInfo"]["tabpage1"].fn_srchFormData();			//정상카드
			Btn_exel_dn.visible = true ; 
			break;
		case 1 : 
			this.all["Tab_CrdInfo"]["tabpage2"].fn_srchFormData();			// 전체카드
			Btn_exel_dn.visible = false ; 
			break;
		case 2 : 
			this.all["Tab_CrdInfo"]["tabpage3"].fn_srchFormData();			// 재발급/정지카드
			Btn_exel_dn.visible = false ; 
			break;			
		case 3 : 
			this.all["Tab_CrdInfo"]["tabpage4"].fn_srchFormData();			// 말소카드
			Btn_exel_dn.visible = false ; 
			break;
		case 4 : 
			this.all["Tab_CrdInfo"]["tabpage5"].fn_srchFormData();			// 가상카드
			Btn_exel_dn.visible = false ; 
			break;			
		case 5 : 
			this.all["Tab_CrdInfo"]["tabpage6"].fn_srchFormData();			// 발송정보(인터넷)
			Btn_exel_dn.visible = false ; 
			break;			
		case 6 : 
			this.all["Tab_CrdInfo"]["tabpage7"].fn_srchFormData();			//발송정보(법인)
			Btn_exel_dn.visible = false ; 
			break;			
		case 7 : 
			this.all["Tab_CrdInfo"]["tabpage8"].fn_srchFormData();			//회원카드목록
			Btn_exel_dn.visible = false ; 
			break;
		case 8 : 
			this.all["Tab_CrdInfo"]["tabpage9"].fn_srchFormData();			//RF회원 카드 신청 내역
			Btn_exel_dn.visible = false ; 
			break;
		case 9 : 
			this.all["Tab_CrdInfo"]["tabpage10"].fn_srchFormData();			//다이나믹프라이싱 조회
			Btn_exel_dn.visible = false ; 
			break;
		default : 
			break;
	}
}

/********************************************************************************** 
 *****	보너스카드 탭변경시 
***********************************************************************************/
function Tab_BnsHistInfo_onchanged(obj:Tab, e:TabIndexChangeEventInfo)
{
	this.all["Tab_BnsHistInfo"]["tabpage1"].Btn_SubScrnHei_onclick();
	
	switch(obj.tabindex)
	{
		case 0 :
			this.all["Tab_BnsHistInfo"]["tabpage1"].fn_srchFormData();			// 구매이력
			break;			
		case 1 :
			if(ds_tab_proc_yn.getColumn(0,"Tab_BnsHistInfo_tabpage2") == "Y"){
				this.all["Tab_BnsHistInfo"]["tabpage2"].all["Tab_UsrInfoHist"].tabindex = 0;
			}
			this.all["Tab_BnsHistInfo"]["tabpage2"].fn_srchFormData();			// 고객정보변경이력
			break;
		case 2 :
			this.all["Tab_BnsHistInfo"]["tabpage3"].fn_srchFormData();			// 소멸포인트조회
			break;				
		case 3 :
			this.all["Tab_BnsHistInfo"]["tabpage4"].fn_srchFormData();			// 나눔카드기부조회
			break;			
		case 4 :
			this.all["Tab_BnsHistInfo"]["tabpage5"].fn_srchFormData();			// 펀치회원
			break;			
		case 5 : 
			this.all["Tab_BnsHistInfo"]["tabpage6"].fn_srchFormData();			// 탈퇴이력
			break;
		case 6 : 
			this.all["Tab_BnsHistInfo"]["tabpage7"].fn_srchFormData();			// 그룹SLO상세조회
			break;
		case 7 : 
			this.all["Tab_BnsHistInfo"]["tabpage8"].fn_srchFormData();			// VRM 고객조회
			break;
		case 8 : 
			this.all["Tab_BnsHistInfo"]["tabpage9"].fn_srchFormData();			// 제휴카드
			break;	
		default : 
			break;
	}
}


/********************************************************************************** 
 *****	접촉이력 탭변경시 
***********************************************************************************/
function Tab_CntctHistInfo_onchanged(obj:Tab, e:TabIndexChangeEventInfo)
{
	var strCustNo = getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO"));
	var objCnslDs = this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];	// 상담일련번호 DS		
	
	switch(Tab_CntctHistInfo.tabindex)
	{
		case 0 :
			if(strCustNo != "" || objCnslDs.rowcount > 0 )
				this.all["Tab_CntctHistInfo"]["tabpage1"].fn_srchFormData();			// 접촉저장
			else	
				this.all["Tab_CntctHistInfo"]["tabpage1"].fn_clearFormData();			// 접촉저장
			break;
	    case 1 :			
			this.all["Tab_CntctHistInfo"]["tabpage2"].fn_srchFormData();				// 접촉이력
			break;			
	    case 2 :
			this.all["Tab_CntctHistInfo"]["tabpage3"].fn_srchFormData();				// TM접촉이력(OUTBOUND)
			break;
	    case 3 :
			this.all["Tab_CntctHistInfo"]["tabpage4"].fn_srchFormData();				// SMS이력
			break;
	    case 4 :
			this.all["Tab_CntctHistInfo"]["tabpage5"].fn_srchFormData();				// FAX이력
			break;
	    case 5 :
			this.all["Tab_CntctHistInfo"]["tabpage6"].fn_srchFormData();				// Email이력
			break;
	    case 6 :
			this.all["Tab_CntctHistInfo"]["tabpage7"].fn_srchFormData();				// IVR이력
			break;				
		case 7 :
			if(strCustNo != "")
				this.all["Tab_CntctHistInfo"]["tabpage8"].fn_srchFormData();			// 불만이력
			else	
				this.all["Tab_CntctHistInfo"]["tabpage8"].fn_clearFormData();			// 불만이력
			break;
	    case 8 :
			this.all["Tab_CntctHistInfo"]["tabpage9"].fn_srchFormData();				// 설문이력
			break;
	    case 9 :
			this.all["Tab_CntctHistInfo"]["tabpage10"].fn_srchFormData();				// 예약리스트
			break;				
		default : 
			break;
		
	}
	
}


/********************************************************************************** 
 *****	다른화면에서 상담관리  OPEN 시 
***********************************************************************************/

function getFormEvent(pgmId, arrParam)
{
	//cf_trace(arrParam.ds.saveXML());
	switch(arrParam.frmPgmId)
	{
		// 초기화면 예약리스트탭
		case "COM030_tabpage1" :
		// 예약콜리스트
		case "SCH020" :
			var objCnslDs = this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];	// 상담일련번호 DS
			if(objCnslDs.rowcount > 0){
				cf_Alert("BNSE0021");
				break;
			}else{
				var objSelCustDs =  this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_sel_cust"];
				objSelCustDs.clearData();
				objSelCustDs.addRow();
				objSelCustDs.setColumn(0,"CUST_NO",arrParam.custId);
				objSelCustDs.setColumn(0,"SRCH_KEY",arrParam.rsvSeqNo);								
				strSrchFlg = "3";
				// 인바운드 콜 인입 여부
				ds_srch_flg.setColumn(0,"CALL_IN_YN","N");								
				// 조회조건초기화
				fn_ClrSrchCond();
				// 화면Clear
				fn_clearCustInfo();
				cf_trace("arrParam.custId",arrParam.custId);				
				if(arrParam.custId.length == 10){
					// 상세기본정보
					fn_srchCustDtlsInfo(arrParam.custId);
					
					/* 기존고객등급조회 -> GS&포인트 회원등급조회 변경
					 * 2025.02.06 | NP847
					 * fn_srchCustGrd(arrParam.custId);
					*/
					fn_srchcmCustGrd(arrParam.custId);
				}else{
					// 가맹점정보조회
					Edt_SrchSapId.value = arrParam.custId;
					fn_srchFrchInfo(arrParam.custId);					
				}
				break;			
			}		
			
		// 초기화면 메일탭
		case "COM030_tabpage2" :
						
		// 초기화면 설문탭
		case "COM030_tabpage3" :
			var objCnslDs = this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];
			
			if(objCnslDs.rowcount > 0){
				if(ds_srch_flg.getColumn(0,"FLAG") == "0"){
					cf_Alert("BNSE0005");			
					return;
				}else{
					cf_Alert("BNSE0006");			
					return;			
				}
			}
			
			//접촉저장의 DS
			var objSelCustDs = this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_sel_cust"];
			var objObAsgnDs  = arrParam.ds_ob_list;
			var strCustNo	 = getTrim(objObAsgnDs.getColumn(objObAsgnDs.rowposition,"CUST_NO"));
			objSelCustDs.clearData();
			objSelCustDs.addRow();
			objSelCustDs.setColumn(0,"CUST_NO",strCustNo);
			objSelCustDs.setColumn(0,"SRCH_KEY",objObAsgnDs.getColumn(objObAsgnDs.rowposition,"SRCH_KEY"));
			
			// OB LIST 조회인 경우 FLAG를 변경
			if(objObAsgnDs.getColumn(objObAsgnDs.rowposition,"OB_DIV") == "캠페인"){
				strSrchFlg = "1";
				objSelCustDs.setColumn(0,"CMP_ID",objObAsgnDs.getColumn(objObAsgnDs.rowposition,"CMP_ID"));
				objSelCustDs.setColumn(0,"GOAL_NCNT",objObAsgnDs.getColumn(objObAsgnDs.rowposition,"GOAL_NCNT"));
				objSelCustDs.setColumn(0,"GOAL_ACVMT_NCNT",objObAsgnDs.getColumn(objObAsgnDs.rowposition,"GOAL_ACVMT_NCNT"));		
			} else if(objObAsgnDs.getColumn(objObAsgnDs.rowposition,"OB_DIV") == "Email"){
				strSrchFlg = "2";
				objSelCustDs.setColumn(0,"CUST_MESE_SEQ_NO",objObAsgnDs.getColumn(objObAsgnDs.rowposition,"CUST_MESE_SEQ_NO"));
				objSelCustDs.setColumn(0,"CUST_MESE_SEQ",objObAsgnDs.getColumn(objObAsgnDs.rowposition,"CUST_MESE_SEQ"));				
			}
			
			// 인바운드 콜 인입 여부			
			ds_srch_flg.setColumn(0,"CALL_IN_YN","N");								
			// 조회조건초기화
			fn_ClrSrchCond();
			// 화면Clear
			fn_clearCustInfo();
			if(strCustNo.length == 10){
				Edt_SrchCustNo.value = strCustNo;
				// 상세기본정보
				fn_srchCustDtlsInfo(strCustNo);
				
				/* 기존고객등급조회 -> GS&포인트 회원등급조회 변경
				 * 2025.02.06 | NP847
				 * fn_srchCustGrd(strCustNo);
				*/
				fn_srchcmCustGrd(strCustNo);
				
				break;
			}else{
				// 가맹점정보조회
				Edt_SrchSapId.value = strCustNo;
				fn_srchFrchInfo(strCustNo);
				break;
			}					
	
		// 설문배정리스트
		case "SCH010" :
					
		// Email배정리스트
		case "SCH040" :
			this.all["Tab_SmryInfo"].tabindex = 1;
			var objObListDs = this.all["Tab_SmryInfo"]["tabpage2"].all["ds_ob_list"];
			objObListDs.appendData(arrParam.ds_ob_list,true);			
			break;
		
		// 불만이력조회
		case "CMP180" :
			var objCnslDs = this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];	// 상담일련번호 DS
			if(objCnslDs.rowcount > 0){
				cf_Alert("BNSE0022","해당고객");
				break;
			}else{		
				fn_ClrSrchCond();		
				Edt_SrchCustNo.value = getTrim(arrParam.CUST_ID);
				Btn_SrchCustInfo_onclick();
				break;
			}
			
		// 최근조회고객	
		case "TopFrame" :
			fn_ClrSrchCond();
			if(getTrim(arrParam.custNo).length == 10){				
				Edt_SrchCustNo.value = getTrim(arrParam.custNo);
				Btn_SrchCustInfo_onclick();
				break;				
			}else{
				Edt_SrchSapId.value = getTrim(arrParam.custNo);
				Btn_SrchCustInfo_onclick();
				break;
			}

			break;
		// 최근조회고객	
		case "LPS010" :
			//alert("LPS010 CALL");
			//초기화 하고
			Btn_SrchClear_onclick();
			//카드 번호 셋팅 
			Msk_SrchCrdNo.value = getTrim(arrParam.Edt_SrchCustNo)
			//조회는 사용자가.			
						
			break;			
		default :
			break;
	}
	
}

/********************************************************************************** 
 *****	전화이벤트
***********************************************************************************/
function getPhnEvent(arrParam){
	
	switch(arrParam.frmPgmId)
	{
		// 전화연결
		case "COM121_CNCT" :			
			cf_trace("arrParam.frmPgmId",arrParam.frmPgmId);
			cf_trace("arrParam.cust_id",arrParam.cust_id);
			cf_trace("arrParam.cust_id",arrParam.key_gubun);			
			
			// ===========================================================
			// 임시 디버깅
			// ===========================================================
			/*
			trace("====================================================\n"
				  + "================= UEI 데이터 확인=================\n"
				  + "====================================================\n"
				  + "jumin_no==> [" 			+ g_dtmf_no + "]\n"
				  + "bday==> [" 				+ g_dtmf_bday + "]\n"
				  + "sex_cd==> [" 				+ g_dtmf_sex_cd + "]\n"
				  + "com_co_div_cd==> [" 		+ g_dtmf_com_co_div_cd + "]\n"
				  + "authn_sbjt_cd==> [" 		+ g_dtmf_authn_sbjt_cd + "]\n"
				  + "cphn_head_tphn_no==> [" 	+ g_dtmf_cphn_head_tphn_no + "]\n"
				  + "cphn_min_tphn_no==> [" 	+ g_dtmf_cphn_min_tphn_no + "]\n"
				  + "cphn_fnl_tphn_no==> [" 	+ g_dtmf_cphn_fnl_tphn_no + "]");
			*/
			// ===========================================================
			BNS010.ds_srch_flg.setColumn(0,"CALL_IN_CUST_NO",arrParam.cust_id);
			BNS010.fn_clearCustInfo();			
			BNS010.fn_ClrSrchCond();
			
			
			// 인입번호세팅
			var inip = arrParam.inlineno;			
			var objInLineDs = BNS010.all["Tab_SmryInfo"]["tabpage1"].all["ds_inline_no"];
			objInLineDs.clearData();
			objInLineDs.addRow();
			objInLineDs.setColumn(0,"INLINE_NO",inip);
			
			
			if(arrParam.key_gubun == "03"){									// 가맹점
				cf_trace("SAP코드 또는 SITE코드(호전환시) 인입: ",arrParam.cust_id);
				cf_trace("CALL_IN_CUST_NO : ", BNS010.ds_srch_flg.getColumn(0,"CALL_IN_CUST_NO"));												
				if(arrParam.cust_id != ""){
					// 고객조회
					BNS010.fn_SrchInbndCallCust(arrParam.cust_id,arrParam.key_gubun);
				} else {
					// 고객번호 미조회 고객정보 셋팅
					BNS010.set_NoneCustNo_CustInfo();
				}
				
			}else {			// 개인고객
				cf_trace("개인고객번호 인입: ",arrParam.cust_id);	
				cf_trace("CALL_IN_CUST_NO : ", BNS010.ds_srch_flg.getColumn(0,"CALL_IN_CUST_NO"));
				// 고객번호세팅
				if(arrParam.cust_id != ""){
					BNS010.Edt_SrchCustNo.value = arrParam.cust_id;
					// 고객조회
					BNS010.fn_SrchInbndCallCust(arrParam.cust_id,arrParam.key_gubun);					
				} else {
					// 고객번호 미조회 고객정보 셋팅
					BNS010.set_NoneCustNo_CustInfo();
				}
			}
			
			
			break;
		
		// 전화받기
		case "COM121_PICK" :
			cf_trace("BNS010 받기 이벤트 : ", "COM121_PICK");	
			BNS010.all["Tab_CntctHistInfo"]["tabpage1"].tabindex = 0;				
			// 상담생성
			BNS010.all["Tab_CntctHistInfo"]["tabpage1"].fn_creCnslSeq();
			break;

		// 전화끊기
		case "COM121_HANGUP" :
			cf_trace("BNS010 끊기 이벤트 : " ,"COM121_HANGUP");
			var objCnslDs = BNS010.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];	// 상담일련번호 DS

			cf_trace("setHangUpSaveYn : N");
			// DTMF 초기화
			cf_trace("전화끊기 g_dtmf_no 초기화");
			g_dtmf_no = "";
			// 통화종료시간 저장을 위해 끊기 후 저장을 하도록 함.
			setHangUpSaveYn("N");
			
			cf_trace("BNS010통화종료시간호출 : " ,"COM121_HANGUP");					
			BNS010.all["Tab_CntctHistInfo"]["tabpage1"].fn_saveCallEndDtm();				
	
			break;				
		// 대기버튼 클릭시
		case "COM121_READY" :
			cf_trace("COM121_READY 대기 상담완료");		
			BNS010.all["Tab_CntctHistInfo"]["tabpage1"].fn_ClearCnsl();
			BNS010.all["Tab_CntctHistInfo"]["tabpage1"].tabindex = 0;			
			BNS010.fn_clearCustInfo();
			BNS010.fn_ClrSrchCond();
			BNS010.fn_clearFlag();
			// 접촉저장 탭페이지1
			BNS010.all["Tab_CntctHistInfo"].tabindex = 0;			
			BNS010.parent.fnSubMdiPopupRealClose();			
			break;
			
		// 휴식버튼 클릭시
		case "COM121_NOTREADY" :
			cf_trace("COM121_NOTREADY 휴식 상담완료");				
//			BNS010.all["Tab_CntctHistInfo"]["tabpage1"].fn_ClearCnsl();
//			BNS010.all["Tab_CntctHistInfo"]["tabpage1"].tabindex = 0;			
//			BNS010.fn_clearCustInfo();
//			BNS010.fn_ClrSrchCond();			
			break;
						
		// OB 전화연결시 연결전화번호
		case "COM121_CALLNO" :
			// OB연결 전화번호 세팅
			cf_trace("arrParam.callNo",arrParam.callNo);
			var inip = arrParam.callNo;
			var objInLineDs = BNS010.all["Tab_SmryInfo"]["tabpage1"].all["ds_inline_no"];
			objInLineDs.clearData();
			objInLineDs.addRow();
			objInLineDs.setColumn(0,"INLINE_NO",inip);
			BNS010.all["Tab_SmryInfo"]["tabpage1"].fn_setInlineNo();
						
			// 알람처리
			BNS010.fn_procRsvCall();			
			
			// 상담생성
			cf_trace("BNS010 COM121_CALLNO 상담생성");			
			BNS010.all["Tab_CntctHistInfo"]["tabpage1"].fn_creCnslSeq();			
			break;
			
		// CALL 상태변경
		case "COM121_CHANGE" :
		
			cf_trace("BNS010 COM121_CHANGE CALL 상태변경", getCallStatus());
			if(getCallStatus() != "AWC"){
				cf_trace("BNS010 상담Clear 호출");
				var objInLineDs = BNS010.all["Tab_SmryInfo"]["tabpage1"].all["ds_inline_no"];
				objInLineDs.clearData();
				BNS010.all["Tab_SmryInfo"]["tabpage1"].fn_setInlineNo();							
				BNS010.all["Tab_CntctHistInfo"]["tabpage1"].fn_ClearCnsl();	
			}
			
			break;			
			
		// DTMF 주민번호받기	
		case "DTMF_10" :				
			var new_jumin_no = arrParam.new_jumin_no;			
			//trace("result.service_gubun==>" + arrParam.service_gubun);
			//trace("result.agent_ip==>" 		+ arrParam.agent_ip);
			//trace("result.agent_port==>" 	+ arrParam.agent_port);
			//trace("result.new_jumin_no==>" 	+ arrParam.new_jumin_no);
			//trace("result.yak_yn==>" 		+ arrParam.yak_yn);
			//trace("result.info_yn==>" 		+ arrParam.info_yn);
			
			BNS010.fn_ClrSrchCond();
			BNS010.Msk_SrchTailRsBzNo.value 	= BNS010.getTrim(new_jumin_no);
				
			//trace("주민번호로 고객조회"	+ new_jumin_no);
			BNS010.fn_SrchCustInfoARS();
			break;

			
		// DTMF 주민번호받기	
		case "DTMF_75" :	
			//서비스 75번 (생년월일, 성별, 핸드폰번호)
			//trace("BNS010_result.bday==>" 				+ arrParam.bday);
			//trace("BNS010_result.sex_cd==>" 			+ arrParam.sex_cd);
			//trace("BNS010_result.cphn_head_tphn_no==>"  + arrParam.cphn_head_tphn_no);
			//trace("BNS010_result.cphn_min_tphn_no==>" 	+ arrParam.cphn_min_tphn_no);
			//trace("BNS010_result.cphn_fnl_tphn_no==>" 	+ arrParam.cphn_fnl_tphn_no);	
			
			BNS010.fn_ClrSrchCond();
			
			BNS010.Edt_SrchCuikBday.value 	= BNS010.getTrim(arrParam.bday);
			BNS010.Cmb_SrchSexCd.value 		= BNS010.getTrim(arrParam.sex_cd);
			BNS010.Edt_SrchCelPhone.value 	= BNS010.getTrim(arrParam.cphn_head_tphn_no) 
										+ "-" + BNS010.getTrim(arrParam.cphn_min_tphn_no) 
										+ "-" + BNS010.getTrim(arrParam.cphn_fnl_tphn_no); 		
				
			//trace("ARS고객조회로 고객조회");
			BNS010.fn_SrchCustInfoARS();
			break;	
			
		default :
			break;
	}
}

/********************************************************************************** 
 *****  상담화면 업무처리정보 및 고객정보변경시 이력저장
***********************************************************************************/
// 업무처리정보
function fn_saveBizProc(strPgmId, strCrdNo, strProcAtm)
{
	var objCnslDs  = this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];
	var strCnslSeq = "";
	
	if(objCnslDs.rowcount  > 0){
		strCnslSeq = objCnslDs.getColumn(0,"CNSL_SEQ_NO")
	}

	var obj = new Object();	
	obj.PGM_ID 		= strPgmId;
	obj.CUST_ID 	= ds_cust_info.getColumn(0,"IO_CUST_NO");
	obj.CRD_NO 		= strCrdNo;
	obj.PROC_ATM 	= strProcAtm;
	obj.CNSL_SEQ_NO = strCnslSeq;
	obj.USR_ID 		= getTrim(GetUserInfo("gUSR_ID"))
	
	setBizProcInfo(obj);
	
	var	strSvcID = "C1";
	var	strURL = SVC_USR_URL;
	var	strInDatasets = "INSERT_0_IDATA=gds_BizProcInfo:a"; 
	var	strOutDatasets = "";
	var	strArgument = "INSERT_0_ID=Common.Set_BizProcInfo_INSERT";
	var strCallbackFunc = "fn_callBack";
	var strProcessBar = true;
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);		
}

// 업무처리정보세팅
function setBizProcInfo(arrObj){

	gds_BizProcInfo.clearData();
	
	var row = gds_BizProcInfo.addRow();
	gds_BizProcInfo.setColumn(row, "PGM_ID" 		, arrObj.PGM_ID);
	gds_BizProcInfo.setColumn(row, "CUST_ID" 		, arrObj.CUST_ID);
	gds_BizProcInfo.setColumn(row, "CRD_NO" 		, arrObj.CRD_NO);
	gds_BizProcInfo.setColumn(row, "PROC_ATM" 		, arrObj.PROC_ATM);
	gds_BizProcInfo.setColumn(row, "CNSL_SEQ_NO" 	, arrObj.CNSL_SEQ_NO);
	gds_BizProcInfo.setColumn(row, "USR_ID" 		, arrObj.USR_ID);
	
//	trace(gds_BizProcInfo.saveXML());
}

// 고객정보저장시 이력 DB저장 (업무처리정보, 통계정보, 이력정보)
function fn_saveCustInfoHist()
{	
	var	strSvcID = "C2";
	var	strURL = SVC_USR_URL;
	var	strInDatasets = 				 "INSERT_0_IDATA=ds_biz_proc_list:a";
		strInDatasets = strInDatasets + " INSERT_1_IDATA=ds_upd_cust_info_stt:a";
		//strInDatasets = strInDatasets + " INSERT_2_IDATA=ds_cust_srch_upd_hist:a";	 //20151112 GSC 요청으로 고객정보저장 막음		 
	var	strOutDatasets = "";
	var	strArgument = 				 "INSERT_0_ID=Common.Set_BizProcInfo_INSERT";
		strArgument = strArgument + " INSERT_1_ID=BNS010.Set_UpdHistStt_INSERT";
		//strArgument = strArgument + " INSERT_2_ID=BNS010.Set_SrchUpdHist_INSERT";		//20151112 GSC 요청으로 고객정보저장 막음
	 
	var strCallbackFunc = "fn_callBack";
	var strProcessBar = true;
			
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);		
	
}

// 고객정보변경 업무처리정보리스트 항목추가
function fn_addBizProcList(strPgmId, strCrdNo, strProcAtm)
{
	var objCnslDs  = this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];
	var strCnslSeq = "";
	
	if(objCnslDs.rowcount  > 0){
		strCnslSeq = objCnslDs.getColumn(0,"CNSL_SEQ_NO")
	}
	
	var intRow = ds_biz_proc_list.addRow();
	ds_biz_proc_list.setColumn(intRow,"PGM_ID" 		,strPgmId);
	ds_biz_proc_list.setColumn(intRow,"CUST_ID" 	,ds_cust_info.getColumn(0,"IO_CUST_NO"));
	ds_biz_proc_list.setColumn(intRow,"CRD_NO" 		,strCrdNo);
	ds_biz_proc_list.setColumn(intRow,"PROC_ATM" 	,strProcAtm);
	ds_biz_proc_list.setColumn(intRow,"CNSL_SEQ_NO" ,strCnslSeq);
	ds_biz_proc_list.setColumn(intRow,"USR_ID" 		,getTrim(GetUserInfo("gUSR_ID")));						
}

// 고객정보변경이력 통계용 항목추가
function fn_addUpdCustInfoStt(strDvCd,strBfCtt,strAfCtt,strIbndYn)
{
	var intRow	= ds_upd_cust_info_stt.addRow();
	ds_upd_cust_info_stt.setColumn(intRow,"UPD_DV_CD",strDvCd);
	ds_upd_cust_info_stt.setColumn(intRow,"CUST_ID",getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));
	ds_upd_cust_info_stt.setColumn(intRow,"CORC_BEF_CTT",strBfCtt);
	ds_upd_cust_info_stt.setColumn(intRow,"CORC_AF_CTT",strAfCtt);
	ds_upd_cust_info_stt.setColumn(intRow,"INBND_YN",strIbndYn);				
}

// 고객조회 및 변경이력 항목추가
function fn_setCustSrchUpdHistDs(strSaveDiv)
{
	ds_cust_srch_upd_hist.clearData();
	ds_cust_srch_upd_hist.copyData(ds_cust_info,false);
	
	fun_ds_srch(ds_cust_srch_upd_hist,"INQ_CORC_DV_CD",strSaveDiv);
	
	var strFstRegDt	= getTrim(ds_cust_srch_upd_hist.getColumn(0,"OT_FST_REG_DT")).replace("/","").replace(":","").replace(" ","").replace(".","");
	var strInptDt	= getTrim(ds_cust_srch_upd_hist.getColumn(0,"OT_INPT_DTIME")).replace("/","").replace(":","").replace(" ","").replace(".","");
	var strFstAgrDt = getTrim(ds_cust_srch_upd_hist.getColumn(0,"OT_FST_GRP_AGR_DTIME")).replace("/","").replace(":","").replace(" ","").replace(".","");
	var strAuthnDtime = getTrim(ds_cust_srch_upd_hist.getColumn(0,"OT_AUTHN_DTIME")).replace("/","").replace(":","").replace(" ","").replace(".","");
		
		
	ds_cust_srch_upd_hist.setColumn(0,"OT_FST_REG_DT",strFstRegDt);
	ds_cust_srch_upd_hist.setColumn(0,"OT_INPT_DTIME",strInptDt);
	ds_cust_srch_upd_hist.setColumn(0,"OT_FST_GRP_AGR_DTIME",strFstAgrDt);
	ds_cust_srch_upd_hist.setColumn(0,"OT_AUTHN_DTIME",strAuthnDtime);
	
}

/********************************************************************************** 
 *****	기타 처리 함수
***********************************************************************************/
// 화면 클리어
function fn_clearCustInfo()
{
	//초기화 추가 20160704
	ds_if_cust_dtl_record.clearData();
	
	//초기화 추가 20171108
	ds_if_sg_sel_record.clearData();
	
	// 고객정보
	ds_cust_info.clearData();
	Chk_HomePhnErrYn.value 	= false;
	Chk_OffPhnErrYn.value	= false;
	Chk_CelPhnErrYn.value	= false;
	
	ds_cust_info.addRow();
	for(i=0; i < ds_cust_info.getColCount(); i++)
	{
		ds_cust_info.setColumn(0,i,"");
	}
	
	// flag 초기화
	ds_srch_flg.setColumn(0,"FRCH_YN","N");	
	
	// summary
	this.all["Tab_SmryInfo"].tabindex = 0;
	this.all["Tab_SmryInfo"]["tabpage1"].fn_clearFormData();
	
	// 카드정보
	ds_if_crd_pblc_record.clearData();
	Btn_SubScrnHeiCrd_onclick();		
	this.all["Tab_CrdInfo"].tabindex = 0;	
	this.all["Tab_CrdInfo"]["tabpage1"].fn_clearFormData();
		
	// 구매이력
	this.all["Tab_BnsHistInfo"].tabindex = 0;
	this.all["Tab_BnsHistInfo"]["tabpage1"].Btn_SubScrnHei_onclick();
	this.all["Tab_BnsHistInfo"]["tabpage1"].fn_clearFormData();

	Stt_WebId.text = "웹아이디(자사)";
	
 	g_top.Btn_S2SCall.enable = false;
 	this.all["Tab_CntctHistInfo"]["tabpage1"].all["Edt_CustTend00"].value = "";
}


// 전화걸기시 예약콜알람 삭제
function fn_procRsvCall()
{
	if(ds_srch_flg.getColumn(0,"FLAG") == "3"){
		var objSelCustDs =  this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_sel_cust"];
		
		ds_alarm.clearData();
		ds_alarm.addRow();
		ds_alarm.setColumn(ds_alarm.rowposition,"ALRM_DV_CD","2");
		ds_alarm.setColumn(ds_alarm.rowposition,"RSV_SEQ_NO",objSelCustDs.getColumn(0,"SRCH_KEY"));		

		var strSvcID = "D1";
		var strURL = SVC_USR_URL;
		var strInDatasets = "DELETE_0_IDATA=ds_alarm:a"; 
		var strOutDatasets = "";
		var strArgument = "DELETE_0_ID=Common.Set_AlamInf_RSV_DELETE"; 	
		var strCallbackFunc = "fn_callBack";
		var strProcessBar = true;
		
		cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);
	}else{
		return;
	}
}

// 주민등록번호로 나이계산
function fn_getAge(strJumin)
{	
	if(strJumin.length == 13){
		var strGbn 	= strJumin.substr(6,1);
		var strYear	= getToday().substr(0,4);
		var strAge 	= strJumin.substr(0,2); 
		var intAge  = 0;
		
		if (strGbn == "3" || strGbn == "4" || strGbn == "7" || strGbn == "8" ){
			intAge = parseInt(strYear) - parseInt("20" + strAge) + 1;
		}else{
			intAge = parseInt(strYear) - parseInt("19" + strAge) + 1;			
		}
		
		if(intAge < 0){
			return -1;
		}else{
			return intAge;		
		}
	}else{
		return -1;
	}
}

// 인터페이스 환경 DS 세팅
function fn_setIfEnvDs(ObjDs,IfKnd,ReqMthd,ReqId,ResHd,ResCol,ResRec)
{
	var ObjEnvDs = "";
	
	if (typeof ObjDs == "string"){
		//ObjEnvDs= eval(ObjDs);
		ObjEnvDs = (function(){eval(ObjDs);}());
	}else{
		ObjEnvDs = ObjDs;
	}
	
	fun_ds_srch(ObjEnvDs, "IF_KIND",IfKnd);
	fun_ds_srch(ObjEnvDs, "REQ_SERVICE_METHOD",ReqMthd);
	fun_ds_srch(ObjEnvDs, "REQ_SERVICE_ID",ReqId);	
	fun_ds_srch(ObjEnvDs, "RES_HEADER_SECTION",ResHd);
	fun_ds_srch(ObjEnvDs, "RES_COLUMN_SECTION",ResCol);
	fun_ds_srch(ObjEnvDs, "RES_RECORD_SECTION",ResRec);		
}

// 인터페이스에서 받은 일시형식에서 특수문자제거 후 14까지 반환
function fn_cnvtDtToStr(strDt)
{
	if(strDt.length > 0){
		var strCnvtDt = strDt.replace("/","").replace(":","").replace(".","").replace(" ","");
		if(strCnvtDt.length > 14){
			strCnvtDt = strCnvtDt.substr(0,14);
		}
	}else{
		var strCnvtDt = "";
	}
	return strCnvtDt;
}

/********************************************************************************** 
 *****	콜백처리
***********************************************************************************/
function fn_callBack(svcid,strErrCode,strErrMsg)
{	
	// 업무처리정보등록
	if(svcid == "C1"){    
		return;
	}
	// 업무처리정보 리스트, 고객정보변경이력(통계용), 고객정보조회변경이력 등록	
	if(svcid == "C2"){
		cf_Alert("COMI0003");	
		return;
	}
	
	// 상담관리 권한조회
	if(svcid == "R2"){
		if(ds_fct_list.rowcount > 0){		
			fn_btnListEnable();
		}
		return;
	}
		
	// SAP코드로 BONUS_ID조회	
	if(svcid == "R3"){
		if(ds_bonus_id.rowcount < 1){
			cf_Alert("BNSE0036","SITE코드");			
			return;
		}else if(ds_bonus_id.rowcount > 1){
			cf_Alert("BNSE0029","SITE코드");			
			return;						
		}else{			
			Edt_SrchSapId.value = ds_bonus_id.getColumn(0,"BONUS_ID");
			fn_srchFrchInfo(ds_bonus_id.getColumn(0,"BONUS_ID"));
		}
	}
		
	// 예약콜처리
	if(svcid == "D1"){
		return;
	}
	
	
	// 가맹점정보조회 
	if(svcid == "IF_CSC_ITRT_044"){
	
		//2015.08.15 개인정보접촉이력
		//trace("=============개인정보접촉이력 가맹점정보조회Start==========="); 
		var sPerTCd = "PT1002";  // 수행업무 코드
		var sPerTDt = "ICCS_CSC 상담관리 가맹점정보조회";  // 수행업무 상세내용
		var sCalFun = "fn_srchFrchInfo()";  // 호출함수명 
		var sInqCon = gfn_getStringFromDataset(ds_if_frch_data);
		var sInqCnt = ds_if_frch_record.rowcount;  // 조회건수
		var sInInfoList = ds_if_frch_data.getColumn(0,"in_search_key3");//고객 식별키
		
		//고객식별키 추가
		//fun_ds_srch(ds_if_frch_data,"in_search_key3",strBnsId);가맹점 사이트 코드
		/* 
		trace("개인정보접촉이력--가맹점정보조회데이터 "+"    "+sAccNo 
												  +"    "+sPerTCd
												  +"    "+sPerTDt
												  +"    "+sCalFun
												  +"    "+sInqCon
												  +"    "+sInqCnt 
												  +"	"+sInInfoList);
		trace("=============개인정보접촉이력 가맹점정보조회END==========="); 
		*/
		//fn_Privcnthis(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt);
		fn_Privcnthis_info(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInInfoList);
		
		if(ds_if_frch_common.getColumn(0,"HTTP_RET_CODE")=="0"){
			if(ds_if_frch_header.getColumn(0,"OT_RESPON_CODE")=="00000"){
				if(ds_if_frch_record.rowcount < 1){
					cf_Alert("COMI0006");					
					return;	
				}else if(ds_if_frch_record.rowcount > 1){
					cf_Alert("BNSE0029","가맹점");					
				}else{
					fn_setFrchCustInfo();
				}
			}else{
				cf_Alert("COME0035","[가맹점]" + ds_if_frch_header.getColumn(0,"OT_RES_MSG"));	
			}			
		}else{
			cf_Alert("COME0035","[가맹점]" + ds_if_frch_common.getColumn(0,"HTTP_RET_MSG"));
		}
	}
	
	// 고객정보상세조회
	if(svcid == "IF_CSC_ITRT_024"){
	
		//2015.08.15 개인정보접촉이력
		//trace("=============개인정보접촉이력 상세정보조회Start==========="); 
		var sPerTCd = "PT1002";  // 수행업무 코드
		var sPerTDt = "ICCS_CSC 상담관리 고객상세조회";  // 수행업무 상세내용
		var sCalFun = "fn_srchCustDtlsInfo()";  // 호출함수명 
		var sInqCon = gfn_getStringFromDataset(ds_if_cust_dtl_data);
		var sInqCnt = ds_if_cust_dtl_record.rowcount;  // 조회건수
		var sInInfoList = ds_if_cust_dtl_data.getColumn(0,"io_cust_no");//ds_if_cust_dtl_data.getColumn(0,"IO_CUST_NO");//고객 식별키
		
		//고객식별키 추가
		//fun_ds_srch(ds_if_frch_data,"in_search_key3",strBnsId);가맹점 사이트 코드
		/*
		trace("개인정보접촉이력--가맹점정보조회데이터 "+"    "+sAccNo 
												  +"    "+sPerTCd
												  +"    "+sPerTDt
												  +"    "+sCalFun
												  +"    "+sInqCon
												  +"    "+sInqCnt 
												  +"	"+sInInfoList);
		trace("=============개인정보접촉이력 가맹점정보조회END==========="); 
		*/
		//fn_Privcnthis(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt);
		fn_Privcnthis_info(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInInfoList);
	
		
		if(ds_if_cust_dtl_common.getColumn(0,"HTTP_RET_CODE")=="0"){
			if(ds_if_cust_dtl_record.getColumn(0,"OT_RESPON_CODE")=="00000"){
				if(ds_if_cust_dtl_record.rowcount < 1){
					cf_Alert("COMI0006");					
					return;	
				}else{				
					// 삭제고객은 조회하지 않음.					
					if(ds_if_cust_dtl_record.getColumn(0,"OT_CUST_ST_CD") == "04"){
						cf_Alert("BNSE0046");						
						return;
					}else if(ds_if_cust_dtl_record.getColumn(0,"OT_CUST_ST_CD") == "03"){
						alert("탈퇴한 고객입니다");						
						return;
					}else{
						
						edt_phone = Edt_EtcPhone.value;		
						//여기서 기타 전화번호를 초기화 한다.				
						ds_cust_info.copyData(ds_if_cust_dtl_record,false);
												
						//OB리스트 고객 조회시 기타 전화 번호 셋팅 
						if(strSrchFlg == 1){
							Edt_EtcPhone.value = edt_phone;
						}
						
						//S2S는 여기서만 하면 된다.수정 하지 마세요.									
						if(getTrim(Edt_CustNm.value).substr(0,2) != "TP"){			
						//S2S동의 안내 여부 확인 
							fn_srchS2SAgree(Edt_SrchCustNo.value);	
							g_top.Btn_S2SCall.enable=true;
						}else {
							g_top.Btn_S2SCall.enable=false;
						}								
														
					
						fn_setCustInfo();			// 고객상세정보세팅
//						fn_insrtCustSrchHist(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));		// 고객정보조회내역등록
						fn_srchCrdInfo();			// 카드발급내역조회
						fn_setCustInfoInqHist();	//고객정보조회이력 DB 저장 2013.01						
					}								
				}
			}else{
				cf_Alert("COME0035","[고객상세]" + ds_if_cust_dtl_record.getColumn(0,"OT_RES_MSG"));	
			}			
		}else{
			cf_Alert("COME0035","[고객상세]" + ds_if_cust_dtl_common.getColumn(0,"HTTP_RET_MSG"));
		}
	}
	
	// 고객상세정보조회 업무 후처리용
	if(svcid == "IF_CSC_ITRT_024_AftrProc"){
	
		//2015.08.15 개인정보접촉이력
		//trace("=============개인정보접촉이력 상세정보재조회Start==========="); 
		var sPerTCd = "PT1002";  // 수행업무 코드
		var sPerTDt = "ICCS_CSC 상담관리 고객상세재조회";  // 수행업무 상세내용
		var sCalFun = "fn_srchCustDtlsAftrProc()";  // 호출함수명 
		var sInqCon = gfn_getStringFromDataset(ds_if_cust_dtl_data); //조회조건
		var sInqCnt = ds_if_cust_dtl_record.rowcount;  // 조회건수
		var sInInfoList = ds_if_cust_dtl_data.getColumn(0,"io_cust_no");//고객 식별키
		
		//고객식별키 추가
		//fun_ds_srch(ds_if_frch_data,"in_search_key3",strBnsId);가맹점 사이트 코드
		/*
		trace("개인정보접촉이력--가맹점정보조회데이터 "+"    "+sAccNo 
												  +"    "+sPerTCd
												  +"    "+sPerTDt
												  +"    "+sCalFun
												  +"    "+sInqCon
												  +"    "+sInqCnt 
												  +"	"+sInInfoList);
		trace("=============개인정보접촉이력 가맹점정보조회END==========="); 
		*/
		//fn_Privcnthis(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt);
		fn_Privcnthis_info(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInInfoList);
	
		if(ds_if_cust_dtl_common.getColumn(0,"HTTP_RET_CODE")=="0"){
			if(ds_if_cust_dtl_record.getColumn(0,"OT_RESPON_CODE")=="00000"){
				if(ds_if_cust_dtl_record.rowcount < 1){
					cf_Alert("COMI0006");					
					return;	
				}else{
					// 삭제고객은 조회하지 않음.
					if(ds_if_cust_dtl_record.getColumn(0,"OT_CUST_ST_CD") == "04"){
						cf_Alert("BNSE0046");						
//						return;
					}else if(ds_if_cust_dtl_record.getColumn(0,"OT_CUST_ST_CD") == "03"){
						alert("탈퇴한 고객입니다");						
//						return;
					}else{				
						ds_cust_info.copyData(ds_if_cust_dtl_record,false);
						
						// 고객 조회 후 탭 선택시 인터페이스 1회 조회 가능하도록 세팅
						for(i=0; i < ds_tab_proc_yn.getColCount(); i++)
						{
							ds_tab_proc_yn.setColumn(0,i,"Y");
						}
												
						fn_fixFormCustInfo();	// 고객정보 형식변경
						fn_setCustCls(); 		// 등급세팅
					}
				}
			}else{
				cf_Alert("COME0035","[고객상세]" + ds_if_cust_dtl_record.getColumn(0,"OT_RES_MSG"));	
			}			
		}else{
			cf_Alert("COME0035","[고객상세]" + ds_if_cust_dtl_common.getColumn(0,"HTTP_RET_MSG"));
		}
	}	
	
	// 고객정보조회
	if(svcid == "IF_CSC_ITRT_022"){
	
		//2015.08.15 개인정보접촉이력
		//trace("=============개인정보접촉이력 고객정보조회Start==========="); 
		var sPerTCd = "PT1002";  // 수행업무 코드 
		var sPerTDt = "ICCS_CSC 상담관리 고객정보조회1";  // 수행업무 상세내용
		var sCalFun = "fn_srchCustInfo()";  // 호출함수명 
		var sInqCon = gfn_getStringFromDataset(ds_if_cust_data); //조회조건
		var sInqCnt = ds_if_cust_record.rowcount;  // 조회건수
		var sInInfoList = ds_cust_info.getColumn(0,"IO_CUST_NO");//고객 식별키
		
		//고객식별키 추가
		//fun_ds_srch(ds_if_frch_data,"in_search_key3",strBnsId);가맹점 사이트 코드
		/*
		trace("개인정보접촉이력--가맹점정보조회데이터 "+"    "+sAccNo 
												  +"    "+sPerTCd
												  +"    "+sPerTDt
												  +"    "+sCalFun
												  +"    "+sInqCon
												  +"    "+sInqCnt 
												  +"	"+sInInfoList);
		trace("=============개인정보접촉이력 가맹점정보조회END==========="); 
		*/
		//fn_Privcnthis(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt);
		fn_Privcnthis_info(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInInfoList);
	
	
		if(ds_if_cust_common.getColumn(0,"HTTP_RET_CODE")=="0"){
			if(ds_if_cust_header.getColumn(0,"OT_RESPON_CODE")=="00000"){		
				if(ds_if_cust_record.rowcount == 1 && ds_if_cust_record.getColumn(0,"CUST_NO") != ""){
					if(ds_if_cust_data.getColumn(0,"in_search_gbn") == "S3"){
						Msk_SrchTailRsBzNo.value = "";
					}
					//기타 전화 번호 보관
					//clear하고 다시 셋팅 해준다.
					var EtcPhone= Edt_EtcPhone.value;					
					// 화면클리어
					fn_clearCustInfo();
					Edt_EtcPhone.value = EtcPhone;
					// 고객번호세팅
					Edt_SrchCustNo.value = getTrim(ds_if_cust_record.getColumn(0,"CUST_NO"));
					// 고객상세조회
					fn_srchCustDtlsInfo(getTrim(ds_if_cust_record.getColumn(0,"CUST_NO")));
							
					/* 기존고객등급조회 -> GS&포인트 회원등급조회 변경
					 * 2025.02.06 | NP847
					 * fn_srchCustGrd(getTrim(ds_if_cust_record.getColumn(0,"CUST_NO")));	
					*/
					fn_srchcmCustGrd(getTrim(ds_if_cust_record.getColumn(0,"CUST_NO")));
					
					// 스마트 보증제 가입여부 
					fn_srchCustSg(getTrim(ds_if_cust_record.getColumn(0,"CUST_NO")));		
					//OB LIST에서 주는 기타 전화 번호 셋팅 
					
					//이벤트포인트 조회
					fn_srchCustEventPt();
				}else if(ds_if_cust_record.rowcount > 1){
					cf_Alert("BNSE0029","고객");					
					return;
				}else if(ds_if_cust_record.rowcount < 1){				
					cf_Alert("COMI0006");				
					return;
				}
				
				
				
			}else{
				cf_Alert("COME0035","[고객번호]" + ds_if_cust_header.getColumn(0,"OT_RES_MSG"));	
			}			
		}else{
			cf_Alert("COME0035","[고객번호]" + ds_if_cust_common.getColumn(0,"HTTP_RET_MSG"));
		}	
	}
	
	// 카드발급내역조회
	if(svcid == "IF_CSC_ITRT_061"){	
		
		
		
		//2015.08.15 개인정보접촉이력
		//trace("=============개인정보접촉이력 카드발급내역조회Start==========="); 
		var sPerTCd = "PT1002";  // 수행업무 코드 
		var sPerTDt = "ICCS_CSC 상담관리 카드발급내역조회";  // 수행업무 상세내용
		var sCalFun = "fn_srchCrdInfo()";  // 호출함수명 
		var sInqCon = gfn_getStringFromDataset(ds_if_crd_pblc_data); //조회조건
		var sInqCnt = ds_if_crd_pblc_record.rowcount;  // 조회건수
		var sInInfoList = "CUST_NO="+ds_cust_info.getColumn(0,"IO_CUST_NO");//고객 식별키
		
		
		//trace("ds_if_crd_pblc_record====>"+ds_if_crd_pblc_record.saveXML());
		
		//고객식별키 추가
		//fun_ds_srch(ds_if_frch_data,"in_search_key3",strBnsId);가맹점 사이트 코드
		
		//정상 카드에 E+카드가 있는지 체크 한다.		
		//2022.12.14 E+카드(CRD_TP_CD : 2850) 소지자가 채널약관철회 시 카드소지가 말소(CRD_ST_CD : 02)된다.
		var nRow = ds_if_crd_pblc_record.findRow("CRD_TP_CD","2850");
		var nRow1 = ds_if_crd_pblc_record.findRow("CRD_ST_CD","02");
		
		
		if(nRow > 0 && nRow1 > 0){
			//에너지플러스 카드 소지자이면서 채널약관철회하여 카드소지가 말소일 경우
			Edt_SmtG00.value = "N";
		}else if(nRow < 0){
			//-1이면 값이 없음
			Edt_SmtG00.value = "N";
		}else{
			//에너지플러스 카드 소지자 
			Edt_SmtG00.value = "Y";
		}
		
		/*
		trace("개인정보접촉이력--가맹점정보조회데이터 "+"    "+sAccNo 
												  +"    "+sPerTCd
												  +"    "+sPerTDt
												  +"    "+sCalFun
												  +"    "+sInqCon
												  +"    "+sInqCnt 
												  +"	"+sInInfoList);
		trace("=============개인정보접촉이력 가맹점정보조회END==========="); 
		*/
		//fn_Privcnthis(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt);
		fn_Privcnthis_info(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInInfoList);
	
	
		if(ds_if_crd_pblc_common.getColumn(0,"HTTP_RET_CODE")=="0"){
			if(ds_if_crd_pblc_header.getColumn(0,"OT_RESPON_CODE")=="00000"){
				if(ds_if_crd_pblc_record.rowcount < 1){					
					return;	
				}else{
					// 카드발급내역세팅
					fn_setPblcCrdInfo();
				}
			}else{
				cf_Alert("COME0035","[카드]" + ds_if_crd_pblc_header.getColumn(0,"OT_RES_MSG"));	
			}			
		}else{
			cf_Alert("COME0035","[카드]" + ds_if_crd_pblc_common.getColumn(0,"HTTP_RET_MSG"));
		}
	}
	
	// 카드발급내역조회 - 후처리용
	if(svcid == "IF_CSC_ITRT_061_AftrProc"){
		
		//2015.08.15 개인정보접촉이력
		//trace("=============개인정보접촉이력 카드발급내역재조회Start==========="); 
		var sPerTCd = "PT1002";  // 수행업무 코드 
		var sPerTDt = "ICCS_CSC 상담관리 카드발급내역재조회";  // 수행업무 상세내용
		var sCalFun = "fn_srchCrdInfoAftrProc()";  // 호출함수명 
		var sInqCon = gfn_getStringFromDataset(ds_if_crd_pblc_data); //조회조건
		var sInqCnt = ds_if_crd_pblc_record.rowcount;  // 조회건수
		var sInInfoList = ds_if_crd_pblc_data.getColumn(0,"in_cust_no");//고객 식별키
		
		//고객식별키 추가
		//fun_ds_srch(ds_if_frch_data,"in_search_key3",strBnsId);가맹점 사이트 코드
		/*
		trace("개인정보접촉이력--가맹점정보조회데이터 "+"    "+sAccNo 
												  +"    "+sPerTCd
												  +"    "+sPerTDt
												  +"    "+sCalFun
												  +"    "+sInqCon
												  +"    "+sInqCnt 
												  +"	"+sInInfoList);
		trace("=============개인정보접촉이력 가맹점정보조회END==========="); 
		*/
		//fn_Privcnthis(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt);
		fn_Privcnthis_info(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInInfoList);
				
		if(ds_if_crd_pblc_common.getColumn(0,"HTTP_RET_CODE")=="0"){
			if(ds_if_crd_pblc_header.getColumn(0,"OT_RESPON_CODE")=="00000"){
				if(ds_if_crd_pblc_record.rowcount < 1){					
					return;	
				}else{
					// 카드발급내역세팅
					fn_setPblcCrdInfo();
				}
			}else{
				cf_Alert("COME0035","[카드]" + ds_if_crd_pblc_header.getColumn(0,"OT_RES_MSG"));	
			}			
		}else{
			cf_Alert("COME0035","[카드]" + ds_if_crd_pblc_common.getColumn(0,"HTTP_RET_MSG"));
		}
	}	
		
	// 고객정보수정
	if(svcid == "IF_CSC_ITRT_019"){	
	
		//2015.08.15 개인정보접촉이력
		//trace("=============개인정보접촉이력 고객정보수정저장Start==========="); 
		var sPerTCd = "PT1003";  // 수행업무 코드
		var sPerTDt = "ICCS_CSC 상담관리 고객정보수정저장";  // 수행업무 상세내용
		var sCalFun = "fn_UpdCustInfo()";  // 호출함수명 
		var sInqCon = gfn_getStringFromDataset(ds_if_cust_upd_data); //조회조건
		var sInqCnt = ds_if_cust_upd_data.rowcount;  // 조회건수
		var sInInfoList = ds_cust_info.getColumn(0,"IO_CUST_NO");//고객 식별키
		
		//고객식별키 추가
		//fun_ds_srch(ds_if_frch_data,"in_search_key3",strBnsId);가맹점 사이트 코드
		/*
		trace("개인정보접촉이력--가맹점정보조회데이터 "+"    "+sAccNo 
												  +"    "+sPerTCd
												  +"    "+sPerTDt
												  +"    "+sCalFun
												  +"    "+sInqCon
												  +"    "+sInqCnt 
												  +"	"+sInInfoList);
		trace("=============개인정보접촉이력 가맹점정보조회END==========="); 
		*/
		//fn_Privcnthis(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt);
		fn_Privcnthis_info(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInInfoList);
	
		if(ds_if_cust_upd_common.getColumn(0,"HTTP_RET_CODE")=="0"){
			if(ds_if_cust_upd_header.getColumn(0,"OT_RESPON_CODE")=="00000"){
				fn_saveCustInfoHist();
				custNoStr = ds_cust_info.getColumn(0,"IO_CUST_NO")				
				if(getTrim(Edt_EmlAddr.value.length) > 0	){		
					//trace("고객정보 변경 I/F Start"+custNoStr);		
					DoRew(custNoStr); //고객 정보 변경
				}else{
					//trace("이메일 주소없음");	
					//alert("E-mail 주소 없이 저장 합니다.");
					//이메일 주소가 Null이면 고객 정보 변경(휴면 연장을 호출하지 않음) 허선화P 20170816
				}
			}else{
				cf_Alert("COME0035",ds_if_cust_upd_header.getColumn(0,"OT_RES_MSG"));	
			}			
			
			// 고객정보만 재조회하여 세팅
			fn_srchCustDtlsAftrProc(ds_cust_info.getColumn(0,"IO_CUST_NO"));
			fn_srchCrdInfoAftrProc(ds_cust_info.getColumn(0,"IO_CUST_NO"));			
		}else{
			cf_Alert("COME0035",ds_if_cust_upd_common.getColumn(0,"HTTP_RET_MSG"));
		}
	}
	
	// 비밀번호 초기화
	if(svcid == "IF_CSC_ITRT_003"){
		var strHttpCd 	= ds_if_pw_init_common.getColumn(0,"HTTP_RET_CODE");
		var strHttpMsg 	= ds_if_pw_init_common.getColumn(0,"HTTP_RET_MSG");
		
		//2015.08.15 개인정보접촉이력
		//trace("=============개인정보접촉이력 비밀번호 초기화Start==========="); 
		var sPerTCd = "PT1003";  // 수행업무 코드
		var sPerTDt = "ICCS_CSC 상담관리 비밀번호 초기화";  // 수행업무 상세내용
		var sCalFun = "fn_initPw()";  // 호출함수명 
		var sInqCon = gfn_getStringFromDataset(ds_if_pw_init_data); //조회조건
		var sInqCnt = ds_if_pw_init_data.rowcount;  // 조회건수
		var sInInfoList = ds_cust_info.getColumn(0,"IO_CUST_NO");//ds_if_pw_init_data.getColumn(0,"in_req_data");//고객 식별키
		
		//고객식별키 추가
		//fun_ds_srch(ds_if_frch_data,"in_search_key3",strBnsId);가맹점 사이트 코드
		/*
		trace("개인정보접촉이력--가맹점정보조회데이터 "+"    "+sAccNo 
												  +"    "+sPerTCd
												  +"    "+sPerTDt
												  +"    "+sCalFun
												  +"    "+sInqCon
												  +"    "+sInqCnt 
												  +"	"+sInInfoList);
		trace("=============개인정보접촉이력 가맹점정보조회END==========="); 
		*/
		//fn_Privcnthis(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt);
		fn_Privcnthis_info(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInInfoList);
		
		if(strHttpCd=="0"){
			var strRtnCd	= ds_if_pw_init_header.getColumn(0,"OT_RESPON_CODE");
			var strRtnMsg	= ds_if_pw_init_header.getColumn(0,"OT_RES_MSG");					
			if(strRtnCd=="00000"){
			
			     //개인정보 변경 휴면 연장 요청	
			     //비밀번호 변경시
				DoRew(custNoStr);
			
				ds_tab_proc_yn.setColumn(0,"Tab_BnsHistInfo_tabpage2","Y");
				// 업무처리정보등록
				fn_saveBizProc("BNS140","","");
				cf_Alert("TSSI0007","비밀번호 초기화");									
			}else{
				cf_Alert("COME0035",strRtnMsg);	
			}			
		}else{
			cf_Alert("COME0035",strHttpMsg);
		}	
	}
	
	// 고객삭제
	if(svcid == "IF_CSC_ITRT_154"){
		var strHttpCd 	= ds_if_cust_st_change_common.getColumn(0,"HTTP_RET_CODE");
		var strHttpMsg 	= ds_if_cust_st_change_common.getColumn(0,"HTTP_RET_MSG");
		
		//2015.08.15 개인정보접촉이력
		//trace("=============개인정보접촉이력 고객삭제Start==========="); 
		var sPerTCd = "PT1004";  // 수행업무 코드
		var sPerTDt = "ICCS_CSC 상담관리 고객삭제";  // 수행업무 상세내용
		var sCalFun = "Btn_DelCust_onclick()";  // 호출함수명 
		var sInqCon = gfn_getStringFromDataset(ds_if_cust_st_change_data); //조회조건
		var sInqCnt = ds_if_cust_dtl_record.rowcount;  // 조회건수
		var sInInfoList = ds_cust_info.getColumn(0,"IO_CUST_NO");//고객 식별키
		
		//고객식별키 추가
		//fun_ds_srch(ds_if_frch_data,"in_search_key3",strBnsId);가맹점 사이트 코드
		/*
		trace("개인정보접촉이력--가맹점정보조회데이터 "+"    "+sAccNo 
												  +"    "+sPerTCd
												  +"    "+sPerTDt
												  +"    "+sCalFun
												  +"    "+sInqCon
												  +"    "+sInqCnt 
												  +"	"+sInInfoList);
		trace("=============개인정보접촉이력 가맹점정보조회END==========="); 
		*/
		//fn_Privcnthis(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt);
		fn_Privcnthis_info(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInInfoList);
		
		
		if(strHttpCd=="0"){
			var strRtnCd	= ds_if_cust_st_change_header.getColumn(0,"OT_RESPON_CODE");
			var strRtnMsg	= ds_if_cust_st_change_header.getColumn(0,"OT_RES_MSG");					
			
			if(strRtnCd=="00000"){
				// 업무처리정보등록				
				fn_saveBizProc("BNS330","","");
				cf_Alert("TSSI0007","고객삭제");
				// 고객정보만 재조회하여 세팅
				fn_srchCustDtlsAftrProc(ds_cust_info.getColumn(0,"IO_CUST_NO"));
				fn_srchCrdInfoAftrProc(ds_cust_info.getColumn(0,"IO_CUST_NO"));
			}else{
				
				cf_Alert("COME0035",strRtnMsg);	
			}			
		}else{
		
			cf_Alert("COME0035",strHttpMsg);
		}	
	}
	
	// 통합철회
	if(svcid == "IF_CSC_ITRT_154_WTHDRW_GRP"){
		var strHttpCd 	= ds_if_wthdraw_grp_common.getColumn(0,"HTTP_RET_CODE");
		var strHttpMsg 	= ds_if_wthdraw_grp_common.getColumn(0,"HTTP_RET_MSG");
		
		
		//2015.08.15 개인정보접촉이력
		//trace("=============개인정보접촉이력 통합철회Start==========="); 
		var sPerTCd = "PT1003";  // 수행업무 코드
		var sPerTDt = "ICCS_CSC 상담관리 통합철회";  // 수행업무 상세내용
		var sCalFun = "Btn_WthDrwGrp_onclick()";  // 호출함수명 
		var sInqCon = gfn_getStringFromDataset(ds_if_wthdraw_grp_data); //조회조건									
		var sInqCnt = ds_if_wthdraw_grp_data.rowcount;  // 조회건수
		var sInInfoList = ds_cust_info.getColumn(0,"IO_CUST_NO");//고객 식별키
		
		//고객식별키 추가
		//fun_ds_srch(ds_if_frch_data,"in_search_key3",strBnsId);가맹점 사이트 코드
		/*
		trace("개인정보접촉이력--가맹점정보조회데이터 "+"    "+sAccNo 
												  +"    "+sPerTCd
												  +"    "+sPerTDt
												  +"    "+sCalFun
												  +"    "+sInqCon
												  +"    "+sInqCnt
												  +"	"+sInInfoList); 
		trace("=============개인정보접촉이력 가맹점정보조회END===========");
		*/
		//fn_Privcnthis(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt);
		fn_Privcnthis_info(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInInfoList);
		
		
		if(strHttpCd=="0"){
			var strRtnCd	= ds_if_wthdraw_grp_header.getColumn(0,"OT_RESPON_CODE");
			var strRtnMsg	= ds_if_wthdraw_grp_header.getColumn(0,"OT_RES_MSG");					
			if(strRtnCd=="00000"){
				// 업무처리정보등록				
				fn_saveBizProc("BNS331","","");			
				cf_Alert("TSSI0007","통합철회");
				// 고객정보만 재조회하여 세팅
				fn_srchCustDtlsAftrProc(ds_cust_info.getColumn(0,"IO_CUST_NO"));
				fn_srchCrdInfoAftrProc(ds_cust_info.getColumn(0,"IO_CUST_NO"));
			}else{
				cf_Alert("COME0035",strRtnMsg);	
			}			
		}else{
			cf_Alert("COME0035",strHttpMsg);
		}	
	}
	
	// 타인명의인증리셋
	if(svcid == "IF_CSC_ITRT_049"){
		var strHttpCd 	= ds_if_reset_common.getColumn(0,"HTTP_RET_CODE");
		var strHttpMsg 	= ds_if_reset_common.getColumn(0,"HTTP_RET_MSG");
		
		if(strHttpCd=="0"){
			var strRtnCd	= ds_if_reset_header.getColumn(0,"OT_RESPON_CODE");
			var strRtnMsg	= ds_if_reset_header.getColumn(0,"OT_RES_MSG");					
			if(strRtnCd=="00000"){
				// 고객정보만 재조회하여 세팅
				fn_srchCustDtlsAftrProc(ds_cust_info.getColumn(0,"IO_CUST_NO"));			
				// 업무처리정보등록
				fn_saveBizProc("BNS310","","");				
				cf_Alert("TSSI0007","타인명의인증리셋");						
			}else{
				cf_Alert("COME0035",strRtnMsg);	
			}			
		}else{
			cf_Alert("COME0035",strHttpMsg);
		}	
	}
	
	// 그룹재반영
	if(svcid == "IF_CSC_ITRT_161"){
		var strHttpCd 	= ds_if_re_apply_common.getColumn(0,"HTTP_RET_CODE");
		var strHttpMsg 	= ds_if_re_apply_common.getColumn(0,"HTTP_RET_MSG");
		
		//2015.08.15 개인정보접촉이력
		//trace("=============개인정보접촉이력 그룹재반영Start==========="); 
		var sPerTCd = "PT1003";  // 수행업무 코드
		var sPerTDt = "ICCS_CSC 상담관리 그룹재반영";  // 수행업무 상세내용
		var sCalFun = "Btn_IntgReAply_onclick()";  // 호출함수명 
		var sInqCon = gfn_getStringFromDataset(ds_if_re_apply_data); //조회조건
		var sInqCnt = ds_if_cust_dtl_record.rowcount;  // 조회건수
		var sInInfoList = ds_cust_info.getColumn(0,"IO_CUST_NO");//고객 식별키
		
		//고객식별키 추가
		//fun_ds_srch(ds_if_frch_data,"in_search_key3",strBnsId);가맹점 사이트 코드
		/*
		trace("개인정보접촉이력--가맹점정보조회데이터 "+"    "+sAccNo 
												  +"    "+sPerTCd
												  +"    "+sPerTDt
												  +"    "+sCalFun
												  +"    "+sInqCon
												  +"    "+sInqCnt 
												  +"	"+sInInfoList);
		trace("=============개인정보접촉이력 가맹점정보조회END==========="); 
		*/
		//fn_Privcnthis(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt);
		fn_Privcnthis_info(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInInfoList);
		
		if(strHttpCd=="0"){
			var strRtnCd	= ds_if_re_apply_header.getColumn(0,"OT_RESPON_CODE");
			var strRtnMsg	= ds_if_re_apply_header.getColumn(0,"OT_RES_MSG");					
			if(strRtnCd=="00000"){
				// 업무처리정보등록				
				cf_Alert("TSSI0007","그룹재반영");
				// 고객정보만 재조회하여 세팅
				fn_srchCustDtlsAftrProc(ds_cust_info.getColumn(0,"IO_CUST_NO"));
				fn_srchCrdInfoAftrProc(ds_cust_info.getColumn(0,"IO_CUST_NO"));
			}else{
				cf_Alert("COME0035",strRtnMsg);	
			}			
		}else{
			cf_Alert("COME0035",strHttpMsg);
		}	
	}	
	//개인 정보 변경 연장처리
	if (svcid == "IF_WAS_324") {
		var strHttpCd = ds_if_rew_common.getColumn(0, "HTTP_RET_CODE");
		var strHttpMsg = ds_if_rew_common.getColumn(0, "HTTP_RET_MSG");
		//trace("strHttpCd : "+strHttpCd);
		//trace("HTTP_RET_MSG : "+strHttpMsg);	
		//trace("ds_if_rew_common : "+ ds_if_rew_common.saveXML());
		//trace("ds_if_rew_column : "+ ds_if_rew_column.saveXML());
		//trace("ds_if_rew_record : "+ ds_if_rew_record.saveXML());
		
		if ((strHttpCd != null) && (strHttpCd == "0")) {
			var strRtnCd = ds_if_rew_header.getColumn(0, "OT_RESPON_CODE");
			var strRtnMsg = ds_if_rew_header.getColumn(0, "OT_RES_MSG");
			//trace("2 strRtnCd : "+strRtnCd);
			//trace("2 strRtnMsg : "+strRtnMsg);		
			if ((strRtnCd != null) && (strRtnCd == "00000")) {
				//cf_Alert("COMI0003");//alert("수정하였습니다.");	
					//trace("strRtnCd : "+strRtnCd);
					//trace("strRtnMsg : "+strRtnMsg);			
			}
			else if ((strRtnMsg == null) || (strRtnMsg == "")) {	
					//trace("1 strRtnCd : "+strRtnCd);
					//trace("1 strRtnMsg : "+strRtnMsg);	
			}
			else {
				//cf_Alert("COME0035", strRtnMsg);	
				isNormTrt = false;
				errMsgStr = errMsgStr + strHttpMsg + "\n";
				//trace("1 errMsgStr : "+errMsgStr);
			}			
		}
		else if ((strHttpMsg == null) || (strHttpMsg == "")) {	
			
		}
		else {
			//cf_Alert("COME0035", strHttpMsg);
			isNormTrt = false;
			errMsgStr = errMsgStr + strHttpMsg + "\n";
		}
				
	}		
	
	// 이벤트포인트 조회 결과
	if (svcid == "IF_WS_0351") {
		var strHttpCd 	= ds_if_cust_event_pt_common.getColumn(0,"HTTP_RET_CODE");
		var strHttpMsg 	= ds_if_cust_event_pt_common.getColumn(0,"HTTP_RET_MSG");
		
		//2015.08.15 개인정보접촉이력
		//trace("=============개인정보접촉이력 고객이벤트포인트조회Start==========="); 
		var sPerTCd = "PT1002";  // 수행업무 코드
		var sPerTDt = "ICCS_CSC 상담관리 고객이벤트포인트조회";  // 수행업무 상세내용
		var sCalFun = "fn_srchCustEventPt()";  // 호출함수명 
		var sInqCon = gfn_getStringFromDataset(ds_if_cust_event_pt_data); //조회조건
		var sInqCnt = ds_if_cust_event_pt_record.rowcount;  // 조회건수
		var sInInfoList = ds_if_cust_event_pt_data.getColumn(0,"in_cust_no");//고객 식별키
		/*
		trace("개인정보접촉이력--이벤트포인트조회데이터 "+"    "+sAccNo 
												  +"    "+sPerTCd
												  +"    "+sPerTDt
												  +"    "+sCalFun
												  +"    "+sInqCon
												  +"    "+sInqCnt 
												  +"	"+sInInfoList);
		trace("=============개인정보접촉이력 이벤트포인트조회END==========="); 
		*/
		fn_Privcnthis_info(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInInfoList);
		
		if(strHttpCd=="0"){
			var strRtnCd	= ds_if_cust_event_pt_header.getColumn(0,"OT_RESPON_CODE");
			var strRtnMsg	= ds_if_cust_event_pt_header.getColumn(0,"OT_RES_MSG");
			
			if(strRtnCd == "00000") {
				if(ds_if_cust_event_pt_header.getColumn(0,"OT_TOT_EVENT_PT") != null) {
					Edt_EventPt.value = ds_if_cust_event_pt_header.getColumn(0,"OT_TOT_EVENT_PT");
				}else {
					Edt_EventPt.value = "0";
				}
			}else{
				//cf_Alert("COME0035",strRtnMsg);	
			}			
		}else{
			//cf_Alert("COME0035",strHttpMsg);
		}
	}
	
}

// 등급조회콜백
function fn_callBackCls(svcid,strErrCode,strErrMsg)
{
	// 고객DW등급조회
	if(svcid == "IF_CSC_ITRT_043"){
		var strHttpCd 	= ds_if_class_sel_common.getColumn(0,"HTTP_RET_CODE");
		var strHttpMsg 	= ds_if_class_sel_common.getColumn(0,"HTTP_RET_MSG");
		
		//2015.08.15 개인정보접촉이력
		//trace("=============개인정보접촉이력 고객등급조회Start==========="); 
		var sPerTCd = "PT1002";  // 수행업무 코드
		var sPerTDt = "ICCS_CSC 상담관리 고객등급조회";  // 수행업무 상세내용
		var sCalFun = "fn_srchCustGrd()";  // 호출함수명 
		var sInqCon = gfn_getStringFromDataset(ds_if_class_sel_data); //조회조건
		var sInqCnt = ds_if_class_sel_record.rowcount;  // 조회건수
		var sInInfoList = ds_if_class_sel_data.getColumn(0,"in_cust_no");//고객 식별키
		
		//고객식별키 추가
		//fun_ds_srch(ds_if_frch_data,"in_search_key3",strBnsId);가맹점 사이트 코드
		/*
		trace("개인정보접촉이력--가맹점정보조회데이터 "+"    "+sAccNo 
												  +"    "+sPerTCd
												  +"    "+sPerTDt
												  +"    "+sCalFun
												  +"    "+sInqCon
												  +"    "+sInqCnt 
												  +"	"+sInInfoList);
		trace("=============개인정보접촉이력 가맹점정보조회END==========="); 
		*/
		//fn_Privcnthis(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt);
		fn_Privcnthis_info(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInInfoList);
		
		if(strHttpCd=="0"){
			var strRtnCd	= ds_if_class_sel_header.getColumn(0,"OT_RESPON_CODE");
			var strRtnMsg	= ds_if_class_sel_header.getColumn(0,"OT_RES_MSG");
			if(strRtnCd=="00000"){
				// 등급세팅
				fn_setCustCls();
			}else{
//				cf_Alert("COME0035",strRtnMsg);	
			}			
		}else{
//			cf_Alert("COME0035",strHttpMsg);
		}	
	}
	//스마크 보증제 가입 여부 조회		
	if(svcid == "IF_CSC_ITRT_045"){	
	
		var strHttpCd 	= ds_if_sg_sel_common.getColumn(0,"HTTP_RET_CODE");
		var strHttpMsg 	= ds_if_sg_sel_common.getColumn(0,"HTTP_RET_MSG");	
			
			 
		if(strHttpCd=="0"){
			var strRtnCd	= ds_if_sg_sel_header.getColumn(0,"OT_RESPON_CODE");
			var strRtnMsg	= ds_if_sg_sel_header.getColumn(0,"OT_RES_MSG");		
			
			//20180905 코드가 추가 되어 리턴메시지가 뜨는걸 방지 진현주C 요청			
			//10029 대상자가아님. 10100 system 에러
			if(strRtnCd=="00000" || strRtnCd=="10029"|| strRtnCd=="10100"){	
			
				//값 셋팅
				//fn_setCustSmt();	
				//trace("strRtnCd::"+strRtnCd);
				//값이 없으면 N으로 가야 할까 확인 필요?
				//if(ds_if_sg_sel_record.rowcount < 1){
				//fun_ds_srch(ds_if_sg_sel_record, "USE_YN","N");
				//}
			}else{				
				cf_Alert("COME0035",strRtnMsg);					
			}		
		}
	}
		
	//GS&포인트 회원등급조회
	if(svcid == "IF_WS_0356"){
		//개인정보접촉이력
		//trace("=============개인정보접촉이력 회원등급 조회Start===========");
		var sPerTCd = "PT1002";  // 수행업무 코드
		var sPerTDt = "ICCS_CSC 회원등급 조회";  // 수행업무 상세내용
		var sCalFun = "fn_srchcmCustGrd()";  // 호출함수명 
		var sInqCon = gfn_getStringFromDataset(ds_if_custGrd_sel_data); //조회조건
		var sInqCnt = ds_if_custGrd_sel_record.rowcount;  // 조회건수
		var sInCustNo = ds_if_custGrd_sel_data.getColumn(0,"in_cust_no");//고객 식별키
		/*								
		trace("개인정보접촉이력 회원등급 조회 "+"    "+sAccNo 
														  +"    "+sPerTCd
														  +"    "+sPerTDt
														  +"    "+sCalFun
														  +"    "+sInqCon
														  +"    "+sInqCnt); 
										  
		trace("=============개인정보접촉이력 회원등급 조회END==========="); 
		*/
		fn_Privcnthis_info(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInCustNo);
	
		var strHttpCd 	= ds_if_custGrd_sel_common.getColumn(0,"HTTP_RET_CODE");
		var strHttpMsg 	= ds_if_custGrd_sel_common.getColumn(0,"HTTP_RET_MSG");
		
		if(strHttpCd=="0"){
			var strRtnCd	= ds_if_custGrd_sel_header.getColumn(0,"OT_RESPON_CODE");
			var strRtnMsg	= ds_if_custGrd_sel_header.getColumn(0,"OT_RES_MSG");
					
			if(strRtnCd=="00000"){
				//trace("고객등급 :: " +ds_if_custGrd_sel_record.saveXML());
			}else{
				//cf_Alert("COME0035",strRtnMsg);	
			}			
		}else{
			//cf_Alert("COME0035",strHttpMsg);
		}
	}
}

// 고객정보조회내역등록 콜백 (IF/DB)
function fn_callBackCuisIns(svcid,strErrCode,strErrMsg)
{
	if(svcid == "IF_CSC_ITRT_020"){
		var strHttpCd 	= ds_if_cuis_ins_common.getColumn(0,"HTTP_RET_CODE");
		var strHttpMsg 	= ds_if_cuis_ins_common.getColumn(0,"HTTP_RET_MSG");
		
		if(strHttpCd=="0"){
			var strRtnCd	= ds_if_cuis_ins_header.getColumn(0,"OT_RESPON_CODE");
			var strRtnMsg	= ds_if_cuis_ins_header.getColumn(0,"OT_RES_MSG");
			if(strRtnCd=="00000"){
			}else{
//				cf_Alert("COME0035","[조회내역등록]" + strRtnMsg);	
			}			
		}else{
//			cf_Alert("COME0035","[조회내역등록]" + strHttpMsg);
		}	
	}else if(svcid == "CUST_INFO_INQ_HIST_INSERT"){
		
	}
}

// s2s동의콜 및 S2S호전환 콜백 
function fn_callBackS2sIns(svcid,strErrCode,strErrMsg)
{
		
	///// 2021.09.07 추가 개선 s2s 동의콜안내 조회
	if(svcid =="S2AG"){
		//trace("cnt****** "+ ds_s2s_agree.getColumn(0,"CNT"));
		if(ds_s2s_agree.getColumn(0,"CNT") > 0) {			
			this.all["Tab_CntctHistInfo"]["tabpage1"].all["Edt_CustTend00"].value = "S2S동의콜안내";	// 상담일련번호 DS
			g_top.Btn_S2SCall.enable=false;			
			return;
		}else { 
			g_top.Btn_S2SCall.enable=true;
		}
	}else if(svcid == "S2"){
		alert("호전환 성공");
	}	
}



/********************************************************************************** 
 *****	onkey 이벤트
***********************************************************************************/
function Msk_SrchTailRsBzNo_onkeyup(obj:MaskEdit, e:KeyEventInfo)
{
	if (e.keycode == "13" ) Btn_SrchCustInfo_onclick();	
}

function Edt_SrchCustNo_onkeyup(obj:Edit, e:KeyEventInfo)
{
    //2014.03.04 상품권TM 그룹은 고객번호 란에 엔터키 조회 안되도록 수정(진현주과장)
    //2017.11.16 윤활류 그룹은 고객번호 란에 엔터키 조회 안되도록 수정
	if(GetUserInfo("gGRP_CD")!= 'OBD' || GetUserInfo("gGRP_CD")!= 'OIL')
	{
		if (e.keycode == "13" ) Btn_SrchCustInfo_onclick();	
	}
	else
	{
	
	}
}

function Edt_SrchIntgCustNo_onkeyup(obj:Edit, e:KeyEventInfo)
{
	//2014.03.04 상품권TM 그룹은 고객번호 란에 엔터키 조회 안되도록 수정(진현주과장)
	if(GetUserInfo("gGRP_CD")!= 'OBD' || GetUserInfo("gGRP_CD")!= 'OIL')
	{
		if (e.keycode == "13" ) Btn_SrchCustInfo_onclick();	
	}
	else
	{
	
	}
}

function Edt_SrchWebId_onkeyup(obj:Edit, e:KeyEventInfo)
{
	//2014.03.04 상품권TM 그룹은 고객번호 란에 엔터키 조회 안되도록 수정(진현주과장)
	if(GetUserInfo("gGRP_CD")!= 'OBD' || GetUserInfo("gGRP_CD")!= 'OIL')
	{
		if (e.keycode == "13" ) Btn_SrchCustInfo_onclick();	
	}
	else
	{
	
	}
}

function Msk_SrchCrdNo_onkeyup(obj:MaskEdit, e:KeyEventInfo)
{
	//2014.03.04 상품권TM 그룹은 고객번호 란에 엔터키 조회 안되도록 수정(진현주과장)
	if(GetUserInfo("gGRP_CD")!= 'OBD' || GetUserInfo("gGRP_CD")!= 'OIL')
	{
		if (e.keycode == "13" ) Btn_SrchCustInfo_onclick();	
	}
	else
	{
	
	}
}

function Edt_SrchSapId_onkeyup(obj:Edit, e:KeyEventInfo)
{
	//2014.03.04 상품권TM 그룹은 고객번호 란에 엔터키 조회 안되도록 수정(진현주과장)
	if(GetUserInfo("gGRP_CD")!= 'OBD' || GetUserInfo("gGRP_CD")!= 'OIL')
	{
		if (e.keycode == "13" ) Btn_SrchCustInfo_onclick();	
	}	
}

function Edt_HomePhone_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if( GetUserInfo("gGRP_CD")!= 'OIL'){
		if (e.keycode == "13" )	Btn_MakeHomeCall_onclick();
	}
}

function Edt_OffPhone_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if( GetUserInfo("gGRP_CD")!= 'OIL'){
		if (e.keycode == "13" )	Btn_MakeOffCall_onclick();
	}
}

function Edt_CelPhone_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if( GetUserInfo("gGRP_CD")!= 'OIL'){
		if (e.keycode == "13" )	Btn_MakeCelCall_onclick();
	}
}

function Edt_EtcPhone_onkeydown(obj:Edit, e:KeyEventInfo)
{	
	if( GetUserInfo("gGRP_CD")!= 'OIL'){
		if (e.keycode == "13" )	Btn_MakeEtcCall_onclick
	}
}

/********************************************************************************** 
 *****	masking 처리이벤트
***********************************************************************************/
function Msk_SrchTailRsBzNo_oneditclick(obj:MaskEdit,  e:EditClickEventInfo)
{	
	if(getTrim(obj.value)==""){
		obj.setCaretPos(0);
	}
}

function Msk_SrchCrdNo_oneditclick(obj:MaskEdit,  e:EditClickEventInfo)
{
	if(getTrim(obj.value)==""){
		obj.setCaretPos(0);
	}	
}

function Edt_HomePhone_ontextchanged(obj:Edit,  e:TextChangedEventInfo)
{
	var intLength = getTrim(obj.value).length;
	
	if(intLength == obj.getCaretPos()){
		obj.value = maskPhone(e.posttext);
		obj.setCaretPos(-1);		
	}else{
		var intIndx = obj.getCaretPos();	
		obj.value = maskPhone(e.posttext);
		obj.setCaretPos(intIndx);
	}	
}

function Edt_OffPhone_ontextchanged(obj:Edit,  e:TextChangedEventInfo)
{
	var intLength = getTrim(obj.value).length;
	
	if(intLength == obj.getCaretPos()){
		obj.value = maskPhone(e.posttext);
		obj.setCaretPos(-1);		
	}else{
		var intIndx = obj.getCaretPos();	
		obj.value = maskPhone(e.posttext);
		obj.setCaretPos(intIndx);
	}	
}

function Edt_CelPhone_ontextchanged(obj:Edit,  e:TextChangedEventInfo)
{
	var intLength = getTrim(obj.value).length;
	
	if(intLength == obj.getCaretPos()){
		obj.value = maskPhone(e.posttext);
		obj.setCaretPos(-1);		
	}else{
		var intIndx = obj.getCaretPos();	
		obj.value = maskPhone(e.posttext);
		obj.setCaretPos(intIndx);
	}	
}

function Edt_EtcPhone_ontextchanged(obj:Edit,  e:TextChangedEventInfo)
{
	var intLength = getTrim(obj.value).length;
	
	if(intLength == obj.getCaretPos()){
		obj.value = maskPhone(e.posttext);
		obj.setCaretPos(-1);		
	}else{
		var intIndx = obj.getCaretPos();	
		obj.value = maskPhone(e.posttext);
		obj.setCaretPos(intIndx);
	}	
}

function Edt_FaxPhone_ontextchanged(obj:Edit,  e:TextChangedEventInfo)
{
	var intLength = getTrim(obj.value).length;
	
	if(intLength == obj.getCaretPos()){
		obj.value = maskPhone(e.posttext);
		obj.setCaretPos(-1);		
	}else{
		var intIndx = obj.getCaretPos();	
		obj.value = maskPhone(e.posttext);
		obj.setCaretPos(intIndx);
	}
}

/********************************************************************************** 
 *****	체크박스 클릭이벤트
***********************************************************************************/
// 자택전화 오류여부 클릭시
function Chk_HomePhnErrYn_onclick(obj:CheckBox,  e:ClickEventInfo)
{
	if(obj.value == true){
		ds_cust_info.setColumn(0,"OT_HOME_TPHN_ERR_YN","Y");
	}else{
		ds_cust_info.setColumn(0,"OT_HOME_TPHN_ERR_YN","N");	
	}	
}

// 직장전화 오류여부 클릭시
function Chk_OffPhnErrYn_onclick(obj:CheckBox,  e:ClickEventInfo)
{
	if(obj.value == true){
		ds_cust_info.setColumn(0,"OT_WKST_TPHN_ERR_YN","Y");
	}else{
		ds_cust_info.setColumn(0,"OT_WKST_TPHN_ERR_YN","N");	
	}	
}

// 휴대전화 오류여부 클릭시
function Chk_CelPhnErrYn_onclick(obj:CheckBox,  e:ClickEventInfo)
{
	if(obj.value == true){
		ds_cust_info.setColumn(0,"OT_CPHN_TPHN_ERR_YN","Y");
	}else{
		ds_cust_info.setColumn(0,"OT_CPHN_TPHN_ERR_YN","N");	
	}	
}

/********************************************************************************** 
 *****	onkillfocus 이벤트
***********************************************************************************/
function Cal_Bday_onkillfocus(obj:Calendar, e:KillFocusEventInfo)
{
	if(getTrim(obj.value) == ""){
		ds_cust_info.setColumn(0,"OT_BDAY_LUNSOL_DIV_CD","");
	}	
}

function Cal_MateBday_onkillfocus(obj:Calendar, e:KillFocusEventInfo)
{
	if(getTrim(obj.value) == ""){
		ds_cust_info.setColumn(0,"OT_MATE_BDAY_LUNSOL_DIV_CD","");
	}	
}

function Cal_MryDay_onkillfocus(obj:Calendar, e:KillFocusEventInfo)
{
	if(getTrim(obj.value) == ""){
		ds_cust_info.setColumn(0,"OT_MRY_LUNSOL_DIV_CD","");
	}		
}
/********************************************************************************** 
 *****	기타 인터페이스 함수 - 사용은 안함(고객정보수정으로 가능)
***********************************************************************************/
// 휴대폰번호변경
function fn_ifCphnUpd(strParaCustNo)
{
	// 휴대전화
	var arrClPhn 	= getTrim(ds_cust_info.getColumn(0,"OT_HND_PHONE_NO")).split("-");
	var strClPhnDdd = "";
	var strClPhnFst = "";
	var strClPhnLst = "";
	var strAfClPhn	= getTrim(ds_cust_info.getColumn(0,"OT_HND_PHONE_NO")).replace("-","");
	var strBfClPhn	= getTrim(ds_if_cust_dtl_record.getColumn(0,"OT_HND_PHONE_NO")).replace("-","");
		
	if(arrClPhn.length > 1){	
		if(arrClPhn.length == 3){
			strClPhnDdd	= arrClPhn[0];
			strClPhnFst = arrClPhn[1];
			strClPhnLst = arrClPhn[2];
		}else{
			cf_Alert("COME0029","저장","휴대전화번호");
			Edt_CelPhone.setFocus();
			return;
		}
	}else{
		if(getTrim(ds_cust_info.getColumn(0,"OT_HND_PHONE_NO"))!=""){
			cf_Alert("COME0029","저장","휴대전화번호");
			Edt_CelPhone.setFocus();
			return;
		}
	}

	ds_if_cphn_upd_env.clearData();
	ds_if_cphn_upd_data.clearData();
	ds_if_cphn_upd_common.clearData();
	ds_if_cphn_upd_header.clearData();

	// IF ENV DS
	fn_setIfEnvDs(ds_if_cphn_upd_env,"WAS","cmTphnUpdC02.do","","STP_CM_TPHN_UPD_C02_Rsp","","");	

	// IF DATA DS		
	fun_ds_srch(ds_if_cphn_upd_data, "req_chnl_code","610050");
	fun_ds_srch(ds_if_cphn_upd_data, "input_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_cphn_upd_data, "input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
	fun_ds_srch(ds_if_cphn_upd_data, "input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));	

	fun_ds_srch(ds_if_cphn_upd_data, "in_req_gbn","C");			// R-주민번호, C-고객번호
	fun_ds_srch(ds_if_cphn_upd_data, "in_req_chnl_cd","610050");
	fun_ds_srch(ds_if_cphn_upd_data, "in_rs_no","");	
	fun_ds_srch(ds_if_cphn_upd_data, "in_cust_no",strParaCustNo);
	
	fun_ds_srch(ds_if_cphn_upd_data, "in_cphn_head_tphn_no",strClPhnDdd);
	fun_ds_srch(ds_if_cphn_upd_data, "in_cphn_mid_tphn_no",strClPhnFst);
	fun_ds_srch(ds_if_cphn_upd_data, "in_cphn_fnl_tphn_no",strClPhnLst);
	fun_ds_srch(ds_if_cphn_upd_data, "in_mod_dtime","");	
	fun_ds_srch(ds_if_cphn_upd_data, "in_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_cphn_upd_data, "in_ip",getTrim(GetUserInfo("gLGIN_IP")));
	
	var	strSvcID = "IF_CSC_ITRT_038";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_cphn_upd_env:a INTERFACE_DATA=ds_if_cphn_upd_data:a";
	var	strOutDatasets = "ds_if_cphn_upd_common=DS_COMMON ds_if_cphn_upd_header=DS_HEADER";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBackCphnUpd";
	var strProcessBar = true;		

	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);				
}


// 휴대폰번호변경콜백
function fn_callBackCphnUpd(svcid,strErrCode,strErrMsg)
{
	if(svcid == "IF_CSC_ITRT_038"){
		var strHttpCd 	= ds_if_cphn_upd_common.getColumn(0,"HTTP_RET_CODE");
		var strHttpMsg 	= ds_if_cphn_upd_common.getColumn(0,"HTTP_RET_MSG");
		
		if(strHttpCd=="0"){
			var strRtnCd	= ds_if_cphn_upd_header.getColumn(0,"OT_RESPON_CODE");
			var strRtnMsg	= ds_if_cphn_upd_header.getColumn(0,"OT_RES_MSG");
			if(strRtnCd=="00000"){
				cf_Alert("COME0035",strRtnMsg);			
			}else{
				cf_Alert("COME0035",strRtnMsg);	
			}			
		}else{
			cf_Alert("COME0035",strHttpMsg);
		}	
	}
}

// 주소정보변경
function fn_ifAddrUpd(strParaCustNo)
{
	ds_if_addr_upd_env.clearData();
	ds_if_addr_upd_data.clearData();
	ds_if_addr_upd_common.clearData();
	ds_if_addr_upd_header.clearData();

	// IF ENV DS
	fn_setIfEnvDs(ds_if_addr_upd_env,"WAS","cmAddrUpdC01.do","","STP_CM_ADDR_UPD_C01_Rsp","","");	

	// IF DATA DS		
	fun_ds_srch(ds_if_addr_upd_data, "req_chnl_code","610050");
	fun_ds_srch(ds_if_addr_upd_data, "input_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_addr_upd_data, "input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
	fun_ds_srch(ds_if_addr_upd_data, "input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));	

	fun_ds_srch(ds_if_addr_upd_data, "in_req_gbn","U");			// C/U/D
	fun_ds_srch(ds_if_addr_upd_data, "in_req_chnl_cd","610050");
	fun_ds_srch(ds_if_addr_upd_data, "in_cust_no",strParaCustNo);	
	fun_ds_srch(ds_if_addr_upd_data, "in_home_zipcd",getTrim(Msk_HomeZipCode.value));
	fun_ds_srch(ds_if_addr_upd_data, "in_home_zip_addr",getTrim(Edt_HomeMidAddr.value));
	fun_ds_srch(ds_if_addr_upd_data, "in_home_dtl_addr",getTrim(Edt_HomeAddr.value));
	fun_ds_srch(ds_if_addr_upd_data, "in_ofc_zipcd",getTrim(Msk_OffZipCode.value));
	fun_ds_srch(ds_if_addr_upd_data, "in_ofc_zip_addr",getTrim(Edt_OffMidAddr.value));
	fun_ds_srch(ds_if_addr_upd_data, "in_ofc_dtl_addr",getTrim(Edt_OffAddr.value));	
	fun_ds_srch(ds_if_addr_upd_data, "in_mod_dtime","");	
	fun_ds_srch(ds_if_addr_upd_data, "in_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_addr_upd_data, "in_ip",getTrim(GetUserInfo("gLGIN_IP")));
	
	var	strSvcID = "IF_CSC_ITRT_039";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_addr_upd_env:a INTERFACE_DATA=ds_if_addr_upd_data:a";
	var	strOutDatasets = "ds_if_addr_upd_common=DS_COMMON ds_if_addr_upd_header=DS_HEADER";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBackAddrUpd";
	var strProcessBar = true;		

	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);				
}

// 주소정보변경콜백
function fn_callBackAddrUpd(svcid,strErrCode,strErrMsg)
{
	if(svcid == "IF_CSC_ITRT_039"){
		var strHttpCd 	= ds_if_addr_upd_common.getColumn(0,"HTTP_RET_CODE");
		var strHttpMsg 	= ds_if_addr_upd_common.getColumn(0,"HTTP_RET_MSG");
		
		if(strHttpCd=="0"){
			var strRtnCd	= ds_if_addr_upd_header.getColumn(0,"OT_RESPON_CODE");
			var strRtnMsg	= ds_if_addr_upd_header.getColumn(0,"OT_RES_MSG");
			if(strRtnCd=="00000"){
				cf_Alert("COME0035",strRtnMsg);			
			}else{
				cf_Alert("COME0035",strRtnMsg);	
			}			
		}else{
			cf_Alert("COME0035",strHttpMsg);
		}	
	}
}

// 기념일정보등록/수정
function fn_ifFmlyUpd(strParaCustNo)
{
	ds_if_fmly_upd_env.clearData();
	ds_if_fmly_upd_data.clearData();
	ds_if_fmly_upd_common.clearData();
	ds_if_fmly_upd_header.clearData();

	// IF ENV DS
	fn_setIfEnvDs(ds_if_fmly_upd_env,"WAS","cmFmlyUpdC01.do","","STP_CM_FMLY_UPD_C01_Rsp","","");	

	// IF DATA DS		
	fun_ds_srch(ds_if_fmly_upd_data, "req_chnl_code","610050");
	fun_ds_srch(ds_if_fmly_upd_data, "input_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_fmly_upd_data, "input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
	fun_ds_srch(ds_if_fmly_upd_data, "input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));	

	fun_ds_srch(ds_if_fmly_upd_data, "in_req_gbn","U");			// C/U/D
	fun_ds_srch(ds_if_fmly_upd_data, "in_req_chnl_cd","610050");
	fun_ds_srch(ds_if_fmly_upd_data, "in_cust_no",strParaCustNo);	
	
	fun_ds_srch(ds_if_fmly_upd_data, "in_self_anvi",getTrim(Cal_Bday.value));
	fun_ds_srch(ds_if_fmly_upd_data, "in_self_lunsol_div_cd",getTrim(Rdo_BdayLunsolDiv.value));
	fun_ds_srch(ds_if_fmly_upd_data, "in_mate_anvi",getTrim(Cal_MateBday.value));
	fun_ds_srch(ds_if_fmly_upd_data, "in_mate_lunsol_div_cd",getTrim(Rdo_MateBdayLunsolDiv.value));
	fun_ds_srch(ds_if_fmly_upd_data, "in_chld1_anvi","");
	fun_ds_srch(ds_if_fmly_upd_data, "in_chld1_lunsol_div_cd","");
	fun_ds_srch(ds_if_fmly_upd_data, "in_chld2_anvi","");
	fun_ds_srch(ds_if_fmly_upd_data, "in_chld2_lunsol_div_cd","");
	fun_ds_srch(ds_if_fmly_upd_data, "in_chld3_anvi","");
	fun_ds_srch(ds_if_fmly_upd_data, "in_chld3_lunsol_div_cd","");
	fun_ds_srch(ds_if_fmly_upd_data, "in_chld4_anvi","");
	fun_ds_srch(ds_if_fmly_upd_data, "in_chld4_lunsol_div_cd","");
	fun_ds_srch(ds_if_fmly_upd_data, "in_chld5_anvi","");
	fun_ds_srch(ds_if_fmly_upd_data, "in_chld5_lunsol_div_cd","");
	fun_ds_srch(ds_if_fmly_upd_data, "in_mry_anvi",getTrim(Cal_MryDay.value));
	fun_ds_srch(ds_if_fmly_upd_data, "in_mry_lunsol_div_cd",getTrim(Rdo_MryDayLunsolDiv.value));
	fun_ds_srch(ds_if_fmly_upd_data, "in_etc_anvi","");	
	fun_ds_srch(ds_if_fmly_upd_data, "in_etc_lunsol_div_cd","");		
	fun_ds_srch(ds_if_fmly_upd_data, "in_mod_dtime","");	
	fun_ds_srch(ds_if_fmly_upd_data, "in_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_fmly_upd_data, "in_ip",getTrim(GetUserInfo("gLGIN_IP")));
	
	var	strSvcID = "IF_CSC_ITRT_040";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_fmly_upd_env:a INTERFACE_DATA=ds_if_fmly_upd_data:a";
	var	strOutDatasets = "ds_if_fmly_upd_common=DS_COMMON ds_if_fmly_upd_header=DS_HEADER";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBackAddrUpd";
	var strProcessBar = true;		

	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);				
}

// 기념일정보등록/수정 콜백
function fn_callBackFmlyUpd(svcid,strErrCode,strErrMsg)
{
	if(svcid == "IF_CSC_ITRT_040"){
		var strHttpCd 	= ds_if_fmly_upd_common.getColumn(0,"HTTP_RET_CODE");
		var strHttpMsg 	= ds_if_fmly_upd_common.getColumn(0,"HTTP_RET_MSG");
		
		if(strHttpCd=="0"){
			var strRtnCd	= ds_if_fmly_upd_header.getColumn(0,"OT_RESPON_CODE");
			var strRtnMsg	= ds_if_fmly_upd_header.getColumn(0,"OT_RES_MSG");
			if(strRtnCd=="00000"){
				cf_Alert("COME0035",strRtnMsg);			
			}else{
				cf_Alert("COME0035",strRtnMsg);	
			}			
		}else{
			cf_Alert("COME0035",strHttpMsg);
		}	
	}
}

function btn_wrng_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_cust_info.getColumn(0,"OT_WRNG_REG_DTIME")==""){	   //부정등록일시
	ta_bu01.visible=false;
	ta_bu02.visible=false;
	return;
	}else if(oneD==1){
	oneD=0;
	ta_bu01.visible=false;
	ta_bu02.visible=false;
	return;
	}else{
		ta_bu01.visible=true;
		ta_bu02.visible=true;
		oneD=1;
		ta_bu01.value="일시 : "+ds_cust_info.getColumn(0,"OT_WRNG_REG_DTIME").substr(0,4)+"/"+ds_cust_info.getColumn(0,"OT_WRNG_REG_DTIME").substr(4,2)+"/"+ds_cust_info.getColumn(0,"OT_WRNG_REG_DTIME").substr(6,2)+" "+ds_cust_info.getColumn(0,"OT_WRNG_REG_DTIME").substr(8,2)+"시";
		ta_bu02.value=ds_cust_info.getColumn(0,"OT_WRNG_RSN_CNTT");		
	}

	/*		
	alert("부정일시 : "+ds_cust_info.getColumn(0,"OT_WRNG_REG_DTIME").substr(0,4)+"/"+ds_cust_info.getColumn(0,"OT_WRNG_REG_DTIME").substr(4,2)+"/"+ds_cust_info.getColumn(0,"OT_WRNG_REG_DTIME").substr(6,2)+" "+ds_cust_info.getColumn(0,"OT_WRNG_REG_DTIME").substr(8,2)+"시"
	+"  상세사유 : "+ds_cust_info.getColumn(0,"OT_WRNG_RSN_CNTT"),"INFO","information");
	*/
	
	
}


// 2011.11 SMT 스마트콜백 버튼 클릭시
function Btn_Smt_Callback_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(GetUserInfo("gGRP_CD")) != "SMT")
	{
 		cf_Alert("COME0029","사용","소속그룹");			
		return;
	}
	
	if(objPHN){
		if(objPHN.getCallStatus() == "READY"){
			cf_Alert("COME0029","대기상태에서는 스마트콜백처리를","전화연결상태");
			return;
		}
	}	
	
	ds_get_param.clearData();
	ds_set_param.clearData();		
							
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};	
	 
 	parent.mdiOpen("BNS820","BNS::BNS820.xfdl","스마트콜백", 393, 23, 1632, 553, false, "absolute", arrParam, true, false, true, false);		
}

// 2011.11 SMT 스마트콜백 처리를 위한 데이터 및 화면SET(BNS820에서 호출)
function fn_setSmtCallbckProc(strSeqNo, strTelNo, strProcGbn, strIntgCustNo)
{
	// 1. 상담화면 CTI정상로그인 & 휴식상태에서만 처리하도록 유도.
	if(objPHN){
		if(objPHN.getCallStatus() != "BREAK"){
			cf_Alert("QASI0021","휴식상태","콜백처리");
			return;
		}
	} else{
		cf_Alert("QASI0021","CTI정상연결","콜백통화");
		return;		
	}	
	
	// 2. 진행중인 상담건이 있다면 먼저 처리하도록 한다.
	var objCnslDs = this.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];	// 상담일련번호 DS
	if(objCnslDs.rowcount > 0){
		cf_Alert("COME0037","현재 진행중인 상담건에 대해 완료처리");
		return;
	}	

	// 3. BNS010.fn_clearFlag() 함수에서 스마트콜백에 대한 초기화를 한다.	
	// 4. 스마트콜백과 일반OB콜 구분필요(스마트콜백ds 세팅 및 화면의 기타전화를 변경하도록 하자.)
	// 5. 콜백처리 하기 전 초기화를 먼저 한다.
	Btn_SrchClear_onclick();
	
	// 콜백세팅.(콜백인 경우에만 세팅하여 콜백아웃콜과 일반아웃콜을 구분)
	ds_smt_callbck.clearData();
	fun_ds_srch(ds_smt_callbck, "CALLBACK_SEQ_NO", strSeqNo);
	fun_ds_srch(ds_smt_callbck, "HOPE_TEL_NO", strTelNo.replace("-",""));
	fun_ds_srch(ds_smt_callbck, "PROC_GBN", strProcGbn);

	if(strProcGbn == "2"){
		Edt_SrchIntgCustNo.value = strIntgCustNo;
		fn_srchCustInfo();
	}
	
	Edt_EtcPhone.value = strTelNo;	
	//fn_initSmtCallbck(true);
}

// 2011.11 SMT 스마트콜백 초기화
//2017.11.15 기존 SMT로는 사용하지 않음
//윤화류 서비스로 사용 함.
function fn_initSmtCallbck(bln)
{
	if(bln == true){
		Stt_EtcPhone.text = "SMT콜백";
		Stt_EtcPhone.style.color = "crimson";
		Edt_EtcPhone.readonly	= bln;
				
		Btn_MakeHomeCall.enable	= false;
		Btn_MakeOffCall.enable	= false;
		Btn_MakeCelCall.enable	= false;
	}else{
		Stt_EtcPhone.text = "기타전화";
		Stt_EtcPhone.style.color = "#4a7094ff";
		Edt_EtcPhone.readonly	= bln;
		
		Btn_MakeHomeCall.enable	= true;
		Btn_MakeOffCall.enable	= true;
		Btn_MakeCelCall.enable	= true;
	}	
}

// 2011.11 SMT그룹 탭페이지 선택권한
function Tab_BnsHistInfo_canchange(obj:Tab, e:TabIndexChangeEventInfo)
{	
	if(getTrim(GetUserInfo("gGRP_CD")) == "SMT"){
		switch(e.postindex)
		{
			case 0 :
			case 1 :
			case 2 :				
				return true;
				break;				
			case 3 :			
			case 4 :			
			case 5 : 
			case 6 : 
				cf_Alert("CMPE0004","선택");
				return false;
				break;
			case 7 : 
				return true;
				break;
			case 8 : 
				return true;
				break;	
			default :
				cf_Alert("CMPE0004","선택");
				return false;
				break;
		}
	}	
}
function Btn_Test99_onclick(obj:Button,  e:ClickEventInfo)
{

	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","실명확인");	
		return;
	}	
	
	if(getTrim(ds_cust_info.getColumn(0,"OT_CUST_DIV_CD")) == "02"){
		cf_Alert("BNSE0041","실명확인");		
		return;
	}
	
	ds_get_param.clearData();
	ds_set_param.clearData();

	fun_ds_srch(ds_get_param, "CUST_NO", ds_cust_info.getColumn(0,"IO_CUST_NO"));	
	fun_ds_srch(ds_get_param, "CUST_NM", ds_cust_info.getColumn(0,"OT_CUST_NM"));
	fun_ds_srch(ds_get_param, "CUST_DIV_CD", ds_cust_info.getColumn(0,"OT_CUST_DIV_CD"));	
	fun_ds_srch(ds_get_param, "HEAD_RS_BZ_NO", getTrim(ds_cust_info.getColumn(0,"OT_HEAD_RS_BZ_NO")));
	fun_ds_srch(ds_get_param, "TAIL_RS_BZ_NO", getTrim(ds_cust_info.getColumn(0,"OT_TAIL_RS_BZ_NO")));		
	
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	PopupDialog("BNS080","BNS::BNS080.xfdl", -1, -1, 345, 175, false, -1, arrParam, false, false, true, false);		
}

function Btn_Atest0_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","실명확인");	
		return;
	}	
	
	if(getTrim(ds_cust_info.getColumn(0,"OT_CUST_DIV_CD")) == "02"){
		cf_Alert("BNSE0041","실명확인");		
		return;
	}
	
	ds_get_param.clearData();
	ds_set_param.clearData();

	fun_ds_srch(ds_get_param, "CUST_NO", ds_cust_info.getColumn(0,"IO_CUST_NO"));	
	fun_ds_srch(ds_get_param, "CUST_NM", ds_cust_info.getColumn(0,"OT_CUST_NM"));
	fun_ds_srch(ds_get_param, "CUST_DIV_CD", ds_cust_info.getColumn(0,"OT_CUST_DIV_CD"));	
	fun_ds_srch(ds_get_param, "HEAD_RS_BZ_NO", getTrim(ds_cust_info.getColumn(0,"OT_HEAD_RS_BZ_NO")));
	fun_ds_srch(ds_get_param, "TAIL_RS_BZ_NO", getTrim(ds_cust_info.getColumn(0,"OT_TAIL_RS_BZ_NO")));		
	
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	PopupDialog("BNS0001","BNS::BNS0001.xfdl", -1, -1, 345, 175, false, -1, arrParam, false, false, true, false);		
}

//========================================================================
//2012-06-05 고객적립기준이력조회
//========================================================================
function Btn_RsvstdHist_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")) == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
		
	ds_get_param.clearData();
	ds_set_param.clearData();
					
	fun_ds_srch(ds_get_param, "CUST_NO",getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));
							
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	//PopupDialog("BNS830","BNS::BNS830.xfdl", -1, -1, 440, 284 ,false, -1, arrParam, true, false, true, false);
	this.parent.mdiOpen("BNS830","BNS::BNS830.xfdl","적립기준이력조회", 393, 23, 1000, 230, false, "absolute", arrParam, true, false, true, false);
}

//========================================================================
//2012-06-07 고객본인인증이력조회
//2016-06-17 적립기준 이력조회
//========================================================================
function Btn_Cauthist_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")) == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	ds_get_param.clearData();
	ds_set_param.clearData();	
							
	//var arrParam = {getCustDsArgument:ds_cust_info,setDsArgument:ds_set_param};
	//this.parent.mdiOpen("BNS840","BNS::BNS840.xfdl","본인인증이력조회", 393, 23, 1000, 230, false, "absolute", arrParam, true, false, true, false);
	fun_ds_srch(ds_get_param, "CUST_NO",getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")));
							
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};
	this.parent.mdiOpen("BNS830","BNS::BNS830.xfdl","적립기준이력조회", 393, 23, 1000, 230, false, "absolute", arrParam, true, false, true, false);

}
//========================================================================
//2012-06-07 고객본인인증이력조회
//========================================================================
function Btn_Ipnthist_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")) == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	ds_get_param.clearData();
	ds_set_param.clearData();	
							
	var arrParam = {getCustDsArgument:ds_cust_info,setDsArgument:ds_set_param};
	this.parent.mdiOpen("BNS840","BNS::BNS840.xfdl","본인인증이력조회", 393, 23, 1000, 230, false, "absolute", arrParam, true, false, true, false);

}
//========================================================================
//2016-06-30 기관 인증이력조회 "AUTHN_TP_CD == 02||AUTHN_TP_CD == 03||AUTHN_TP_CD == 04||AUTHN_TP_CD == 08"
//========================================================================
function Btn_Authn_Tp_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")) == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	ds_get_param.clearData();
	ds_set_param.clearData();	
							
	var arrParam = {getCustDsArgument:ds_cust_info,setDsArgument:ds_set_param};
	this.parent.mdiOpen("BNS841","BNS::BNS841.xfdl","기관인증이력조회", 393, 23, 1000, 230, false, "absolute", arrParam, true, false, true, false);

}

//========================================================================
//2014-08-18 정비혜택조회(할인내역 조회)
//========================================================================
function Btn_Aohist_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")) == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
		
	ds_get_param.clearData();
	ds_set_param.clearData();
		
	var arrParam = {getCustDsArgument:ds_cust_info, getCrdDsArgument:ds_if_crd_pblc_record, setDsArgument:ds_set_param};

	this.parent.mdiOpen("BNS890","BNS::BNS890.xfdl","정비혜택조회", 393, 23, 1020, 518, false, "absolute", arrParam, true, false, true, false);
}


//========================================================================
// 2012-06-20 ARS고객인증
//========================================================================
function Btn_SaveArsAuthn_onclick(obj:Button,  e:ClickEventInfo)
{
	ds_get_param.clearData();
	ds_set_param.clearData();
						

	//고객이 조회되지않은경우
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
	
		var arrParam = {getCustDsArgument:ds_cust_info,setDsArgument:ds_set_param};
		PopupDialog("COM300","COM::COM300.xfdl", 292, 600, 345, 185, false, "absolute", arrParam, true, false, true, false);
		
	//고객이 조회된 경우
	}else{
	//	PopupDialog("COM310","COM::COM310.xfdl", -1, -1, 345, 185, false, -1, arrParam, false, false, true, false);
		fun_ds_srch(ds_get_param, "CUST_NM", ds_cust_info.getColumn(0,"OT_CUST_NM")); 	//고객명
		fun_ds_srch(ds_get_param, "CUST_NO",ds_cust_info.getColumn(0,"IO_CUST_NO"));	//고객번호
		fun_ds_srch(ds_get_param, "OUT_BDAY",getTrim(ds_cust_info.getColumn(0,"OT_CUIK_BDAY")));		//생년월일
		fun_ds_srch(ds_get_param, "SEX_CD",getTrim(ds_cust_info.getColumn(0,"OT_SEX_CD")));		//성별						
		fun_ds_srch(ds_get_param, "COM_CO_DIV_CD",getTrim(ds_cust_info.getColumn(0,"OT_COM_CO_DIV_CD")));	//통신사									
		fun_ds_srch(ds_get_param, "AUTHN_SBJT_CD",getTrim(ds_cust_info.getColumn(0,"OT_AUTHN_SBJT_CD")));	//본인/타인
		fun_ds_srch(ds_get_param, "HND_PHONE_NO",getTrim(ds_cust_info.getColumn(0,"OT_HND_PHONE_NO")));		//휴대폰번호

		fun_ds_srch(ds_get_param, "EDIT_CODE","CARD");		//CUST:고객정보저장 AUTH:고객인증처리 CARD:카드재발급
		fun_ds_srch(ds_get_param, "OPEN_PGM_ID","BNS010");		//팝업오픈한 프로그램ID
	
		var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};
		
		PopupDialog("BNS600","BNS::BNS600.xfdl", -1, -1, 549, 460, false, -1, arrParam, true, false, true, false);	
	}


}


//========================================================================
// 2012-07-24 ARS고객조회
//========================================================================
function Btn_SrchArsCustInfo_onclick(obj:Button,  e:ClickEventInfo)
{
	if(objPHNDTMF){
		fn_ClrSrchCond();
	
		g_div_cti.DTMF_PGM_ID = "BNS010";
		//trace("BNS010 DTMF_PGM_ID ==> " + g_div_cti.DTMF_PGM_ID);
		fn_ClrSrchCond();
		
		// DTMF값 초기화
		//trace("BNS010 :: dtmf 초기화");
		g_dtmf_no = "";	
		
		var intRtnCd = g_div_cti.conferenceInit(GetConfig("IVR_AUTH"), "75");
		//trace("return code :::" + intRtnCd);
		if(intRtnCd != 9999){
			PopupDialog("COM290","COM::COM290.xfdl", -1, -1, 419, 178, false, -1, "", false, false, true, false);
		}
	}else{
		cf_Alert("COME0020");	
		return;
	}	

}

//=========================================================================================
// 식별키변경 버튼 클릭시 실행되는 함수
// Btn_AlterCuik_onclick 
//=========================================================================================
function Btn_AlterCuik_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	//개인고객은 사업자변경으로..
	if(getTrim(ds_cust_info.getColumn(0,"OT_CUST_DIV_CD")) == "02"){
		alert("법인고객은 사업자번호변경을 사용해주세요.");
		return;
	}
	
	ds_get_param.clearData();
	ds_set_param.clearData();
	
	fun_ds_srch(ds_get_param, "CUST_NM", ds_cust_info.getColumn(0,"OT_CUST_NM")); 	//고객명
	fun_ds_srch(ds_get_param, "CUST_NO",ds_cust_info.getColumn(0,"IO_CUST_NO"));	//고객번호
	fun_ds_srch(ds_get_param, "OUT_BDAY",getTrim(ds_cust_info.getColumn(0,"OT_CUIK_BDAY")));		//생년월일
	fun_ds_srch(ds_get_param, "SEX_CD",getTrim(ds_cust_info.getColumn(0,"OT_SEX_CD")));		//성별						
	fun_ds_srch(ds_get_param, "COM_CO_DIV_CD",getTrim(ds_cust_info.getColumn(0,"OT_COM_CO_DIV_CD")));	//통신사									
	fun_ds_srch(ds_get_param, "AUTHN_SBJT_CD",getTrim(ds_cust_info.getColumn(0,"OT_AUTHN_SBJT_CD")));	//본인/타인
	fun_ds_srch(ds_get_param, "HND_PHONE_NO",getTrim(ds_cust_info.getColumn(0,"OT_HND_PHONE_NO")));		//휴대폰번호

	fun_ds_srch(ds_get_param, "EDIT_CODE","CUST");			//CUST:고객정보저장 AUTH:고객인증처리 CARD:카드재발급
	fun_ds_srch(ds_get_param, "OPEN_PGM_ID","BNS010");		//팝업오픈한 프로그램ID
	
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};
	
	PopupDialog("BNS600","BNS::BNS600.xfdl", -1, -1, 549, 460, false, -1, arrParam, true, false, true, false);	
}

//=========================================================================================
// 회원통합버튼클릭시 화면오픈
//=========================================================================================
function Btn_CustintgIns_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	/*
	//"0006" - 스마트카드(제휴)
	var smtCrdCnt = 0;
	
	for(i=0;i<ds_if_crd_pblc_record.rowcount;i++)
	{
		//정상이고 스마트카드가 있는지 확인
		if(ds_if_crd_pblc_record.getColumn(i,"CRD_ST_CD") == "01" 
		&& ds_if_crd_pblc_record.getColumn(i,"PBLC_APLY_DIV_CD") == "0006"){
			smtCrdCnt++;
		}
	}
	
	//스마트카드가 존재하면 팝업오픈이 안된다.
	if(smtCrdCnt > 0){
		alert("스마트카드는 통합할 수 없습니다.");
		return;
	}*/
	
	
	ds_get_param.clearData();
	ds_set_param.clearData();
	
	var arrParam = {getCustDsArgument:ds_cust_info,setDsArgument:ds_set_param};

	PopupDialog("BNS850","BNS::BNS850.xfdl", -1, -1, 720, 413, false, -1, arrParam, false, false, true, false);		
}

//=========================================================================================
// 고객번호 없이 고객정보만 가지고 인입됐을때 처리되는 함수
//=========================================================================================
function set_NoneCustNo_CustInfo() 
{
	Edt_CuikBday.value		= getTrim(g_dtmf_bday);
	Cmb_GndrDiv.value		= getTrim(g_dtmf_sex_cd);
	Cmb_ComCoDivCd.value	= getTrim(g_dtmf_com_co_div_cd);
	Cmb_AuthnSbjtCd.value	= getTrim(g_dtmf_authn_sbjt_cd);
	Edt_CelPhone.value		= getTrim(g_dtmf_cphn_head_tphn_no) 
							+ "-" + getTrim(g_dtmf_cphn_min_tphn_no) 
							+ "-" + getTrim(g_dtmf_cphn_fnl_tphn_no); 		
							
	// 고객 Summary 조회(악성)
	this.all["Tab_SmryInfo"]["tabpage1"].fn_srchFormDataBlk();			// 
}

// ARS비밀번호 받기	2012.11
function Btn_ArsPw_onclick(obj:Button,  e:ClickEventInfo)
{

	if(objPHNDTMF){	
	
		// ===========================================================
		// ARS비밀번호 변경 추가 2012.11.08
		// ===========================================================
		g_dtmf_cust_no = ""; // 고객번호
		// ===========================================================

		g_dtmf_cust_no = Edt_CustNo.value;	//고객번호
		
		if(GetConfig("IVR_RE")=="") {
			g_div_cti.transferMute("2801", "45");
		} else {
			g_div_cti.transferMute(GetConfig("IVR_RE"), "45");
		}
	
	}else{
		cf_Alert("COME0020");	
		return;
	}
	
}

// ARS악성고객 연결	2012.12
function Btn_BlackCust_onclick(obj:Button,  e:ClickEventInfo)
{
	
	if(objPHNDTMF){	
	
		if (!cf_Confirm("COMI0012","악성고객"))	return;
		
		g_dtmf_cust_no = Edt_CustNo.value;	//고객번호
		
		if(GetConfig("IVR_RE")=="") {
			g_div_cti.transferMute("2801", "99");
		} else {
			g_div_cti.transferMute(GetConfig("IVR_RE"), "99");
		}
	
	}else{
		cf_Alert("COME0020");
		return;
	}
	
}

//고객정보조회이력 DB 저장 	2013.01
function fn_setCustInfoInqHist(){
	
	ds_cust_info_inq_hist_set.clearData();
	
	fun_ds_srch(ds_cust_info_inq_hist_set, "CUST_NO", ds_cust_info.getColumn(0,"IO_CUST_NO")); 
	fun_ds_srch(ds_cust_info_inq_hist_set, "CNSLR_ID", getTrim(GetUserInfo("gUSR_ID"))); 
	fun_ds_srch(ds_cust_info_inq_hist_set, "CNSLR_NM", getTrim(GetUserInfo("gUSR_NM"))); 
	
	var	strSvcID = "CUST_INFO_INQ_HIST_INSERT";
	var	strURL = SVC_USR_URL;
	var	strInDatasets = "INSERT_0_IDATA=ds_cust_info_inq_hist_set:a"; 
	var	strOutDatasets = "";
	var	strArgument = "INSERT_0_ID=CST020.Set_CUST_INFO_INQ_HIST_INSERT";
	var strCallbackFunc = "fn_callBackCuisIns";
	var strProcessBar = true;
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);
}
//이용내역조회 팝업 호출
function Btn_NotiHist_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(ds_cust_info.getColumn(0,"IO_CUST_NO")) == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	ds_get_param.clearData();
	
	fun_ds_srch(ds_get_param, "in_cust_no",ds_cust_info.getColumn(0,"IO_CUST_NO"));
	fun_ds_srch(ds_get_param, "in_cust_nm",ds_cust_info.getColumn(0,"OT_CUST_NM"));
	
	var arrParam = {getCustDsArgument:ds_get_param};
	this.parent.mdiOpen("BNS860","BNS::BNS860.xfdl","이용내역 통지조회", 393, 23, 1000, 540, false, "absolute", arrParam, true, false, true, false);
}
function ds_cust_info_oncolumnchanged(obj:Dataset, e:DSColChangeEventInfo)
{
	if ( ds_cust_info.getColumn(0,"OT_CI_VAL") != undefined && getTrim(ds_cust_info.getColumn(0,"OT_CI_VAL")) != "" ){
		Edt_CiVal.value = "존재";
	}else{
		Edt_CiVal.value = "";
	}
}

function Stt_CustNm_onclick(obj:Static,  e:ClickEventInfo)
{
	ds_get_param.clearData();
	ds_set_param.clearData();
	
	fun_ds_srch(ds_get_param, "CUST_NO", Edt_SrchCustNo.text);
		
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};
	PopupDialog("COM330","COM::COM330.xfdl", -1, -1, 665, 379, false, -1, arrParam, false, false, false, false);
}

function Btn_CST036_onclick(obj:Button,  e:ClickEventInfo)
{
	ds_get_param.clearData();
	ds_set_param.clearData();
	
	fun_ds_srch(ds_get_param, "prg_mode", "POPTAB");
	fun_ds_srch(ds_get_param, "cust_no", Edt_SrchCustNo.text);
		
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};
	PopupDialog("CST033","CST::CST036.xfdl", -1, -1, 1027, 442, false, -1, arrParam, false, false, false, false);
}

function Btn_exel_dn_onclick(obj:Button,  e:ClickEventInfo)
{

	if(ds_cust_info.getColumn(0,"IO_CUST_NO")  == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	var sInqCnt   = Stt_CrdInfoCnt.text;
	var sPerTCd ; 
	var sPerTDt = "ICCS_CSC 정상 카드 이력 다운로드";  // 수행업무 상세내용
	var sCalFun = "Btn_exel_dn_onclick()";  // 호출함수명 
	var sInqCon = "cust_no="+ds_cust_info.getColumn(0,"IO_CUST_NO"); //조회 조건은 고객번호
	var sInqCnt = Stt_CrdInfoCnt.text;  // 조회건수	
	var sInCustNo = ds_cust_info.getColumn(0,"IO_CUST_NO");
		
	var cnt = fn_exel_Doenhis(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInCustNo);	
	
	//상세사유가 없으면 다운로드 안됨.
	if(cnt < 1){
		return;
	}	
	
	ExportObject00.clear();
	
	var intTabIndx 		= this.all["Tab_CrdInfo"].tabindex;
	var arrTabPageList 	= this.all["Tab_CrdInfo"].tabpages;
	var objTabPage 		= arrTabPageList(intTabIndx);
	//var objTabPageGrd	= objTabPage.all["Grd_CrdInfo"]; 개인정보 제외 하고 엑셀 다운로드 김순화D요청
	var objTabPageGrd	= objTabPage.all["Grd_CrdInfo00"];
	
	GridExportExcel(objTabPageGrd, ExportObject00, "sheet1");
}
function Btn_Btn_ForienCust_onclick(obj:Button,  e:ClickEventInfo)
{
	if(objPHNDTMF){	
	
		if (!cf_Confirm("COMI0012","외국인고객"))	return;
		
		//g_dtmf_cust_no = Edt_CustNo.value;	//고객번호
		
		if(GetConfig("IVR_RE")=="") {
			g_div_cti.transferMute("2801", "98");
		} else {
			g_div_cti.transferMute(GetConfig("IVR_RE"), "98");
		}
	
	}else{
		cf_Alert("COME0020");
		return;
	}
}

function Tab_SmryInfo_onchanged(obj:Tab, e:TabIndexChangeEventInfo)
{

	if(Tab_SmryInfo.tabindex == 2) {
		this.all["Tab_SmryInfo"]["tabpage3"].setCallbackList(); //콜백배정 리스트 조회
	}
	
	if(Tab_SmryInfo.tabindex == 2 && GetUserInfo("gGRP_CD") == "OIL"){
		Stt_EtcPhone.bringToFront();
		Edt_EtcPhone.bringToFront();
		Btn_MakeEtcCall.bringToFront();
	}else if(Tab_SmryInfo.tabindex != 2 && GetUserInfo("gGRP_CD") == "OIL"){
		SMT.bringToFront();	
	}
}


//개인정보 변경 저장시 휴면 고객 연장 
function DoRew(custNoStr)
{	
	ds_if_rew_env.clearData();
	ds_if_rew_data.clearData();
	ds_if_rew_common.clearData();
	ds_if_rew_header.clearData();
	ds_if_rew_column.clearData();
	ds_if_rew_record.clearData();
		
	fun_ds_srch(ds_if_rew_env, "IF_KIND","WAS");
	//fun_ds_srch(ds_if_rew_env, "IF_CALL_KIND","");
	
	fun_ds_srch(ds_if_rew_env, "REQ_SERVICE_METHOD","rtCuctIns.do");
	fun_ds_srch(ds_if_rew_env, "REQ_SERVICE_ID","");	
	fun_ds_srch(ds_if_rew_env, "RES_HEADER_SECTION","STP_RT_CUCT_INS_Rsp");
	fun_ds_srch(ds_if_rew_env, "RES_COLUMN_SECTION","");
	fun_ds_srch(ds_if_rew_env, "RES_RECORD_SECTION","");		
	
	fun_ds_srch(ds_if_rew_data,"req_chnl_code","610050");	
	fun_ds_srch(ds_if_rew_data,"input_user_id",gUsrId);
	fun_ds_srch(ds_if_rew_data,"input_user_nm",gUsrNm);
	fun_ds_srch(ds_if_rew_data,"input_user_ip",gLginIp);	
	fun_ds_srch(ds_if_rew_data,"in_cust_no",custNoStr);					//고객번호
	fun_ds_srch(ds_if_rew_data,"in_user_id",gUsrId);					//입력자ID
	fun_ds_srch(ds_if_rew_data,"in_input_ip",gLginIp);					//입력자IP
	fun_ds_srch(ds_if_rew_data,"in_chnl_cd","9100");					//입력자사코드(채널코드)
	fun_ds_srch(ds_if_rew_data,"in_div_cd","09");					//08:CSC휴면연장    09:CSC개인정보수정
	
	var	strSvcID = "IF_WAS_324";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_rew_env:a INTERFACE_DATA=ds_if_rew_data:a";
	var	strOutDatasets = "ds_if_rew_common=DS_COMMON ds_if_rew_header=DS_HEADER ds_if_rew_column=DS_COLUMN ds_if_rew_record=DS_RECORD";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBack";
	var strProcessBar = true;	
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);
}


//2017.07.28 휴면 고객 복원
function btn_Re_Cust(){
    ds_get_param.clearData();
	ds_set_param.clearData();		
							
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};	
	 
 	parent.mdiOpen("BNS900","BNS::BNS900.xfdl","휴면고객 복원", 393, 23, 1300, 538, false, "absolute", arrParam, true, false, true, false);		
	
}

//통지내역 조회
function btn_rtLstNoti_Sel(obj:Button,  e:ClickEventInfo)
{
	
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	ds_get_param.clearData();
	ds_set_param.clearData();		
							
	//var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};	
	var arrParam = { getCustDsArgument:ds_cust_info,getCrdDsArgument:ds_if_crd_pblc_record ,setDsArgument:ds_set_param};
	
	parent.mdiOpen("BNS901","BNS::BNS901.xfdl","통지 내역 조회", 500, 500, 860, 470, false, "absolute", arrParam,  true, false,  true, false);		
}
//최종접촉이력 조회
function btn_rtLstCnct_Sel(obj:Button,  e:ClickEventInfo)
{
	
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	ds_get_param.clearData();
	ds_set_param.clearData();		
							
	//var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};	
	var arrParam = { getCustDsArgument:ds_cust_info,getCrdDsArgument:ds_if_crd_pblc_record ,setDsArgument:ds_set_param};
	 
 	parent.mdiOpen("BNS902","BNS::BNS902.xfdl","최종접촉이력 조회", 500, 500, 780, 470, false, "absolute", arrParam, true, false, true, false);		
}



/*
function date_time()
{
		date = new Date;
		year = date.getFullYear();
		month = date.getMonth();
	if(month+1<10){
		month = '0'+(month+1);
	}
		d = date.getDate();
		day = date.getDay();
		h = date.getHours();
		if(h<10)
		{
				h = "0"+h;
		}
		m = date.getMinutes();
		if(m<10)
		{
				m = "0"+m;
		}
		s = date.getSeconds();
		if(s<10)
		{
				s = "0"+s;
		}
		result = year+''+month+''+d+''+h+''+m+''+s;
		
	   return result;
}
*/

/*
스마트 보증제 해지
*/
function Btn_QualtYN_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}
	
	if(getTrim(ds_srch_flg.getColumn(0,"FRCH_YN")) == "Y"){
		cf_Alert("BNSE0040","고객상태변경 업무처리");	
		return;
	}		
	
	ds_get_param.clearData();
	ds_set_param.clearData();
					
	fun_ds_srch(ds_get_param, "in_req_chnl_code","610010");
	fun_ds_srch(ds_get_param, "in_camp_id","CMS2017100006");
	fun_ds_srch(ds_get_param, "in_cust_no",ds_cust_info.getColumn(0,"IO_CUST_NO"));
	
	//Y 이거나 N 값이 있으면 등록 되어 있는 상태로 보고 상태 변경시 업데이트 해줘야함 
	//in_req_gbn_befor = "U";	
	
	if(ds_if_sg_sel_record.rowcount > 0	){	
		fun_ds_srch(ds_get_param, "in_st_cd","U"); // 업데이트				
	}else{
		fun_ds_srch(ds_get_param, "in_st_cd","C"); // insert
	}	
	
	if(ds_if_sg_sel_record.getColumn(0,"USE_YN") == "Y"){
		fun_ds_srch(ds_get_param, "in_use_yn","05");		
	}else{
		fun_ds_srch(ds_get_param, "in_use_yn","02");		
	}

	fun_ds_srch(ds_get_param, "in_mod_dtime",getToday());	
	fun_ds_srch(ds_get_param, "in_user_id",gUsrId);	
	fun_ds_srch(ds_get_param, "in_ip",gLginIp);									
								
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};

	PopupDialog("BNS321","BNS::BNS321.xfdl", -1, -1, 345, 145, false, -1, arrParam, false, false, true, false);
}

//스마트 보증제 가입여부 조회
function fn_srchCustSg(strParaCustNo)
{
	
	ds_if_sg_sel_env.clearData();
	ds_if_sg_sel_data.clearData();
	ds_if_sg_sel_common.clearData();
	ds_if_sg_sel_header.clearData();
	ds_if_sg_sel_column.clearData();
	ds_if_sg_sel_record.clearData();

	// IF ENV DS  20180830  칼텍스 요청으로 수정 											   
	//fn_setIfEnvDs(ds_if_sg_sel_env,"WAS","cpCmctSelC01.do","","STP_CP_CMCT_SEL_C01_Rsp","","OT_RESULT");	
	fn_setIfEnvDs(ds_if_sg_sel_env,"WAS","cpCmstSelC01.do","","STP_CP_CMST_SEL_C01_Rsp","","OT_RESULT");	

	// IF DATA DS		
	//fun_ds_srch(ds_if_sg_sel_data, "in_camp_id","CMS2017100006");   //캠페인 번호 사용하지 않음
	fun_ds_srch(ds_if_sg_sel_data, "in_cust_no",strParaCustNo);	
	
	
	var	strSvcID = "IF_CSC_ITRT_045";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_sg_sel_env:a INTERFACE_DATA=ds_if_sg_sel_data:a";
	var	strOutDatasets = "ds_if_sg_sel_common=DS_COMMON ds_if_sg_sel_header=DS_HEADER ds_if_sg_sel_column=DS_COLUMN ds_if_sg_sel_record=DS_RECORD";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBackCls";	
	var strProcessBar = false;
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);			
}

//S2S 안내 여부 확인
function fn_srchS2SAgree(strParaCustId)
{

  //2021/09/07 S2S동의콜안내 여부 START-------- 
	ds_param_in.clearData();
	ds_s2s_agree.clearData();
	
	cf_trace("BNS010 ::s2s  안내여부 확인  START::", strParaCustId);
	
	fun_ds_srch(ds_param_in, "CUST_ID",strParaCustId);	
	
	var strSvcID = "S2AG";
	var strURL = SVC_USR_URL;	
	var strInDatasets = "SELECT_0_IDATA=ds_param_in:a"; 
	var strOutDatasets = "ds_s2s_agree=SELECT_0_ODATA";
	var strArgument = "SELECT_0_ID=BNS010.Get_S2sAgreeChk_SELECT"; 	 
	var strCallbackFunc = "fn_callBackS2sIns";
	var strProcessBar = false;
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);
     	
	
	
}

// 가맹점 고객이 ARS를 통해 들어올 때 SAP코드로 BONUS ID DB조회
function fn_srchFrchBnsId(strSapCd)
{
	if(strSapCd.length == 10){
		strSapCd = strSapCd.substr(4,6);
	}
/*	
	if(strSapCd.length != 6){
		cf_Alert("COME0028","SAP 코드","6");		
		return;
	}
*/
	ds_srch.clearData();
	ds_bonus_id.clearData();
	fun_ds_srch(ds_srch, "CUST_ID",strSapCd);
	
	var	strSvcID = "R3";
	var	strURL = SVC_USR_URL;
	var	strInDatasets = "SELECT_0_IDATA=ds_srch:a"; 
	var	strOutDatasets = "ds_bonus_id=SELECT_0_ODATA";
	var	strArgument = "SELECT_0_ID=BNS010.Get_SapCdToBnsId_SELECT";
	var strCallbackFunc = "fn_callBack";
	
	if(getTrim(ds_srch_flg.getColumn(0,"CALL_IN_YN")) == "Y"){
		var strProcessBar = false;
	}else{
		var strProcessBar = true;		
	}
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);
			
	return;		
}



function Btn_CI_Check_onclick(obj:Button,  e:ClickEventInfo)
{
	ds_get_param.clearData();
	ds_set_param.clearData();		
							
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};	
	 
 	parent.mdiOpen("BNS903","BNS::BNS903.xfdl","휴면고객 복원", 393, 23, 1300, 538, false, "absolute", arrParam, true, false, true, false);	
}

//소셜 맵핍정보 조회
function Btn_SrchSocial_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}

	ds_get_param.clearData();
	ds_set_param.clearData();
	
	
	fun_ds_srch(ds_get_param, "in_cust_no",ds_cust_info.getColumn(0,"IO_CUST_NO"));	//고객번호	
	fun_ds_srch(ds_get_param, "in_user_id",gUsrId);	//상담원 id
	
	
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};
	
	//parent.mdiOpen("BNS280","BNS::BNS280.xfdl","SNS고객매핑정보조회", 393, 23, 800, 553, false, "absolute", arrParam, true, false, true, false);	
	//parent.mdiOpen("BNS280","BNS::BNS280.xfdl","SNS고객매핑정보조회",393, 23, 495, 321, false, "absolute", arrParam, true, false, true, false);	
	PopupDialog("BNS280","BNS::BNS280.xfdl", 393, 23, 495, 321, false, -1, arrParam, false, false, true, false);
	
}

function Btn_PayList_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}

	ds_get_param.clearData();
	ds_set_param.clearData();
	
	
	fun_ds_srch(ds_get_param, "in_cust_no",ds_cust_info.getColumn(0,"IO_CUST_NO"));	//고객번호		
	
	
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};	
	
	PopupDialog("BNS895","BNS::BNS895.xfdl", 393, 23, 495, 321, false, -1, arrParam, false, false, true, false);	
}

function Btn_ResList_onclick(obj:Button,  e:ClickEventInfo)
{
	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
		cf_Alert("COME0013","고객");		
		return;	
	}

	ds_get_param.clearData();
	ds_set_param.clearData();
	
	
	fun_ds_srch(ds_get_param, "in_cust_no",ds_cust_info.getColumn(0,"IO_CUST_NO"));	//고객번호		
	
	
	var arrParam = {getDsArgument:ds_get_param, setDsArgument:ds_set_param};	
	
	PopupDialog("BNS894","BNS::BNS894.xfdl", 393, 23, 495, 321, false, -1, arrParam, false, false, true, false);	
	
}



//S2S  호전환시 저장 클릭
function Btn_S2SSaveCall_onclick(obj:Button,  e:ClickEventInfo)
{	
	//이건.....?
 	//var scustno = ds_cust_info.getColumn(0,"IO_CUST_NO");
 		
  	if(ds_cust_info.getColumn(0,"IO_CUST_NO") == ""){
  		cf_Alert("COME0013","고객");		
  		return;	
  	 }

	if (!cf_Confirm("COMI0012","S2S호전환"))	return;
	
	//trace("Btn_S2SSaveCall_onclick topFrame");
	fn_s2sTransCallInsert();
 }

 	
// S2S 호전환 대상 저장 
function fn_s2sTransCallInsert()
{
	ds_s2s_data.clearData();
	
	//trace("BNS010 START[]::::" + ds_cust_info.getColumn(0,"IO_CUST_NO"));
	
	//fun_ds_srch(ds_s2s_data, "CUST_ID","1111111111")//ds_cust_info.getColumn(0,"IO_CUST_NO"));	//고객번호		
	fun_ds_srch(ds_s2s_data, "CUST_ID",ds_cust_info.getColumn(0,"IO_CUST_NO"));	//고객번호		
	
	//fun_ds_srch(ds_s2s_data, "CUST_NO",ds_cust_info.getColumn(0,"IO_CUST_NO"));	//고객번호
	//fun_ds_srch(ds_s2s_data, "CUST_NM",getTrim(ds_cust_info.getColumn(0,"OT_CUST_NM")));
	fun_ds_srch(ds_s2s_data, "REG_ID", getTrim(GetUserInfo("gUSR_ID"))); 
	//fun_ds_srch(ds_s2s_data, "CNSLR_NM", getTrim(GetUserInfo("gUSR_NM"))); 
	//fun_ds_srch(ds_s2s_data, "GBL_USR_ID", getTrim(GetUserInfo("gUSR_ID"))); 
	//fun_ds_srch(ds_s2s_data, "GBL_USR_NM", getTrim(GetUserInfo("gUSR_NM"))); 
	fun_ds_srch(ds_s2s_data, "GRP_CD",getTrim(GetUserInfo("gGRP_CD")));			// 그룹
	fun_ds_srch(ds_s2s_data, "PART_CD",getTrim(GetUserInfo("gPART_CD")));		// 파트	

	//trace("Btn_S2SCall::::"+ds_s2s_data.saveXML());
		
	var	strSvcID = "S2";
	var	strURL = SVC_USR_URL;	
	var	strInDatasets = "INSERT_0_IDATA=ds_s2s_data:a";
	var	strOutDatasets = "";
	var	strArgument = "INSERT_0_ID=BNS010.Set_S2sCallTransHist_INSERT";
	var strCallbackFunc = "fn_callBackS2sIns";
	var strProcessBar = true;
	
	//trace("BNS010 END[]::::" + ds_cust_info.getColumn(0,"IO_CUST_NO"));
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);	
		
} 	


/**
* GS&쿠폰 자사화 > 이벤트포인트조회
* 2024.12.23 | NP847
*/
function fn_srchCustEventPt() {
	
	//초기화
	ds_if_cust_event_pt_env.clearData();
	ds_if_cust_event_pt_data.clearData();
	ds_if_cust_event_pt_common.clearData();
	ds_if_cust_event_pt_header.clearData();
	ds_if_cust_event_pt_column.clearData();
	ds_if_cust_event_pt_record.clearData();
	
	//IF 세팅
	fun_ds_srch(ds_if_cust_event_pt_env, "IF_KIND", 			"WAS");
	fun_ds_srch(ds_if_cust_event_pt_env, "REQ_SERVICE_METHOD", 	"ptCustEventptSelC01.do");
	fun_ds_srch(ds_if_cust_event_pt_env, "REQ_SERVICE_ID", 		"");
	fun_ds_srch(ds_if_cust_event_pt_env, "RES_HEADER_SECTION", 	"STP_PT_CUSTEVENTPT_SEL_C01_Rsp");
	fun_ds_srch(ds_if_cust_event_pt_env, "RES_COLUMN_SECTION", 	""); 
	fun_ds_srch(ds_if_cust_event_pt_env, "RES_RECORD_SECTION", 	"OT_RESULT"); 

	//parameter setting
	fun_ds_srch(ds_if_cust_event_pt_data,"io_prcd_id", "");
	fun_ds_srch(ds_if_cust_event_pt_data,"in_req_chnl_cd", "610050");

	//고객번호 or 카드번호 조회 시
	if(getTrim(Edt_SrchCustNo.value) != ""){
		fun_ds_srch(ds_if_cust_event_pt_data,"in_search_key","S1");
		fun_ds_srch(ds_if_cust_event_pt_data,"in_cust_no",getTrim(Edt_SrchCustNo.value));
	}else if(getTrim(Msk_SrchCrdNo.value) != "") {
		fun_ds_srch(ds_if_cust_event_pt_data,"in_search_key","S2");
		fun_ds_srch(ds_if_cust_event_pt_data,"in_crd_no",getTrim(Msk_SrchCrdNo.value));
	}

	var	strSvcID = "IF_WS_0351";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_cust_event_pt_env:a INTERFACE_DATA=ds_if_cust_event_pt_data:a";
	var	strOutDatasets = "ds_if_cust_event_pt_common=DS_COMMON ds_if_cust_event_pt_header=DS_HEADER ds_if_cust_event_pt_column=DS_COLUMN ds_if_cust_event_pt_record=DS_RECORD";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBack";
	var strProcessBar = true;
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);	
}

/**
* GS&쿠폰 자사화 > 이벤트포인트조회 > 이력
* 2024.12.23 | NP847
*/
function Btn_eventPthist_onclick(obj:Button,  e:ClickEventInfo)
{
	ds_get_param.clearData();
	ds_set_param.clearData();
	
	/* 테스트 데이터(추후 테스트 데이터 확인 시 주석 필요) 
	fun_ds_srch(ds_if_cust_event_pt_record, "CPTV_EVNT_PT_ID", "event1");
	fun_ds_srch(ds_if_cust_event_pt_record, "EVNT_PT", "1000");
	fun_ds_srch(ds_if_cust_event_pt_record, "VANISH_INTEND_DATE", "2025-01-01");
	*/
	
	var arrParam = {getDsArgument:ds_if_cust_event_pt_record, setDsArgument:ds_set_param};	
	
	this.parent.mdiOpen("BNS842","BNS::BNS842.xfdl","이벤트포인트이력조회", 393, 23, 500, 200, false, "absolute", arrParam, true, false, true, false);
}

/**
* GS&쿠폰 자사화 > 회원등급 > 회원등급조회
* 2025.02.06 | NP847
*/
function fn_srchcmCustGrd(strParaCustNo) {
	//초기화
	ds_if_custGrd_sel_env.clearData();
	ds_if_custGrd_sel_data.clearData();
	ds_if_custGrd_sel_common.clearData();
	ds_if_custGrd_sel_header.clearData();
	ds_if_custGrd_sel_column.clearData();
	ds_if_custGrd_sel_record.clearData();
	
	//IF 세팅
	fun_ds_srch(ds_if_custGrd_sel_env, "IF_KIND"			, "WAS");
	fun_ds_srch(ds_if_custGrd_sel_env, "REQ_SERVICE_METHOD"	, "cmCustgrdSelC02.do");
	fun_ds_srch(ds_if_custGrd_sel_env, "REQ_SERVICE_ID"		, "");
	fun_ds_srch(ds_if_custGrd_sel_env, "RES_HEADER_SECTION"	, "STP_CM_CUSTGRD_SEL_C02_Rsp");
	fun_ds_srch(ds_if_custGrd_sel_env, "RES_COLUMN_SECTION"	, ""); 
	fun_ds_srch(ds_if_custGrd_sel_env, "RES_RECORD_SECTION"	, "OT_RESULT"); 

	//parameter setting
	fun_ds_srch(ds_if_custGrd_sel_data,"io_prcd_id"			, "");
	fun_ds_srch(ds_if_custGrd_sel_data,"in_req_chnl_cd"		, "610050");
	fun_ds_srch(ds_if_custGrd_sel_data,"in_cust_no"			, strParaCustNo);
	
	var	strSvcID = "IF_WS_0356";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_custGrd_sel_env:a INTERFACE_DATA=ds_if_custGrd_sel_data:a";
	var	strOutDatasets = "ds_if_custGrd_sel_common=DS_COMMON ds_if_custGrd_sel_header=DS_HEADER ds_if_custGrd_sel_column=DS_COLUMN ds_if_custGrd_sel_record=DS_RECORD";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBackCls";
	
	if(getTrim(ds_srch_flg.getColumn(0,"CALL_IN_YN")) == "Y"){
		var strProcessBar = false;
	}else{
		var strProcessBar = true;		
	}
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);	
}]]></Script>
    <Layout>
      <Static id="Stt_PrcBack" class="sta_WFSA_BG3" position="absolute 10 202 1642 230" text=""/>
      <Button id="Btn_CST036" taborder="127" text="개인정보 유효기간제" class="btn_WF_link" position="absolute 1667 246 1798 266" onclick="Btn_CST036_onclick" enable="false" visible="false"/>
      <Tab id="Tab_CntctHistInfo" taborder="64" tabindex="0" scrollbars="autoboth" class="tab_WF_type4" position="absolute 12 660 1644 810" onchanged="Tab_CntctHistInfo_onchanged">
        <Tabpages>
          <Tabpage id="tabpage1" text="접촉저장" applystyletype="cascade,keep" class="tabp_WF_type2" url="BNS::BNS620.xfdl" scrollbars="none">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage2" text="접촉이력" applystyletype="cascade,keep" class="tabp_WF_type2" scrollbars="none" url="BNS::BNS650.xfdl">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage3" text="TM접촉이력" applystyletype="cascade,keep" class="tabp_WF_type2" scrollbars="none" url="BNS::BNS660.xfdl">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage4" text="SMS이력" applystyletype="cascade,keep" class="tabp_WF_type2" scrollbars="none" url="BNS::BNS670.xfdl">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage5" text="FAX이력" applystyletype="cascade,keep" class="tabp_WF_type2" scrollbars="none" url="BNS::BNS680.xfdl">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage6" text="E-mail이력" applystyletype="cascade,keep" class="tabp_WF_type2" scrollbars="none" url="BNS::BNS690.xfdl">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage7" text="IVR이력" applystyletype="cascade,keep" class="tabp_WF_type2" scrollbars="none" url="BNS::BNS700.xfdl">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage8" text="불만이력" applystyletype="cascade,keep" class="tabp_WF_type2" scrollbars="none" url="BNS::BNS710.xfdl">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage9" text="설문이력" applystyletype="cascade,keep" class="tabp_WF_type2" scrollbars="none" url="BNS::BNS720.xfdl">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage10" text="예약리스트" applystyletype="cascade,keep" scrollbars="none" class="tabp_WF_type2" url="BNS::BNS740.xfdl">
            <Layout/>
          </Tabpage>
        </Tabpages>
      </Tab>
      <Static id="Stt_SrchCustBack" class="sta_WFSA_BG2" position="absolute 10 7 1450 35" text=""/>
      <Static id="Stt_SrchCustNo" text="고객번호" class="sta_WFSA_labelP" position="absolute 20 15 88 27"/>
      <Static id="Stt_SrchIntgCustNo" text="통합고객번호" class="sta_WFSA_labelP" position="absolute 184 15 277 27"/>
      <Static id="Stt_SrchWebId" text="웹ID" class="sta_WFSA_labelP" position="absolute 359 15 400 27"/>
      <Static id="Stt_SrchCrdNo" text="카드번호" class="sta_WFSA_labelP" position="absolute 474 15 540 27"/>
      <Button id="Btn_SrchCustInfo" taborder="13" text="조회" class="btn_WFSA_P" position="absolute 889 11 948 31" style="font:dotum,9;" onclick="Btn_SrchCustInfo_onclick" enable="false"/>
      <Button id="Btn_SaveCustInfo" taborder="14" text="저장" class="btn_WFSA_P" position="absolute 953 11 1011 31" style="font:dotum,9;" onclick="Btn_SaveCustInfo_onclick" enable="false"/>
      <Button id="Btn_SrchIpinCust" taborder="15" text="IPIN" class="btn_WFSA_P" position="absolute 1937 4 1984 24" style="font:dotum,9;" onclick="Btn_SrchIpinCust_onclick" enable="false"/>
      <Static id="Stt_InfoCustBack" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 10 37 1450 197" text=""/>
      <Static id="Stt_CustNm" text="고객명" position="absolute 17 46 77 58" style="color:violet;font:Dotum,9;" onclick="Stt_CustNm_onclick"/>
      <Static id="Stt_HomeAddr" text="자택주소" position="absolute 17 68 77 80" style="font:Dotum,9,bold;"/>
      <Static id="Stt_OffAddr" text="직장주소" position="absolute 17 89 77 101" style="font:Dotum,9,bold;"/>
      <Static id="Stt_DmSendDiv" text="우편물" position="absolute 17 111 77 123" style="font:Dotum,9,bold;"/>
      <Static id="Stt_CustRegDt" text="고객등록일" position="absolute 17 133 83 145"/>
      <Edit id="Edt_IntgWebId" taborder="45" position="absolute 295 151 387 169" readonly="true" style="border:1 solid #d1d1d1ff ;"/>
      <Edit id="Edt_HeadRsBzNo" taborder="34" position="absolute 295 42 367 60" readonly="true" style="border:1 solid #d1d1d1ff ;"/>
      <Edit id="Edt_HomeMidAddr" taborder="41" position="absolute 209 64 442 82" maxlength="100" lengthunit="ascii" readonly="true" oneditclick="Edt_HomeMidAddr_oneditclick"/>
      <Edit id="Edt_HomeAddr" taborder="42" position="absolute 445 64 681 82" maxlength="100" lengthunit="ascii"/>
      <Edit id="Edt_CustNo" taborder="38" position="absolute 1657 28 1752 46" readonly="true" style="border:1 solid #d1d1d1ff ;" oneditclick="Edt_CustNo_oneditclick" visible="false"/>
      <Static id="Stt_CustNo" text="고객번호" position="absolute 1658 9 1713 21" visible="false"/>
      <Static id="Stt_HomePhone" text="자택전화" position="absolute 711 68 766 80" style="font:Dotum,9,bold;"/>
      <Static id="Stt_OffPhone" text="직장전화" position="absolute 711 90 766 102" style="font:Dotum,9,bold;"/>
      <Static id="Stt_CelPhone" text="휴대전화" position="absolute 711 111 766 123" style="font:Dotum,9;"/>
      <Static id="Stt_EtcPhone" text="기타전화" position="absolute 711 133 766 145"/>
      <Button id="Btn_MakeHomeCall" taborder="20" class="btn_WFDA_tel" position="absolute 865 64 883 82" onclick="Btn_MakeHomeCall_onclick"/>
      <CheckBox id="Chk_HomePhnErrYn" taborder="29" text="CheckBox00" position="absolute 889 63 907 81" onclick="Chk_HomePhnErrYn_onclick"/>
      <Button id="Btn_MakeOffCall" taborder="26" class="btn_WFDA_tel" position="absolute 865 86 883 104" onclick="Btn_MakeOffCall_onclick"/>
      <CheckBox id="Chk_OffPhnErrYn" taborder="27" text="CheckBox00" position="absolute 889 86 907 103" onclick="Chk_OffPhnErrYn_onclick"/>
      <Button id="Btn_MakeCelCall" taborder="31" class="btn_WFDA_mobile" position="absolute 865 107 883 125" onclick="Btn_MakeCelCall_onclick"/>
      <CheckBox id="Chk_CelPhnErrYn" taborder="32" text="CheckBox00" position="absolute 889 108 907 125" onclick="Chk_CelPhnErrYn_onclick"/>
      <Button id="Btn_MakeEtcCall" taborder="46" class="btn_WFDA_tel" position="absolute 865 129 883 147" onclick="Btn_MakeEtcCall_onclick"/>
      <Static id="Stt_CustSt" text="고객상태" position="absolute 925 46 983 58"/>
      <Static id="Stt_CustGrd" text="고객등급" position="absolute 925 68 983 80"/>
      <Edit id="Edt_CustGrd" taborder="43" position="absolute 1016 64 1092 82" readonly="true" style="border:1 solid #d1d1d1ff ;"/>
      <Static id="Stt_WrngSt" text="부정고객여부" position="absolute 925 90 1016 102"/>
      <Edit id="Edt_WrngSt" taborder="44" position="absolute 1016 86 1092 104" readonly="true" style="border:1 solid #d1d1d1ff ;"/>
      <Static id="Stt_OthrAuthnCelPhone" text="이벤트포인트" position="absolute 925 111 1016 123"/>
      <Static id="Stt_NkNm" text="별명" position="absolute 925 155 983 167" style="font:Dotum,9,bold;"/>
      <Static id="Stt_FaxPhone" text="팩스" position="absolute 710 155 768 167" style="font:Dotum,9;"/>
      <Static id="Stt_Bday" text="생일" position="absolute 1154 46 1212 58" style="font:Dotum,9,bold;"/>
      <Static id="Stt_MateBday" text="배우자생일" position="absolute 1154 68 1243 80" style="font:Dotum,9,bold;"/>
      <Static id="Stt_MryAnvi" text="결혼기념일" position="absolute 1154 91 1241 103" style="font:Dotum,9,bold;"/>
      <Static id="Stt_EmlAddr" text="E-mail" position="absolute 1154 112 1212 124" style="font:Dotum,9,bold;"/>
      <Static id="Stt_PtList" text="일반/특별/제휴" position="absolute 1154 133 1242 145"/>
      <Edit id="Edt_EmlAddr" taborder="33" position="absolute 1259 107 1442 125" maxlength="50" lengthunit="ascii"/>
      <Static id="Stt_BefGrpAgrPt" text="GSC/GSR/GSHS" position="absolute 1154 155 1256 167"/>
      <Radio id="Rdo_BdayLunsolDiv" taborder="17" position="absolute 1259 44 1341 59" innerdataset="@ds_lunsol_div" datacolumn="CODE_NAME" direction="vertical" codecolumn="CODE" style="color:#4a7094ff;"/>
      <Radio id="Rdo_MateBdayLunsolDiv" taborder="21" innerdataset="@ds_lunsol_div" datacolumn="CODE_NAME" direction="vertical" position="absolute 1259 66 1341 81" codecolumn="CODE" style="color:#4a7094ff;"/>
      <Static id="Stt_WkstNm" text="직장명" position="absolute 209 111 275 123" style="font:Dotum,9,bold;"/>
      <Edit id="Edt_OffMidAddr" taborder="24" position="absolute 209 85 442 103" maxlength="100" lengthunit="ascii" readonly="true"/>
      <Edit id="Edt_OffAddr" taborder="25" position="absolute 445 86 681 104" maxlength="100" lengthunit="ascii"/>
      <Static id="Stt_InfoModDt" text="정보수정일" position="absolute 210 132 276 144"/>
      <Static id="Stt_GrpAgrDt" text="통합동의일" position="absolute 17 155 83 167"/>
      <Static id="Stt_DeptNm" text="부서" position="absolute 450 111 532 123" style="font:Dotum,9,bold;"/>
      <Static id="Stt_WebId" text="웹아이디(자사)" position="absolute 450 133 536 145"/>
      <Edit id="Edt_WebId" taborder="49" position="absolute 540 129 661 147" readonly="true" style="border:1 solid #d1d1d1ff ;"/>
      <Static id="Stt_GrpAgrChnl" text="통합동의채널" position="absolute 450 155 538 167"/>
      <Edit id="Edt_GrpAgrChnl" taborder="50" position="absolute 540 151 702 169" readonly="true" style="border:1 solid #d1d1d1ff ;"/>
      <Button id="Btn_SrchHomeZipCode" taborder="40" class="btn_WFDA_zip" position="absolute 183 64 201 82" onclick="Btn_SrchHomeZipCode_onclick"/>
      <Button id="Btn_SrchOffZipCode" taborder="23" class="btn_WFDA_zip" position="absolute 183 85 201 103" onclick="Btn_SrchOffZipCode_onclick"/>
      <Button id="Btn_RegAltCrd" taborder="51" text="카드등록/변경" class="btn_WF_link" position="absolute 11 207 109 226" onclick="Btn_RegAltCrd_onclick" enable="false"/>
      <Button id="Btn_CrdAgrmProc" taborder="52" text="동의및약관" class="btn_WF_link" position="absolute 110 207 183 226" onclick="Btn_CrdAgrmProc_onclick" enable="false"/>
      <Button id="Btn_WrngCustProc" taborder="53" text="부정고객" class="btn_WF_link" position="absolute 185 207 251 226" onclick="Btn_WrngCustProc_onclick" enable="false"/>
      <Button id="Btn_EvntProc" taborder="54" text="이벤트" class="btn_WF_link" position="absolute 252 207 307 226" onclick="Btn_EvntProc_onclick" enable="false"/>
      <Button id="Btn_AltCustSt" taborder="55" text="고객상태변경" class="btn_WF_link" position="absolute 308 207 401 226" onclick="Btn_AltCustSt_onclick" enable="false"/>
      <Button id="Btn_DplctCustProc" taborder="56" text="중복" class="btn_WFDA_B" position="absolute 1096 42 1136 60" onclick="Btn_DplctCustProc_onclick" enable="false"/>
      <Button id="Btn_SrchSs" taborder="57" text="주유소조회" class="btn_WF_link" position="absolute 469 207 552 226" onclick="Btn_SrchSs_onclick" enable="false"/>
      <Button id="Btn_InitCrdPw" taborder="58" text="비밀번호초기화" class="btn_WF_link" position="absolute 553 207 656 226" onclick="Btn_InitCrdPw_onclick" enable="false"/>
      <Button id="Btn_Cmp" taborder="59" text="불만접수" class="btn_WF_link" position="absolute 724 207 790 226" onclick="Btn_Cmp_onclick" enable="false"/>
      <Button id="Btn_SendSms" taborder="60" text="SMS" class="btn_WF_link" position="absolute 792 207 837 226" onclick="Btn_SendSms_onclick" enable="false"/>
      <Button id="Btn_SendEml" taborder="61" text="Email" class="btn_WF_link" position="absolute 838 207 883 226" onclick="Btn_SendEml_onclick" enable="false"/>
      <Button id="Btn_SendFax" taborder="62" text="FAX" class="btn_WF_link" position="absolute 885 207 930 226" onclick="Btn_SendFax_onclick" enable="false"/>
      <Button id="Btn_DelCust" taborder="63" text="고객삭제" class="btn_WF_link" position="absolute 1235 207 1303 226" onclick="Btn_DelCust_onclick" enable="false"/>
      <Tab id="Tab_BnsHistInfo" taborder="65" tabindex="0" scrollbars="autoboth" class="tab_WF_type3" position="absolute 12 364 1644 655" onchanged="Tab_BnsHistInfo_onchanged" canchange="Tab_BnsHistInfo_canchange">
        <Tabpages>
          <Tabpage id="tabpage1" text="구매이력" url="BNS::BNS410.xfdl" applystyletype="cascade,keep" scrollbars="none" class="tabp_WF_type2" onclick="Tab_BnsHistInfo_tabpage1_onclick">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage2" text="고객정보변경이력" applystyletype="cascade,keep" scrollbars="none" class="tabp_WF_type2" url="BNS::BNS480.xfdl">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage3" text="소멸포인트" class="tabp_WF_type2" url="BNS::BNS560.xfdl">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage4" text="나눔카드기부조회" applystyletype="cascade,keep" scrollbars="none" class="tabp_WF_type2" url="BNS::BNS561.xfdl">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage5" text="펀치회원" applystyletype="cascade,keep" scrollbars="none" class="tabp_WF_type2" url="BNS::BNS570.xfdl">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage6" text="탈퇴이력" applystyletype="cascade,keep" class="tabp_WF_type2" url="BNS::BNS580.xfdl">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage7" text="그룹SLO상세조회" url="BNS::BNS590.xfdl">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage8" text="SMART DRIVE 차량조회" applystyletype="cascade,keep" class="tabp_WF_type2" url="BNS::BNS596.xfdl">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage9" text="제휴카드" url="BNS::BNS597.xfdl" class="tabp_WF_type2">
            <Layout/>
          </Tabpage>
        </Tabpages>
      </Tab>
      <Tab id="Tab_SmryInfo" taborder="66" tabindex="0" scrollbars="autoboth" position="absolute 1451 7 1656 197" class="tab_WF_type5" style="buttonpadding:3 11 0 12;border:3 solid #f5a97eff ; " onchanged="Tab_SmryInfo_onchanged">
        <Tabpages>
          <Tabpage id="tabpage1" text="Summary" applystyletype="cascade,keep" class="tabp_WF_type5" url="BNS::BNS050.xfdl">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage2" text="OB" applystyletype="cascade,keep" class="tabp_WF_type5" url="BNS::BNS060.xfdl">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage3" text="CB" url="CST::CST501.xfdl" class="tabp_WF_type5">
            <Layout/>
          </Tabpage>
        </Tabpages>
      </Tab>
      <Button id="Btn_Authn" taborder="36" text="실명확인" class="btn_WFDA_B" position="absolute 191 867 256 885" onclick="Btn_Authn_onclick" enable="false" visible="false"/>
      <Button id="Btn_AltRsNo" taborder="37" text="사업번호변경" class="btn_WFDA_B" position="absolute 606 42 700 60" onclick="Btn_AltRsNo_onclick" enable="false" style=":disabled {padding:0 0 0 0;}"/>
      <Edit id="Edt_CustSt" taborder="39" position="absolute 1016 42 1092 60" readonly="true" style="selectcolor:crimson;background:#ffffffff;border:1 solid #d1d1d1ff ;color:red;font:arial,9,bold;"/>
      <Calendar id="Cal_Bday" taborder="18" dateformat="yyyy-MM-dd" position="absolute 1337 42 1442 60" style="usetrailingday:true;buttonsize:-1;" onchanged="Cal_Bday_onchanged" onkillfocus="Cal_Bday_onkillfocus"/>
      <Static id="Stt_NkNm00" text="가용포인트" position="absolute 925 133 1012 145" style="font:Dotum,9,bold;"/>
      <Calendar id="Cal_MateBday" taborder="30" dateformat="yyyy-MM-dd" position="absolute 1337 64 1442 82" onchanged="Cal_MateBday_onchanged" onkillfocus="Cal_MateBday_onkillfocus"/>
      <Calendar id="Cal_MryDay" taborder="67" dateformat="yyyy-MM-dd" position="absolute 1337 86 1442 104" onchanged="Cal_MryDay_onchanged" onkillfocus="Cal_MryDay_onkillfocus"/>
      <Radio id="Rdo_MryDayLunsolDiv" taborder="28" innerdataset="@ds_lunsol_div" codecolumn="CODE" datacolumn="CODE_NAME" direction="vertical" position="absolute 1259 88 1341 103" style="color:#4a7094ff;"/>
      <MaskEdit id="Msk_TailRsBzNo" taborder="35" position="absolute 370 42 442 60" readonly="true" style="border:1 solid #d1d1d1ff ;padding:0 0 0 3;align:left middle;" type="string" maskchar=" " mask="@@@@@@@"/>
      <MaskEdit id="Msk_CustRegDt" taborder="68" position="absolute 84 129 201 147" style="padding:0 0 0 3;align:left middle;" type="string" readonly="true" maskchar=" " mask="@@@@-@@-@@ @@:@@:@@"/>
      <Static id="Stt_HistInfoCntBack" text="건" position="absolute 1575 369 1643 381" style="align:right top;"/>
      <Static id="Stt_HistInfoCnt" position="absolute 1512 370 1621 382" style="align:right top; " text=""/>
      <Tab id="Tab_CrdInfo" taborder="69" onchanged="Tab_CrdInfo_onchanged" tabindex="0" scrollbars="autoboth" class="tab_WF_type2" position="absolute 12 234 1644 363">
        <Tabpages>
          <Tabpage id="tabpage1" text="정상카드" url="BNS::BNS340.xfdl" scrollbars="none" class="tabp_WF_type2" onclick="Tab_CrdInfo_tabpage1_onclick">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage2" text="전체카드" url="BNS::BNS350.xfdl" scrollbars="none" class="tabp_WF_type2">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage3" text="재발급/정지카드" url="BNS::BNS360.xfdl" scrollbars="none" class="tabp_WF_type2">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage4" text="말소카드" url="BNS::BNS370.xfdl" scrollbars="none" class="tabp_WF_type2">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage5" text="가상카드" url="BNS::BNS380.xfdl" scrollbars="none" class="tabp_WF_type2">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage6" text="발송정보(인터넷)" url="BNS::BNS390.xfdl" scrollbars="none" class="tabp_WF_type2">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage7" text="발송정보(법인)" url="BNS::BNS400.xfdl" scrollbars="none" class="tabp_WF_type2">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage8" text="EV 회원카드" url="BNS::BNS401.xfdl" scrollbars="none" class="tabp_WF_type2">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage9" text="RF회원카드신청내역" url="BNS::BNS402.xfdl" scrollbars="none" class="tabp_WF_type2">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage10" text="다이나믹프라이싱" url="BNS::BNS404.xfdl" scrollbars="none" class="tabp_WF_type2">
            <Layout/>
          </Tabpage>
        </Tabpages>
      </Tab>
      <Static id="Stt_CrdInfoCntBack" text="건" position="absolute 1575 239 1643 251" style="align:right top;"/>
      <Static id="Stt_CrdInfoCnt" position="absolute 1589 239 1621 251" style="align:right top; " text=""/>
      <Button id="Btn_AddScrnHeiCrd" taborder="70" text="+" onclick="Btn_AddScrnHeiCrd_onclick" class="btn_WFDA_plus" position="absolute 1527 238 1541 252" style="background:#85b3d5ff; padding:0 0 0 1; align:left middle; "/>
      <Button id="Btn_SubScrnHeiCrd" taborder="71" text="-" onclick="Btn_SubScrnHeiCrd_onclick" class="btn_WFDA_plus" position="absolute 1545 238 1559 252" style="background:#85b3d5ff; padding:0 0 0 1; align:left middle; "/>
      <Button id="Btn_KixxCash" taborder="72" text="KIXX 캐쉬" class="btn_WF_link" position="absolute 1662 200 1735 219" onclick="Btn_KixxCash_onclick" enable="false" visible="false"/>
      <Edit id="Edt_CurPtSet" taborder="73" position="absolute 1259 129 1442 147" readonly="true" style="align:center middle;"/>
      <Edit id="Edt_BfIntgPtSet" taborder="74" position="absolute 1259 151 1442 169" readonly="true" style="align:center middle;"/>
      <MaskEdit id="Msk_HomeZipCode" taborder="19" position="absolute 84 64 180 82" type="string" style="padding:0 0 0 3;align:left middle;" maskchar=" " readonly="true" mask="######"/>
      <MaskEdit id="Msk_OffZipCode" taborder="22" text="   -   " type="string" maskchar=" " position="absolute 84 85 180 103" style="padding:0 0 0 3; align:left middle; " readonly="true" mask="######"/>
      <MaskEdit id="Msk_UsblPt" taborder="75" text="   -   " readonly="true" mask="9,999" maskchar=" " position="absolute 1016 129 1136 147" style="padding:0 3 0 3;align:right middle;"/>
      <Combo id="Cmb_GndrDiv" taborder="76" position="absolute 163 42 201 60" innerdataset="@ds_gndr_div" datacolumn="CODE_NAME" readonly="true" codecolumn="CODE" onitemchanged="Cmb_GndrDiv_onitemchanged" style="buttonsize:-1;background:#ffff80ff;"/>
      <Button id="Btn_PopFax" taborder="77" class="btn_WFDA_srch" position="absolute 865 151 883 169" onclick="Btn_PopFax_onclick"/>
      <Button id="Btn_WebIdSrchMod" taborder="78" class="btn_WFDA_eraser" position="absolute 663 129 681 147" onclick="Btn_WebIdSrchMod_onclick" enable="false"/>
      <Button id="Btn_SrchCustGrdHist" taborder="79" class="btn_WFDA_B" position="absolute 1096 64 1136 82" onclick="Btn_SrchCustGrdHist_onclick" enable="false" text="상세"/>
      <Button id="Btn_SrchCustNm" taborder="7" onclick="Btn_SrchCustNm_onclick" class="btn_WFDA_srch" position="absolute 160 11 180 31" enable="false"/>
      <Static id="Stt_SrchSapId" text="SITE코드" class="sta_WFSA_labelP" position="absolute 676 15 744 27"/>
      <Combo id="Cmb_CustDiv" taborder="80" position="absolute 445 42 513 60" readonly="true"/>
      <Edit id="Edt_HomePhone" taborder="81" inputtype="number" lengthunit="ascii" maxlength="13" ontextchanged="Edt_HomePhone_ontextchanged" position="absolute 767 64 862 82" onkeydown="Edt_HomePhone_onkeydown"/>
      <Edit id="Edt_OffPhone" taborder="82" inputtype="number" lengthunit="ascii" maxlength="13" ontextchanged="Edt_OffPhone_ontextchanged" position="absolute 767 86 862 104" onkeydown="Edt_OffPhone_onkeydown" style="color:#4d4d4dff;"/>
      <Edit id="Edt_CelPhone" taborder="83" inputtype="number" lengthunit="ascii" maxlength="13" ontextchanged="Edt_CelPhone_ontextchanged" position="absolute 767 107 862 125" onkeydown="Edt_CelPhone_onkeydown" style="background:#ffff80ff;" readonly="true"/>
      <Edit id="Edt_EtcPhone" taborder="84" inputtype="number" lengthunit="ascii" maxlength="13" ontextchanged="Edt_EtcPhone_ontextchanged" position="absolute 767 129 862 147" onkeydown="Edt_EtcPhone_onkeydown"/>
      <Edit id="Edt_FaxPhone" taborder="85" inputtype="number" lengthunit="ascii" maxlength="13" ontextchanged="Edt_FaxPhone_ontextchanged" position="absolute 767 151 862 169" readonly="true"/>
      <Edit id="Edt_DeptNm" taborder="86" lengthunit="ascii" maxlength="50" position="absolute 540 107 702 125" style="color:#4d4d4dff;"/>
      <Edit id="Edt_WkstNm" taborder="87" lengthunit="ascii" maxlength="50" position="absolute 295 107 442 125" style="border:1 solid #d1d1d1ff ;color:#4d4d4dff;"/>
      <Combo id="Cmb_DmSendDiv" taborder="88" position="absolute 84 107 201 125"/>
      <Edit id="Edt_CustNm" taborder="89" lengthunit="ascii" maxlength="50" position="absolute 84 42 160 60" style="background:#ffff80ff;border:1 solid #d1d1d1ff ;" readonly="true"/>
      <Edit id="Edt_NkNm" taborder="90" lengthunit="ascii" maxlength="50" position="absolute 1016 151 1136 169"/>
      <Button id="Btn_GetRsBzNoArs" taborder="16" text="ARS주민조회" class="btn_WFSA_P" position="absolute 368 864 478 884" style="font:dotum,9; " onclick="Btn_GetRsBzNoArs_onclick" enable="false" visible="false"/>
      <Static id="Stt_SrchRsBzNo" text="주민/사업번호" class="sta_WFSA_labelP" visible="false" position="absolute 9 812 125 824"/>
      <MaskEdit id="Msk_SrchTailRsBzNo" taborder="91" text="       " type="string" mask="######-{#######}" maskchar=" " onkeyup="Msk_SrchTailRsBzNo_onkeyup" oneditclick="Msk_SrchTailRsBzNo_oneditclick" class="mae_WFSA" position="absolute 112 808 225 828" style="padding:0 0 0 3; align:left middle; " readonly="true" visible="false"/>
      <MaskEdit id="Msk_InfoModDt" taborder="92" readonly="true" type="string" maskchar=" " position="absolute 295 129 442 147" style="padding:0 0 0 3; align:left middle; " mask="@@@@-@@-@@ @@:@@:@@"/>
      <MaskEdit id="Msk_GrpAgrDt" taborder="93" readonly="true" type="string" maskchar=" " position="absolute 84 151 201 169" style="padding:0 0 0 3; align:left middle; " mask="@@@@-@@-@@ @@:@@:@@"/>
      <Static id="Static43" class="sta_WFSA_BG" position="absolute 0 830 1652 855" visible="false" text=""/>
      <Button id="Btn_SrchClear" taborder="12" text="초기화" class="btn_WFSA_P" position="absolute 827 11 886 31" style="font:dotum,9; " onclick="Btn_SrchClear_onclick"/>
      <Button id="Btn_WthDrwGrp" taborder="94" text="통합철회" class="btn_WF_link" position="absolute 932 207 1000 226" onclick="Btn_WthDrwGrp_onclick" enable="false"/>
      <Button id="Btn_DelHomeAddr" taborder="95" class="btn_WFDA_eraser" position="absolute 684 64 702 82" onclick="Btn_DelHomeAddr_onclick"/>
      <Button id="Btn_DelOffAddr" taborder="96" class="btn_WFDA_eraser" position="absolute 684 86 702 104" onclick="Btn_DelOffAddr_onclick"/>
      <Static id="Stt_WrngNo" text="오번호" position="absolute 877 46 917 58" style="font:Dotum,9,bold;"/>
      <Button id="Btn_Script" taborder="97" text="스크립트" class="btn_WF_link" position="absolute 1002 207 1070 226" onclick="Btn_Script_onclick" enable="false"/>
      <Static id="Stt_IntgWebId" text="통합고객번호" position="absolute 209 154 283 166"/>
      <Edit id="Edt_SrchIntgCustNo" taborder="8" lengthunit="ascii" maxlength="50" onkeyup="Edt_SrchIntgCustNo_onkeyup" class="edt_WFSA" position="absolute 275 11 355 31"/>
      <Edit id="Edt_SrchCustNo" taborder="0" onkeyup="Edt_SrchCustNo_onkeyup" class="edt_WFSA" position="absolute 86 11 158 31" inputtype="number" lengthunit="ascii" maxlength="10"/>
      <Edit id="Edt_SrchWebId" taborder="9" lengthunit="ascii" maxlength="50" onkeyup="Edt_SrchWebId_onkeyup" class="edt_WFSA" position="absolute 399 11 465 31"/>
      <MaskEdit id="Msk_SrchCrdNo" taborder="10" text="    -    -    -    " type="string" mask="####-####-####-####" maskchar=" " onkeyup="Msk_SrchCrdNo_onkeyup" oneditclick="Msk_SrchCrdNo_oneditclick" class="mae_WFSA" position="absolute 542 11 670 31" style="padding:0 0 0 3; align:left middle; "/>
      <Edit id="Edt_SrchSapId" taborder="11" lengthunit="ascii" maxlength="10" onkeyup="Edt_SrchSapId_onkeyup" class="edt_WFSA" position="absolute 747 11 824 31"/>
      <Static id="Stt_RsBzNo" text="주민사업번호" position="absolute 209 45 290 57"/>
      <Button id="Btn_IntgReAply" taborder="98" text="재반영" class="btn_WFDA_B" position="absolute 390 151 442 169" onclick="Btn_IntgReAply_onclick"/>
      <Button id="Btn_AlterCrdPw" taborder="99" text="법인비밀번호변경" class="btn_WF_link" position="absolute 1676 317 1792 336" onclick="Btn_AlterCrdPw_onclick" enable="false" visible="false"/>
      <Button id="btn_wrng" taborder="100" text="상세" class="btn_WFDA_B" position="absolute 1096 86 1136 104" onclick="btn_wrng_onclick"/>
      <TextArea id="ta_bu02" taborder="101" position="absolute 1138 107 1288 156" style="border:2 double #f71e42ff ;color:#95021dff;bordertype:beveljoin 2 2  righttop;font:Dotum,9;opacity:95;" visible="false" wordwrap="both" readonly="true"/>
      <TextArea id="ta_bu01" taborder="102" text="1231241241" position="absolute 1138 86 1288 108" style="border:2 double #f71e42ff ;color:#95021dff;bordertype:beveljoin 2 2  righttop;font:Dotum,9;opacity:95;" visible="false" readonly="true"/>
      <Button id="Btn_Smt_Callback" taborder="103" text="스마트콜백" position="absolute 1865 174 1945 194" class="btn_WF_link" onclick="Btn_Smt_Callback_onclick" visible="false"/>
      <Button id="Btn_RsvstdHist" taborder="104" class="btn_WF_link" position="absolute 1771 174 1859 193" text="적립기준이력" onclick="Btn_RsvstdHist_onclick" enable="false" visible="false"/>
      <Static id="Stt_StdCdNm" text="적립기준" position="absolute 17 176 72 188" style="font:Dotum,9;"/>
      <Edit id="Edt_StdCdNm" taborder="105" inputtype="number" lengthunit="ascii" maxlength="13" position="absolute 84 173 160 191" readonly="true" style="border:1 solid #d1d1d1ff ;color:#0000ffff;font:arial,9,bold;"/>
      <Button id="Btn_Cauthist" taborder="106" text="본인확인이력" onclick="Btn_Cauthist_onclick" class="btn_WF_link" position="absolute 1671 287 1760 306" enable="false" visible="false"/>
      <Button id="Btn_ResetOthrAuthn" taborder="107" text="타인인증리셋" onclick="Btn_ResetOthrAuthn_onclick" class="btn_WF_link" enable="false" visible="false" position="absolute 87 865 180 884"/>
      <Button id="Btn_Fdc" taborder="108" text="현장할인" onclick="Btn_Fdc_onclick" class="btn_WF_link" position="absolute 402 206 468 227" enable="false"/>
      <MaskEdit id="Edt_CuikBday" taborder="109" text="    -  -  " type="string" mask="@@@@-@@-@@" maskchar=" " position="absolute 767 42 862 60" style="background:#ffff80ff;padding:0 0 0 3;align:left middle;" readonly="true"/>
      <Static id="Stt_AuthnTpCdNm" text="본인인증유형" position="absolute 210 176 290 188" style="font:Dotum,9;"/>
      <Edit id="Edt_AuthnTpCdNm" taborder="110" inputtype="number" readonly="true" lengthunit="ascii" maxlength="13" position="absolute 295 173 442 191"/>
      <Static id="Stt_AuthnDtime" text="본인인증일시" position="absolute 450 176 540 188" style="font:Dotum,9;" onclick=""/>
      <Edit id="Edt_AuthnYn" taborder="111" inputtype="number" readonly="true" lengthunit="ascii" maxlength="13" position="absolute 767 173 862 191"/>
      <Static id="Stt_AuthnYn" text="본인인증" position="absolute 710 177 765 189" style="font:Dotum,9;"/>
      <MaskEdit id="Msk_AuthnDtime" taborder="112" text="    -  -     :  :  " readonly="true" type="string" mask="@@@@-@@-@@ @@:@@:@@" maskchar=" " position="absolute 540 173 702 191" style="padding:0 0 0 3; align:left middle; "/>
      <Button id="Btn_SrchArsCustInfo" taborder="113" text="  ARS고객조회" class="btn_WFSA_P" position="absolute 1662 173 1763 193" style="font:dotum,9; " onclick="Btn_SrchArsCustInfo_onclick" visible="false"/>
      <Button id="Btn_SaveArsAuthn" taborder="114" text=" A.신규" class="btn_WFSA_P" position="absolute 1104 11 1159 31" style="font:dotum,9; " onclick="Btn_SaveArsAuthn_onclick"/>
      <Button id="Btn_Cauthist2" taborder="115" text=" 이력" onclick="Btn_Cauthist_onclick" class="btn_WFDA_B" position="absolute 164 173 200 191"/>
      <Static id="Stt_NkNm01" text="인증주체" position="absolute 1665 75 1723 87" style="font:Dotum,9;" visible="false"/>
      <Static id="Stt_NkNm02" text="기관인증" position="absolute 925 178 1011 192" style="font:Dotum,9; "/>
      <Combo id="Cmb_AuthnSbjtCd" taborder="116" innerdataset="ds_AuthnSbjtCd" codecolumn="CODE" datacolumn="CODE_NAME" position="absolute 1712 72 1832 90" readonly="true" visible="false"/>
      <Combo id="Cmb_ComCoDivCd" taborder="117" readonly="true" innerdataset="ds_ComCoDivCd" codecolumn="CODE" datacolumn="CODE_NAME" position="absolute 1668 141 1850 159" visible="false"/>
      <Button id="Btn_AlterCuik" taborder="118" text="식별키변경" onclick="Btn_AlterCuik_onclick" class="btn_WFDA_B" position="absolute 518 42 602 60" style="opacity:100; :disabled {padding:0 0 0 0;opacity:100;}"/>
      <Static id="Stt_CuikBday" text="생년월일" position="absolute 711 46 766 58" style="font:Dotum,9; "/>
      <Static id="Stt_SrchSexCd" text="성별" class="sta_WFSA_labelP" visible="false" position="absolute 239 811 284 823"/>
      <Combo id="Cmb_SrchSexCd" taborder="119" readonly="true" innerdataset="@ds_gndr_div" codecolumn="CODE" datacolumn="CODE_NAME" position="absolute 284 808 322 826" visible="false"/>
      <MaskEdit id="Edt_SrchCuikBday" taborder="120" text="    -  -  " readonly="true" type="string" mask="@@@@-@@-@@" maskchar=" " position="absolute 398 808 493 826" style="padding:0 0 0 3; align:left middle; " visible="false"/>
      <Static id="Stt_SrchCuikBday" text="생년월일" class="sta_WFSA_labelP" visible="false" position="absolute 331 811 402 823"/>
      <Edit id="Edt_SrchCelPhone" taborder="121" inputtype="number" lengthunit="ascii" maxlength="13" position="absolute 576 808 671 826" visible="false"/>
      <Static id="Stt_SrchCelPhone" text="휴대전화" class="sta_WFSA_labelP" visible="false" position="absolute 507 811 578 823"/>
      <Button id="Btn_ArsPw" taborder="122" text="  A,비밀번호" onclick="Btn_ArsPw_onclick" class="btn_WFSA_P" position="absolute 1016 11 1098 31" style="font:dotum,9; :disabled {opacity:100;}"/>
      <Edit id="Edt_Ars_Pw" taborder="123" readonly="true" visible="false" position="absolute 1658 104 1753 122" style="border:1 solid #d1d1d1ff ; "/>
      <Button id="Btn_BlackCust" taborder="124" text="  A.악성" onclick="Btn_BlackCust_onclick" class="btn_WFSA_P" position="absolute 1236 11 1291 31" style="font:dotum,9; "/>
      <Button id="Btn_NotiHist" taborder="125" text="이용내역" onclick="Btn_NotiHist_onclick" class="btn_WF_link" position="absolute 1695 224 1761 244" enable="false" visible="false"/>
      <Edit id="Edt_CiVal" taborder="126" inputtype="number" readonly="true" lengthunit="ascii" maxlength="13" position="absolute 1196 174 1249 192" style="color:coral;"/>
      <Button id="Btn_exel_dn" taborder="128" text="ExcelDownload" onclick="Btn_exel_dn_onclick" position="absolute 1390 234 1512 254"/>
      <Button id="Btn_ForienCust" taborder="129" text="  A.외국인" onclick="Btn_Btn_ForienCust_onclick" class="btn_WFSA_P" position="absolute 1164 11 1231 31" style="font:dotum,9; "/>
      <Button id="Btn_CustintgIns_bk" taborder="130" text="회원합산" onclick="Btn_CustintgIns_onclick" class="btn_WF_link" position="absolute 1754 206 1836 226" style="font:dotum,9; " visible="false"/>
      <Button id="Btn_Aohist" taborder="131" text="정비혜택" class="btn_WF_link" enable="false" position="absolute 1073 207 1151 226" onclick="Btn_Aohist_onclick"/>
      <Button id="Btn_CustintgIns" taborder="132" text="회원합산" onclick="Btn_CustintgIns_onclick" class="btn_WF_link" position="absolute 1154 206 1234 226" enable="false"/>
      <Button id="Btn_Cauthist00" taborder="133" text=" 이력" onclick="Btn_Authn_Tp_onclick" class="btn_WFDA_B" position="absolute 1097 174 1137 192"/>
      <Button id="Btn_Cauthist01" taborder="134" text=" 이력" onclick="Btn_Ipnthist_onclick" class="btn_WFDA_B" position="absolute 864 173 900 191"/>
      <Static id="Stt_AuthnYn00" text="CI존재" position="absolute 1154 178 1192 190" style="font:Dotum,9; " onclick="Stt_AuthnYn00_onclick"/>
      <Edit id="Edt_Certification" taborder="135" inputtype="number" readonly="true" lengthunit="ascii" maxlength="13" position="absolute 1016 174 1095 192" style="border:1 solid #d1d1d1ff ;color:red;font:arial,9,bold;"/>
      <Button id="Btn_Smt_Callback00" taborder="136" text="휴면고객복원" onclick="btn_Re_Cust" class="btn_WF_link" position="absolute 1307 207 1387 227"/>
      <Button id="Btn_rtNoti" taborder="137" text="통지내역" onclick="btn_rtLstNoti_Sel" class="btn_WF_link" position="absolute 1391 207 1471 227"/>
      <Button id="Btn_Smt_Callback02" taborder="138" text="최종접촉이력" onclick="btn_rtLstCnct_Sel" class="btn_WF_link" position="absolute 1473 207 1553 227"/>
      <Static id="Stt_NkNm03" text="SMART주유" position="absolute 1261 178 1375 190" style="font:Dotum,9,bold; "/>
      <Edit id="Edt_SmtG" taborder="139" inputmode="upper" readonly="true" lengthunit="ascii" maxlength="13" position="absolute 1335 174 1357 192" style="border:1 solid #d1d1d1ff ;color:red;align:left middle;font:arial,9,bold;"/>
      <Button id="Btn_QualtYN" taborder="140" text="변경" onclick="Btn_QualtYN_onclick" class="btn_WFDA_B" position="absolute 1359 174 1399 192"/>
      <Edit id="SMT00" taborder="142" visible="false" position="absolute 1449 199 1644 654" style="caretcolor:#ffffffff; selectcolor:transparent; background:#ffffffff; border:0 solid #ffffffff ; color:#ffffffff; "/>
      <Edit id="SMT01" taborder="143" visible="false" position="absolute 187 625 1646 657" style="caretcolor:#ffffffff; selectcolor:transparent; background:#ffffffff; border:0 solid #ffffffff ; color:#ffffffff; "/>
      <Button id="Btn_CI_Check" taborder="144" text="CI체크" onclick="Btn_CI_Check_onclick" class="btn_WF_link" position="absolute 657 206 723 226" enable="false"/>
      <Button id="Btn_SrchSocial" taborder="6" text="S" position="absolute 683 129 701 147" onclick="Btn_SrchSocial_onclick" class="btn_WFDA_eraser" style="background:@gradation no-repeat clientonly fixed 7 50;color:plum;font:Script MT Bold,8,bold;"/>
      <Button id="Btn_Pay_list" taborder="5" text=" 바로주유" onclick="Btn_PayList_onclick" class="btn_WFSA_P" position="absolute 1295 12 1368 31" style="font:dotum,9;"/>
      <Button id="Btn_Pay_list00" taborder="4" text=" 예약주유" onclick="Btn_ResList_onclick" class="btn_WFSA_P" position="absolute 1372 12 1445 31" style="font:dotum,9; "/>
      <Static id="Stt_AuthnYn01" text="E+" position="absolute 1403 177 1434 189" style="font:Dotum,9,bold; "/>
      <Edit id="Edt_SmtG00" taborder="3" inputmode="upper" readonly="true" lengthunit="ascii" maxlength="13" position="absolute 1420 174 1442 192" style="border:1 solid #d1d1d1ff ; color:red; align:left middle; font:arial,9,bold; "/>
      <Static id="Stt_OthrAuthnCelPhone00" text="타인인증휴대폰" position="absolute 1789 111 1880 123"/>
      <Edit id="Edt_OthrAuthnCelPhone" taborder="2" position="absolute 1880 107 2000 125" style="border:1 solid #d1d1d1ff ; "/>
      <Button id="Btn_eventPthist" taborder="1" text="이력" class="btn_WFDA_B" position="absolute 1096 107 1136 125" onclick="Btn_eventPthist_onclick"/>
      <MaskEdit id="Edt_EventPt" taborder="47" text="    -  -     :  :  " readonly="true" maskchar=" " position="absolute 1016 107 1092 125" style="padding:0 0 0 3; align:left middle; " mask=","/>
      <Edit id="SMT" taborder="1" visible="false" position="absolute 8 -54 1450 658" style="caretcolor:#ffffffff; selectcolor:transparent; background:#ffffffff; border:0 solid #ffffffff ; color:#ffffffff; "/>
    </Layout>
    <Objects>
      <Dataset id="ds_set_param" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_get_param" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_AuthnSbjtCd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">01</Col>
            <Col id="CODE_NAME">본인</Col>
          </Row>
          <Row>
            <Col id="CODE">02</Col>
            <Col id="CODE_NAME">타인</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_ComCoDivCd" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">01</Col>
            <Col id="CODE_NAME">SKT</Col>
          </Row>
          <Row>
            <Col id="CODE">02</Col>
            <Col id="CODE_NAME">KT</Col>
          </Row>
          <Row>
            <Col id="CODE">03</Col>
            <Col id="CODE_NAME">LGT</Col>
          </Row>
          <Row>
            <Col id="CODE">04</Col>
            <Col id="CODE_NAME">KCT</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_lunsol_div" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">1</Col>
            <Col id="CODE_NAME">양</Col>
          </Row>
          <Row>
            <Col id="CODE">2</Col>
            <Col id="CODE_NAME">음</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_cust_info" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_cust_info_oncolumnchanged">
        <ColumnInfo>
          <Column id="OT_RESPON_CODE" type="STRING" size="256"/>
          <Column id="OT_RES_MSG" type="STRING" size="256"/>
          <Column id="IO_CUST_NO" type="STRING" size="256"/>
          <Column id="OT_CUST_DIV_CD" type="STRING" size="256"/>
          <Column id="OT_CUST_DIV_NM" type="STRING" size="256"/>
          <Column id="OT_SEX_CD" type="STRING" size="256"/>
          <Column id="OT_SEX_CD_NM" type="STRING" size="256"/>
          <Column id="OT_CUST_NM" type="STRING" size="256"/>
          <Column id="OT_NKNM" type="STRING" size="256"/>
          <Column id="OT_RS_BZ_NO" type="STRING" size="256"/>
          <Column id="OT_HEAD_RS_BZ_NO" type="STRING" size="256"/>
          <Column id="OT_TAIL_RS_BZ_NO" type="STRING" size="256"/>
          <Column id="OT_DM_SEND_DIV_CD" type="STRING" size="256"/>
          <Column id="OT_DM_SEND_DIV_CD_NM" type="STRING" size="256"/>
          <Column id="OT_HOME_ZIP_CODE" type="STRING" size="256"/>
          <Column id="OT_HOME_MID_ADDR" type="STRING" size="256"/>
          <Column id="OT_HOME_ADDR" type="STRING" size="256"/>
          <Column id="OT_OFF_ZIP_CODE" type="STRING" size="256"/>
          <Column id="OT_OFF_MID_ADDR" type="STRING" size="256"/>
          <Column id="OT_OFF_ADDR" type="STRING" size="256"/>
          <Column id="OT_MTR_SS_CD" type="STRING" size="256"/>
          <Column id="OT_MTR_SS_CD_NM" type="STRING" size="256"/>
          <Column id="OT_WRNG_ST_CD" type="STRING" size="256"/>
          <Column id="OT_WRNG_ST_CD_NM" type="STRING" size="256"/>
          <Column id="OT_INPT_DTIME" type="STRING" size="256"/>
          <Column id="OT_WKST_NM" type="STRING" size="256"/>
          <Column id="OT_DEPT_NM" type="STRING" size="256"/>
          <Column id="OT_HOME_TPHN_ERR_YN" type="STRING" size="256"/>
          <Column id="OT_WKST_TPHN_ERR_YN" type="STRING" size="256"/>
          <Column id="OT_CPHN_TPHN_ERR_YN" type="STRING" size="256"/>
          <Column id="OT_EML_ADDR_ERR_YN" type="STRING" size="256"/>
          <Column id="OT_ADDR_ERR_YN" type="STRING" size="256"/>
          <Column id="OT_EML_ADDR" type="STRING" size="256"/>
          <Column id="OT_CUR_PT_SET" type="STRING" size="256"/>
          <Column id="OT_GNRL_PT" type="STRING" size="256"/>
          <Column id="OT_SPCL_PT" type="STRING" size="256"/>
          <Column id="OT_CPRT_PT" type="STRING" size="256"/>
          <Column id="OT_TOT_PT" type="STRING" size="256"/>
          <Column id="OT_BDAY" type="STRING" size="256"/>
          <Column id="OT_BDAY_LUNSOL_DIV_CD" type="STRING" size="256"/>
          <Column id="OT_BDAY_LUNSOL_DIV_CD_NM" type="STRING" size="256"/>
          <Column id="OT_MRY_DAY" type="STRING" size="256"/>
          <Column id="OT_MRY_LUNSOL_DIV_CD" type="STRING" size="256"/>
          <Column id="OT_MRY_LUNSOL_DIV_CD_NM" type="STRING" size="256"/>
          <Column id="OT_MATE_BDAY" type="STRING" size="256"/>
          <Column id="OT_MATE_BDAY_LUNSOL_DIV_CD" type="STRING" size="256"/>
          <Column id="OT_MATE_BDAY_LUNSOL_DIV_CD_NM" type="STRING" size="256"/>
          <Column id="OT_HOME_PHONE_NO" type="STRING" size="256"/>
          <Column id="OT_HOME_PHONE_DDD" type="STRING" size="256"/>
          <Column id="OT_HOME_PHONE_FSTNO" type="STRING" size="256"/>
          <Column id="OT_HOME_PHONE_LASTNO" type="STRING" size="256"/>
          <Column id="OT_OFF_PHONE_NO" type="STRING" size="256"/>
          <Column id="OT_OFF_PHONE_DDD" type="STRING" size="256"/>
          <Column id="OT_OFF_PHONE_FSTNO" type="STRING" size="256"/>
          <Column id="OT_OFF_PHONE_LASTNO" type="STRING" size="256"/>
          <Column id="OT_HND_PHONE_NO" type="STRING" size="256"/>
          <Column id="OT_HND_PHONE_DDD" type="STRING" size="256"/>
          <Column id="OT_HND_PHONE_FSTNO" type="STRING" size="256"/>
          <Column id="OT_HND_PHONE_LASTNO" type="STRING" size="256"/>
          <Column id="OT_ETC_PHONE_NO" type="STRING" size="256"/>
          <Column id="OT_FAX_PHONE_NO" type="STRING" size="256"/>
          <Column id="OT_FAX_PHONE_DDD" type="STRING" size="256"/>
          <Column id="OT_FAX_PHONE_FSTNO" type="STRING" size="256"/>
          <Column id="OT_FAX_PHONE_LASTNO" type="STRING" size="256"/>
          <Column id="OT_INTG_CUST_NO" type="STRING" size="256"/>
          <Column id="OT_FST_REG_DT" type="STRING" size="256"/>
          <Column id="OT_GRP_AGR_YN" type="STRING" size="256"/>
          <Column id="OT_GRP_AGR_CHNL_CD" type="STRING" size="256"/>
          <Column id="OT_GRP_AGR_CHNL_CD_NM" type="STRING" size="256"/>
          <Column id="OT_FST_GRP_AGR_DTIME" type="STRING" size="256"/>
          <Column id="OT_CUST_ST_CD" type="STRING" size="256"/>
          <Column id="OT_CUST_ST_CD_NM" type="STRING" size="256"/>
          <Column id="OT_WEB_ID" type="STRING" size="256"/>
          <Column id="OT_INTG_WEB_YN" type="STRING" size="256"/>
          <Column id="OT_EM_RCV_YN" type="STRING" size="256"/>
          <Column id="OT_DM_RCV_YN" type="STRING" size="256"/>
          <Column id="OT_TM_RCV_YN" type="STRING" size="256"/>
          <Column id="OT_SMS_RCV_YN" type="STRING" size="256"/>
          <Column id="OT_REALNM_YN" type="STRING" size="256"/>
          <Column id="OT_OTHR_AUTHN_PHONE_NO" type="STRING" size="256"/>
          <Column id="OT_BF_INTG_PT_SET" type="STRING" size="256"/>
          <Column id="OT_BF_INTG_PT_GSC" type="STRING" size="256"/>
          <Column id="OT_BF_INTG_PT_GSH" type="STRING" size="256"/>
          <Column id="OT_BF_INTG_PT_GSR" type="STRING" size="256"/>
          <Column id="PCON_CUST_GRD_NM" type="STRING" size="256"/>
          <Column id="OT_WRNG_REG_DTIME" type="STRING" size="256"/>
          <Column id="OT_WRNG_RSN_CNTT" type="STRING" size="256"/>
          <Column id="OT_RSV_STD_CD_NM" type="STRING" size="256"/>
          <Column id="OT_RSV_STD_CD" type="STRING" size="256"/>
          <Column id="OT_AUTHN_YN" type="STRING" size="256"/>
          <Column id="OT_AUTHN_TP_CD" type="STRING" size="256"/>
          <Column id="OT_AUTHN_TP_CD_NM" type="STRING" size="256"/>
          <Column id="OT_AUTHN_DTIME" type="STRING" size="256"/>
          <Column id="OT_COM_CO_DIV_CD" type="STRING" size="256"/>
          <Column id="OT_AUTHN_SBJT_CD" type="STRING" size="256"/>
          <Column id="OT_CUIK_BDAY" type="STRING" size="256"/>
          <Column id="OT_CI_VAL" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="IO_CUST_NO"/>
            <Col id="OT_CUST_DIV_CD"/>
            <Col id="OT_CUST_DIV_NM"/>
            <Col id="OT_SEX_CD"/>
            <Col id="OT_SEX_CD_NM"/>
            <Col id="OT_CUST_NM"/>
            <Col id="OT_NKNM"/>
            <Col id="OT_HEAD_RS_BZ_NO"/>
            <Col id="OT_TAIL_RS_BZ_NO"/>
            <Col id="OT_DM_SEND_DIV_CD"/>
            <Col id="OT_DM_SEND_DIV_CD_NM"/>
            <Col id="OT_HOME_ZIP_CODE"/>
            <Col id="OT_HOME_MID_ADDR"/>
            <Col id="OT_HOME_ADDR"/>
            <Col id="OT_OFF_ZIP_CODE"/>
            <Col id="OT_OFF_MID_ADDR"/>
            <Col id="OT_OFF_ADDR"/>
            <Col id="OT_MTR_SS_CD"/>
            <Col id="OT_MTR_SS_CD_NM"/>
            <Col id="OT_WRNG_ST_CD"/>
            <Col id="OT_WRNG_ST_CD_NM"/>
            <Col id="OT_INPT_DTIME"/>
            <Col id="OT_WKST_NM"/>
            <Col id="OT_DEPT_NM"/>
            <Col id="OT_HOME_TPHN_ERR_YN"/>
            <Col id="OT_WKST_TPHN_ERR_YN"/>
            <Col id="OT_CPHN_TPHN_ERR_YN"/>
            <Col id="OT_EML_ADDR_ERR_YN"/>
            <Col id="OT_ADDR_ERR_YN"/>
            <Col id="OT_EML_ADDR"/>
            <Col id="OT_GNRL_PT"/>
            <Col id="OT_SPCL_PT"/>
            <Col id="OT_CPRT_PT"/>
            <Col id="OT_TOT_PT"/>
            <Col id="OT_BDAY"/>
            <Col id="OT_BDAY_LUNSOL_DIV_CD"/>
            <Col id="OT_BDAY_LUNSOL_DIV_CD_NM"/>
            <Col id="OT_MRY_DAY"/>
            <Col id="OT_MRY_LUNSOL_DIV_CD"/>
            <Col id="OT_MRY_LUNSOL_DIV_CD_NM"/>
            <Col id="OT_MATE_BDAY"/>
            <Col id="OT_MATE_BDAY_LUNSOL_DIV_CD"/>
            <Col id="OT_MATE_BDAY_LUNSOL_DIV_CD_NM"/>
            <Col id="OT_HOME_PHONE_DDD"/>
            <Col id="OT_HOME_PHONE_FSTNO"/>
            <Col id="OT_HOME_PHONE_LASTNO"/>
            <Col id="OT_OFF_PHONE_DDD"/>
            <Col id="OT_OFF_PHONE_FSTNO"/>
            <Col id="OT_OFF_PHONE_LASTNO"/>
            <Col id="OT_HND_PHONE_DDD"/>
            <Col id="OT_HND_PHONE_FSTNO"/>
            <Col id="OT_HND_PHONE_LASTNO"/>
            <Col id="OT_FAX_PHONE_DDD"/>
            <Col id="OT_FAX_PHONE_FSTNO"/>
            <Col id="OT_FAX_PHONE_LASTNO"/>
            <Col id="OT_INTG_CUST_NO"/>
            <Col id="OT_FST_REG_DT"/>
            <Col id="OT_GRP_AGR_YN"/>
            <Col id="OT_GRP_AGR_CHNL_CD"/>
            <Col id="OT_GRP_AGR_CHNL_CD_NM"/>
            <Col id="OT_FST_GRP_AGR_DTIME"/>
            <Col id="OT_CUST_ST_CD"/>
            <Col id="OT_CUST_ST_CD_NM"/>
            <Col id="OT_WEB_ID"/>
            <Col id="OT_INTG_WEB_YN"/>
            <Col id="OT_EM_RCV_YN"/>
            <Col id="OT_DM_RCV_YN"/>
            <Col id="OT_TM_RCV_YN"/>
            <Col id="OT_SMS_RCV_YN"/>
            <Col id="OT_REALNM_YN"/>
            <Col id="OT_OTHR_AUTHN_PHONE_NO"/>
            <Col id="OT_BF_INTG_PT_GSC"/>
            <Col id="OT_BF_INTG_PT_GSH"/>
            <Col id="OT_BF_INTG_PT_GSR"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_alter_cust" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="REQ_GBN" type="STRING" size="256"/>
          <Column id="REQ_CHNL_CD" type="STRING" size="256"/>
          <Column id="CUST_NO" type="STRING" size="256"/>
          <Column id="HEAD_RS_BZ_NO" type="STRING" size="256"/>
          <Column id="TAIL_RS_BZ_NO" type="STRING" size="256"/>
          <Column id="CUST_NM" type="STRING" size="256"/>
          <Column id="NKNM" type="STRING" size="256"/>
          <Column id="WKST_NM" type="STRING" size="256"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="DM_SEND_DIV_CD" type="STRING" size="256"/>
          <Column id="HOME_TPHN_ERR_YN" type="STRING" size="256"/>
          <Column id="WKST_TPHN_ERR_YN" type="STRING" size="256"/>
          <Column id="CPHN_TPHN_ERR_YN" type="STRING" size="256"/>
          <Column id="EML_ADDR" type="STRING" size="256"/>
          <Column id="HOME_HEAD_TPHN_NO" type="STRING" size="256"/>
          <Column id="HOME_MID_TPHN_NO" type="STRING" size="256"/>
          <Column id="HOME_FNL_TPHN_NO" type="STRING" size="256"/>
          <Column id="OFC_HEAD_TPHN_NO" type="STRING" size="256"/>
          <Column id="OFC_MID_TPHN_NO" type="STRING" size="256"/>
          <Column id="OFC_FNL_TPHN_NO" type="STRING" size="256"/>
          <Column id="CPHN_HEAD_TPHN_NO" type="STRING" size="256"/>
          <Column id="CPHN_MID_TPHN_NO" type="STRING" size="256"/>
          <Column id="CPHN_FNL_TPHN_NO" type="STRING" size="256"/>
          <Column id="HOME_ZIPCD" type="STRING" size="256"/>
          <Column id="HOME_ZIP_ADDR" type="STRING" size="256"/>
          <Column id="HOME_DTL_ADDR" type="STRING" size="256"/>
          <Column id="OFC_ZIPCD" type="STRING" size="256"/>
          <Column id="OFC_ZIP_ADDR" type="STRING" size="256"/>
          <Column id="OFC_DTL_ADDR" type="STRING" size="256"/>
          <Column id="SELF_ANVI" type="STRING" size="256"/>
          <Column id="SELF_LUNSOL_DIV_CD" type="STRING" size="256"/>
          <Column id="MATE_ANVI" type="STRING" size="256"/>
          <Column id="MATE_LUNSOL_DIV_CD" type="STRING" size="256"/>
          <Column id="MRY_ANVI" type="STRING" size="256"/>
          <Column id="MRY_LUNSOL_DIV_CD" type="STRING" size="256"/>
          <Column id="DTIME" type="STRING" size="256"/>
          <Column id="USER_ID" type="STRING" size="256"/>
          <Column id="IP" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_srch_flg" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="FLAG" type="STRING" size="256"/>
          <Column id="INBND_CMP_YN" type="STRING" size="256"/>
          <Column id="FRCH_YN" type="STRING" size="256"/>
          <Column id="CNSL_SAVE_YN" type="STRING" size="256"/>
          <Column id="CALL_IN_YN" type="STRING" size="256"/>
          <Column id="CALL_IN_CUST_NO" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="FLAG"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_srched_cust" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CUST_NO" type="STRING" size="256"/>
          <Column id="CUST_NM" type="STRING" size="256"/>
          <Column id="WEB_ID" type="STRING" size="256"/>
          <Column id="CUST_DIV_CD" type="STRING" size="256"/>
          <Column id="CUST_TDNC_DIV" type="STRING" size="256"/>
          <Column id="CUST_TDNC" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_alarm" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ALRM_DV_CD" type="STRING" size="256"/>
          <Column id="RSV_SEQ_NO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_tab_proc_yn" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="Tab_CrdInfo_tabpage6" type="STRING" size="256"/>
          <Column id="Tab_CrdInfo_tabpage7" type="STRING" size="256"/>
          <Column id="Tab_BnsHistInfo_tabpage2" type="STRING" size="256"/>
          <Column id="Tab_UsrInfoHist_tabpage2" type="STRING" size="256"/>
          <Column id="Tab_UsrInfoHist_tabpage3" type="STRING" size="256"/>
          <Column id="Tab_UsrInfoHist_tabpage4" type="STRING" size="256"/>
          <Column id="Tab_UsrInfoHist_tabpage5" type="STRING" size="256"/>
          <Column id="Tab_UsrInfoHist_tabpage6" type="STRING" size="256"/>
          <Column id="Tab_UsrInfoHist_tabpage7" type="STRING" size="256"/>
          <Column id="Tab_UsrInfoHist_tabpage8" type="STRING" size="256"/>
          <Column id="Tab_UsrInfoHist_tabpage9" type="STRING" size="256"/>
          <Column id="Tab_UsrInfoHist_tabpage10" type="STRING" size="256"/>
          <Column id="Tab_BnsHistInfo_tabpage3" type="STRING" size="256"/>
          <Column id="Tab_BnsHistInfo_tabpage4" type="STRING" size="256"/>
          <Column id="Tab_BnsHistInfo_tabpage5" type="STRING" size="256"/>
          <Column id="Tab_BnsHistInfo_tabpage6" type="STRING" size="256"/>
          <Column id="Tab_BnsHistInfo_tabpage7" type="STRING" size="256"/>
          <Column id="Tab_CntctHistInfo_tabpage2" type="STRING" size="256"/>
          <Column id="Tab_CntctHistInfo_tabpage3" type="STRING" size="256"/>
          <Column id="Tab_CntctHistInfo_tabpage4" type="STRING" size="256"/>
          <Column id="Tab_CntctHistInfo_tabpage5" type="STRING" size="256"/>
          <Column id="Tab_CntctHistInfo_tabpage6" type="STRING" size="256"/>
          <Column id="Tab_CntctHistInfo_tabpage7" type="STRING" size="256"/>
          <Column id="Tab_CntctHistInfo_tabpage8" type="STRING" size="256"/>
          <Column id="Tab_CntctHistInfo_tabpage9" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="Tab_CrdInfo_tabpage6"/>
            <Col id="Tab_CrdInfo_tabpage7"/>
            <Col id="Tab_BnsHistInfo_tabpage2"/>
            <Col id="Tab_UsrInfoHist_tabpage2"/>
            <Col id="Tab_UsrInfoHist_tabpage3"/>
            <Col id="Tab_UsrInfoHist_tabpage4"/>
            <Col id="Tab_UsrInfoHist_tabpage5"/>
            <Col id="Tab_UsrInfoHist_tabpage6"/>
            <Col id="Tab_BnsHistInfo_tabpage5"/>
            <Col id="Tab_BnsHistInfo_tabpage6"/>
            <Col id="Tab_CntctHistInfo_tabpage2"/>
            <Col id="Tab_CntctHistInfo_tabpage3"/>
            <Col id="Tab_CntctHistInfo_tabpage4"/>
            <Col id="Tab_CntctHistInfo_tabpage5"/>
            <Col id="Tab_CntctHistInfo_tabpage6"/>
            <Col id="Tab_CntctHistInfo_tabpage7"/>
            <Col id="Tab_CntctHistInfo_tabpage8"/>
            <Col id="Tab_CntctHistInfo_tabpage9"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_srch" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_dtl_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IF_KIND" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_METHOD" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_ID" type="STRING" size="256"/>
          <Column id="RES_HEADER_SECTION" type="STRING" size="256"/>
          <Column id="RES_COLUMN_SECTION" type="STRING" size="256"/>
          <Column id="RES_RECORD_SECTION" type="STRING" size="256"/>
          <Column id="RES_CODE_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG1_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG2_NAME" type="STRING" size="256"/>
          <Column id="UPDATE_DATASET_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_cust_dtl_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_dtl_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_dtl_column" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_dtl_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_dtl_record" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="OT_RESPON_CODE" type="STRING" size="256"/>
          <Column id="OT_RES_MSG" type="STRING" size="256"/>
          <Column id="IO_CUST_NO" type="STRING" size="256"/>
          <Column id="OT_CUST_DIV_CD" type="STRING" size="256"/>
          <Column id="OT_CUST_DIV_NM" type="STRING" size="256"/>
          <Column id="OT_SEX_CD" type="STRING" size="256"/>
          <Column id="OT_SEX_CD_NM" type="STRING" size="256"/>
          <Column id="OT_CUST_NM" type="STRING" size="256"/>
          <Column id="OT_NKNM" type="STRING" size="256"/>
          <Column id="OT_RS_BZ_NO" type="STRING" size="256"/>
          <Column id="OT_HEAD_RS_BZ_NO" type="STRING" size="256"/>
          <Column id="OT_TAIL_RS_BZ_NO" type="STRING" size="256"/>
          <Column id="OT_DM_SEND_DIV_CD" type="STRING" size="256"/>
          <Column id="OT_DM_SEND_DIV_CD_NM" type="STRING" size="256"/>
          <Column id="OT_HOME_ZIP_CODE" type="STRING" size="256"/>
          <Column id="OT_HOME_MID_ADDR" type="STRING" size="256"/>
          <Column id="OT_HOME_ADDR" type="STRING" size="256"/>
          <Column id="OT_OFF_ZIP_CODE" type="STRING" size="256"/>
          <Column id="OT_OFF_MID_ADDR" type="STRING" size="256"/>
          <Column id="OT_OFF_ADDR" type="STRING" size="256"/>
          <Column id="OT_MTR_SS_CD" type="STRING" size="256"/>
          <Column id="OT_MTR_SS_CD_NM" type="STRING" size="256"/>
          <Column id="OT_WRNG_ST_CD" type="STRING" size="256"/>
          <Column id="OT_WRNG_ST_CD_NM" type="STRING" size="256"/>
          <Column id="OT_INPT_DTIME" type="STRING" size="256"/>
          <Column id="OT_WKST_NM" type="STRING" size="256"/>
          <Column id="OT_DEPT_NM" type="STRING" size="256"/>
          <Column id="OT_HOME_TPHN_ERR_YN" type="STRING" size="256"/>
          <Column id="OT_WKST_TPHN_ERR_YN" type="STRING" size="256"/>
          <Column id="OT_CPHN_TPHN_ERR_YN" type="STRING" size="256"/>
          <Column id="OT_EML_ADDR_ERR_YN" type="STRING" size="256"/>
          <Column id="OT_ADDR_ERR_YN" type="STRING" size="256"/>
          <Column id="OT_EML_ADDR" type="STRING" size="256"/>
          <Column id="OT_CUR_PT_SET" type="STRING" size="256"/>
          <Column id="OT_GNRL_PT" type="STRING" size="256"/>
          <Column id="OT_SPCL_PT" type="STRING" size="256"/>
          <Column id="OT_CPRT_PT" type="STRING" size="256"/>
          <Column id="OT_TOT_PT" type="STRING" size="256"/>
          <Column id="OT_BDAY" type="STRING" size="256"/>
          <Column id="OT_BDAY_LUNSOL_DIV_CD" type="STRING" size="256"/>
          <Column id="OT_BDAY_LUNSOL_DIV_CD_NM" type="STRING" size="256"/>
          <Column id="OT_MRY_DAY" type="STRING" size="256"/>
          <Column id="OT_MRY_LUNSOL_DIV_CD" type="STRING" size="256"/>
          <Column id="OT_MRY_LUNSOL_DIV_CD_NM" type="STRING" size="256"/>
          <Column id="OT_MATE_BDAY" type="STRING" size="256"/>
          <Column id="OT_MATE_BDAY_LUNSOL_DIV_CD" type="STRING" size="256"/>
          <Column id="OT_MATE_BDAY_LUNSOL_DIV_CD_NM" type="STRING" size="256"/>
          <Column id="OT_HOME_PHONE_NO" type="STRING" size="256"/>
          <Column id="OT_HOME_PHONE_DDD" type="STRING" size="256"/>
          <Column id="OT_HOME_PHONE_FSTNO" type="STRING" size="256"/>
          <Column id="OT_HOME_PHONE_LASTNO" type="STRING" size="256"/>
          <Column id="OT_OFF_PHONE_NO" type="STRING" size="256"/>
          <Column id="OT_OFF_PHONE_DDD" type="STRING" size="256"/>
          <Column id="OT_OFF_PHONE_FSTNO" type="STRING" size="256"/>
          <Column id="OT_OFF_PHONE_LASTNO" type="STRING" size="256"/>
          <Column id="OT_HND_PHONE_NO" type="STRING" size="256"/>
          <Column id="OT_HND_PHONE_DDD" type="STRING" size="256"/>
          <Column id="OT_HND_PHONE_FSTNO" type="STRING" size="256"/>
          <Column id="OT_HND_PHONE_LASTNO" type="STRING" size="256"/>
          <Column id="OT_ETC_PHONE_NO" type="STRING" size="256"/>
          <Column id="OT_FAX_PHONE_NO" type="STRING" size="256"/>
          <Column id="OT_FAX_PHONE_DDD" type="STRING" size="256"/>
          <Column id="OT_FAX_PHONE_FSTNO" type="STRING" size="256"/>
          <Column id="OT_FAX_PHONE_LASTNO" type="STRING" size="256"/>
          <Column id="OT_INTG_CUST_NO" type="STRING" size="256"/>
          <Column id="OT_FST_REG_DT" type="STRING" size="256"/>
          <Column id="OT_GRP_AGR_YN" type="STRING" size="256"/>
          <Column id="OT_GRP_AGR_CHNL_CD" type="STRING" size="256"/>
          <Column id="OT_GRP_AGR_CHNL_CD_NM" type="STRING" size="256"/>
          <Column id="OT_FST_GRP_AGR_DTIME" type="STRING" size="256"/>
          <Column id="OT_CUST_ST_CD" type="STRING" size="256"/>
          <Column id="OT_CUST_ST_CD_NM" type="STRING" size="256"/>
          <Column id="OT_WEB_ID" type="STRING" size="256"/>
          <Column id="OT_INTG_WEB_YN" type="STRING" size="256"/>
          <Column id="OT_EM_RCV_YN" type="STRING" size="256"/>
          <Column id="OT_DM_RCV_YN" type="STRING" size="256"/>
          <Column id="OT_TM_RCV_YN" type="STRING" size="256"/>
          <Column id="OT_SMS_RCV_YN" type="STRING" size="256"/>
          <Column id="OT_REALNM_YN" type="STRING" size="256"/>
          <Column id="OT_OTHR_AUTHN_PHONE_NO" type="STRING" size="256"/>
          <Column id="OT_BF_INTG_PT_SET" type="STRING" size="256"/>
          <Column id="OT_BF_INTG_PT_GSC" type="STRING" size="256"/>
          <Column id="OT_BF_INTG_PT_GSH" type="STRING" size="256"/>
          <Column id="OT_BF_INTG_PT_GSR" type="STRING" size="256"/>
          <Column id="PCON_CUST_GRD_NM" type="STRING" size="256"/>
          <Column id="OT_WRNG_REG_DTIME" type="STRING" size="256"/>
          <Column id="OT_WRNG_RSN_CNTT" type="STRING" size="256"/>
          <Column id="OT_RSV_STD_CD_NM" type="STRING" size="256"/>
          <Column id="OT_RSV_STD_CD" type="STRING" size="256"/>
          <Column id="OT_AUTHN_YN" type="STRING" size="256"/>
          <Column id="OT_AUTHN_TP_CD" type="STRING" size="256"/>
          <Column id="OT_AUTHN_TP_CD_NM" type="STRING" size="256"/>
          <Column id="OT_AUTHN_DTIME" type="STRING" size="256"/>
          <Column id="OT_COM_CO_DIV_CD" type="STRING" size="256"/>
          <Column id="OT_AUTHN_SBJT_CD" type="STRING" size="256"/>
          <Column id="OT_CUIK_BDAY" type="STRING" size="256"/>
          <Column id="OT_CI_VAL" type="STRING" size="256"/>
          <Column id="OT_CERTIFICATION_YN" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows/>
      </Dataset>
      <Dataset id="ds_if_crd_pblc_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IF_KIND" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_METHOD" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_ID" type="STRING" size="256"/>
          <Column id="RES_HEADER_SECTION" type="STRING" size="256"/>
          <Column id="RES_COLUMN_SECTION" type="STRING" size="256"/>
          <Column id="RES_RECORD_SECTION" type="STRING" size="256"/>
          <Column id="RES_CODE_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG1_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG2_NAME" type="STRING" size="256"/>
          <Column id="UPDATE_DATASET_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_crd_pblc_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_crd_pblc_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_crd_pblc_column" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_crd_pblc_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_crd_pblc_record" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CUST_NO" type="STRING" size="256"/>
          <Column id="CRD_NO" type="STRING" size="256"/>
          <Column id="PBLC_APLY_DIV_CD" type="STRING" size="256"/>
          <Column id="PBLC_APLY_DIV_CD_NM" type="STRING" size="256"/>
          <Column id="RREG_PBLC_DT" type="STRING" size="256"/>
          <Column id="CRD_ST_CD" type="STRING" size="256"/>
          <Column id="CRD_ST_CD_NM" type="STRING" size="256"/>
          <Column id="PBLC_SS_CD" type="STRING" size="256"/>
          <Column id="PBLC_SS_CD_NM" type="STRING" size="256"/>
          <Column id="CPRT_ST_CD" type="STRING" size="256"/>
          <Column id="CPRT_ST_CD_NM" type="STRING" size="256"/>
          <Column id="VLID_YM" type="STRING" size="256"/>
          <Column id="MOD_USER_ID" type="STRING" size="256"/>
          <Column id="CRD_TP_YN" type="STRING" size="256"/>
          <Column id="CRD_TP_CD" type="STRING" size="256"/>
          <Column id="CRD_TP_CD_NM" type="STRING" size="256"/>
          <Column id="RS_BZ_NO" type="STRING" size="256"/>
          <Column id="CUST_NM" type="STRING" size="256"/>
          <Column id="NKNM" type="STRING" size="256"/>
          <Column id="EML_ADDR" type="STRING" size="256"/>
          <Column id="ADDR_ERR_YN" type="STRING" size="256"/>
          <Column id="MTR_SS_CD" type="STRING" size="256"/>
          <Column id="MTR_SS_CD_NM" type="STRING" size="256"/>
          <Column id="MTR_SS_TPHN_NO" type="STRING" size="256"/>
          <Column id="VIP_CUST_YN" type="STRING" size="256"/>
          <Column id="WRNG_ST_CD" type="STRING" size="256"/>
          <Column id="WRNG_ST_CD_NM" type="STRING" size="256"/>
          <Column id="WRNG_REG_DT" type="STRING" size="256"/>
          <Column id="CUST_DIV_CD" type="STRING" size="256"/>
          <Column id="CUST_DIV_CD_NM" type="STRING" size="256"/>
          <Column id="CUST_ST_CD" type="STRING" size="256"/>
          <Column id="CUST_ST_CD_NM" type="STRING" size="256"/>
          <Column id="HOME_PHONE" type="STRING" size="256"/>
          <Column id="WORK_PHONE" type="STRING" size="256"/>
          <Column id="MOBIL" type="STRING" size="256"/>
          <Column id="CRD_GNRL_PT" type="STRING" size="256"/>
          <Column id="CRD_SPCL_PT" type="STRING" size="256"/>
          <Column id="CRD_CPRT_PT" type="STRING" size="256"/>
          <Column id="CRD_TOT_PT" type="STRING" size="256"/>
          <Column id="CRD_USABLE_POINT" type="STRING" size="256"/>
          <Column id="CRD_TOT_ACUM_PT" type="STRING" size="256"/>
          <Column id="CUST_GNRL_PT" type="INT" size="256"/>
          <Column id="CUST_SPCL_PT" type="INT" size="256"/>
          <Column id="CUST_CPRT_PT" type="INT" size="256"/>
          <Column id="CUST_TOT_PT" type="INT" size="256"/>
          <Column id="PSNG_GRD" type="STRING" size="256"/>
          <Column id="PSNG_GRD_NM" type="STRING" size="256"/>
          <Column id="TON5_ABV_CARG_GRD" type="STRING" size="256"/>
          <Column id="TON5_ABV_CARG_GRD_NM" type="STRING" size="256"/>
          <Column id="TON5_BLW_CARG_GRD" type="STRING" size="256"/>
          <Column id="TON5_BLW_CARG_GRD_NM" type="STRING" size="256"/>
          <Column id="FSTR_SS_CD" type="STRING" size="256"/>
          <Column id="FSTR_SS_CD_NM" type="STRING" size="256"/>
          <Column id="AGRM_APRV_CD" type="STRING" size="256"/>
          <Column id="AGRM_APRV_CD_NM" type="STRING" size="256"/>
          <Column id="APRV_DTIME" type="STRING" size="256"/>
          <Column id="APRV_CHNL_DIV_CD" type="STRING" size="256"/>
          <Column id="APRV_CHNL_DIV_CD_NM" type="STRING" size="256"/>
          <Column id="INPUT_DT" type="STRING" size="256"/>
          <Column id="INPUT_CHNL" type="STRING" size="256"/>
          <Column id="CRD_MASTER" type="STRING" size="256"/>
          <Column id="SERIAL" type="STRING" size="256"/>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="ALT_CHNL_CD" type="STRING" size="256"/>
          <Column id="ALT_CHNL_CD_NM" type="STRING" size="256"/>
          <Column id="MOD_DTIME" type="STRING" size="256"/>
          <Column id="MOD_USER" type="STRING" size="256"/>
          <Column id="MOD_IP" type="STRING" size="256"/>
          <Column id="CVC_CD" type="STRING" size="256"/>
          <Column id="FILD_DCNT_NM" type="STRING" size="256"/>
          <Column id="FILD_DCNT_CD" type="STRING" size="256"/>
          <Column id="SMCRD_PT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_cust_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IF_KIND" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_METHOD" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_ID" type="STRING" size="256"/>
          <Column id="RES_HEADER_SECTION" type="STRING" size="256"/>
          <Column id="RES_COLUMN_SECTION" type="STRING" size="256"/>
          <Column id="RES_RECORD_SECTION" type="STRING" size="256"/>
          <Column id="RES_CODE_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG1_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG2_NAME" type="STRING" size="256"/>
          <Column id="UPDATE_DATASET_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_cust_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_column" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_record" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_upd_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IF_KIND" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_METHOD" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_ID" type="STRING" size="256"/>
          <Column id="RES_HEADER_SECTION" type="STRING" size="256"/>
          <Column id="RES_COLUMN_SECTION" type="STRING" size="256"/>
          <Column id="RES_RECORD_SECTION" type="STRING" size="256"/>
          <Column id="RES_CODE_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG1_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG2_NAME" type="STRING" size="256"/>
          <Column id="UPDATE_DATASET_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_cust_upd_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_upd_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_upd_column" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_upd_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_upd_record" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_biz_proc_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="PGM_ID" type="STRING" size="256"/>
          <Column id="CUST_ID" type="STRING" size="256"/>
          <Column id="CRD_NO" type="STRING" size="256"/>
          <Column id="PROC_ATM" type="STRING" size="256"/>
          <Column id="CNSL_SEQ_NO" type="STRING" size="256"/>
          <Column id="USR_ID" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_gndr_div" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NAME" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">1</Col>
            <Col id="CODE_NAME">남</Col>
          </Row>
          <Row>
            <Col id="CODE">2</Col>
            <Col id="CODE_NAME">여</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_fct_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="FCTY_ID" type="STRING" size="256"/>
          <Column id="GRP_CD" type="STRING" size="256"/>
          <Column id="CNSLR_GRD_CD" type="STRING" size="256"/>
          <Column id="REFN_CD_VLU1" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_class_sel_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IF_KIND" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_METHOD" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_ID" type="STRING" size="256"/>
          <Column id="RES_HEADER_SECTION" type="STRING" size="256"/>
          <Column id="RES_COLUMN_SECTION" type="STRING" size="256"/>
          <Column id="RES_RECORD_SECTION" type="STRING" size="256"/>
          <Column id="RES_CODE_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG1_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG2_NAME" type="STRING" size="256"/>
          <Column id="UPDATE_DATASET_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_class_sel_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_class_sel_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_class_sel_column" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_class_sel_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_class_sel_record" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="PCON_CUST_GRD" type="STRING" size="256"/>
          <Column id="PCON_CUST_GRD_NM" type="STRING" size="256"/>
          <Column id="PCON_CUST_GRD_AMT" type="STRING" size="256"/>
          <Column id="PCON_CUST_GRD_DT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_upd_cust_info_stt" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="UPD_DV_CD" type="STRING" size="256"/>
          <Column id="CUST_ID" type="STRING" size="256"/>
          <Column id="CORC_BEF_CTT" type="STRING" size="256"/>
          <Column id="CORC_AF_CTT" type="STRING" size="256"/>
          <Column id="INBND_YN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cust_srch_upd_hist" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_pw_init_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IF_KIND" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_METHOD" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_ID" type="STRING" size="256"/>
          <Column id="RES_HEADER_SECTION" type="STRING" size="256"/>
          <Column id="RES_COLUMN_SECTION" type="STRING" size="256"/>
          <Column id="RES_RECORD_SECTION" type="STRING" size="256"/>
          <Column id="RES_CODE_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG1_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG2_NAME" type="STRING" size="256"/>
          <Column id="UPDATE_DATASET_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_pw_init_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_pw_init_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_pw_init_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_pw_init_column" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_pw_init_record" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="OT_RES_MSG" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_cust_st_change_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IF_KIND" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_METHOD" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_ID" type="STRING" size="256"/>
          <Column id="RES_HEADER_SECTION" type="STRING" size="256"/>
          <Column id="RES_COLUMN_SECTION" type="STRING" size="256"/>
          <Column id="RES_RECORD_SECTION" type="STRING" size="256"/>
          <Column id="RES_CODE_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG1_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG2_NAME" type="STRING" size="256"/>
          <Column id="UPDATE_DATASET_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_cust_st_change_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_st_change_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_st_change_record" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_st_change_column" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_st_change_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_reset_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IF_KIND" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_METHOD" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_ID" type="STRING" size="256"/>
          <Column id="RES_HEADER_SECTION" type="STRING" size="256"/>
          <Column id="RES_COLUMN_SECTION" type="STRING" size="256"/>
          <Column id="RES_RECORD_SECTION" type="STRING" size="256"/>
          <Column id="RES_CODE_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG1_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG2_NAME" type="STRING" size="256"/>
          <Column id="UPDATE_DATASET_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_reset_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_reset_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_reset_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_reset_column" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_reset_record" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="OT_RES_MSG" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_bonus_id" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="BONUS_ID" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_frch_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IF_KIND" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_METHOD" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_ID" type="STRING" size="256"/>
          <Column id="RES_HEADER_SECTION" type="STRING" size="256"/>
          <Column id="RES_COLUMN_SECTION" type="STRING" size="256"/>
          <Column id="RES_RECORD_SECTION" type="STRING" size="256"/>
          <Column id="RES_CODE_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG1_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG2_NAME" type="STRING" size="256"/>
          <Column id="UPDATE_DATASET_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_frch_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_frch_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_frch_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_frch_record" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_wthdraw_grp_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IF_KIND" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_METHOD" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_ID" type="STRING" size="256"/>
          <Column id="RES_HEADER_SECTION" type="STRING" size="256"/>
          <Column id="RES_COLUMN_SECTION" type="STRING" size="256"/>
          <Column id="RES_RECORD_SECTION" type="STRING" size="256"/>
          <Column id="RES_CODE_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG1_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG2_NAME" type="STRING" size="256"/>
          <Column id="UPDATE_DATASET_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_wthdraw_grp_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_wthdraw_grp_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_wthdraw_grp_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_wthdraw_grp_record" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_wthdraw_grp_column" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cuis_ins_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IF_KIND" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_METHOD" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_ID" type="STRING" size="256"/>
          <Column id="RES_HEADER_SECTION" type="STRING" size="256"/>
          <Column id="RES_COLUMN_SECTION" type="STRING" size="256"/>
          <Column id="RES_RECORD_SECTION" type="STRING" size="256"/>
          <Column id="RES_CODE_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG1_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG2_NAME" type="STRING" size="256"/>
          <Column id="UPDATE_DATASET_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_cuis_ins_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cuis_ins_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cuis_ins_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cphn_upd_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IF_KIND" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_METHOD" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_ID" type="STRING" size="256"/>
          <Column id="RES_HEADER_SECTION" type="STRING" size="256"/>
          <Column id="RES_COLUMN_SECTION" type="STRING" size="256"/>
          <Column id="RES_RECORD_SECTION" type="STRING" size="256"/>
          <Column id="RES_CODE_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG1_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG2_NAME" type="STRING" size="256"/>
          <Column id="UPDATE_DATASET_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_cphn_upd_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cphn_upd_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cphn_upd_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_addr_upd_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IF_KIND" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_METHOD" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_ID" type="STRING" size="256"/>
          <Column id="RES_HEADER_SECTION" type="STRING" size="256"/>
          <Column id="RES_COLUMN_SECTION" type="STRING" size="256"/>
          <Column id="RES_RECORD_SECTION" type="STRING" size="256"/>
          <Column id="RES_CODE_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG1_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG2_NAME" type="STRING" size="256"/>
          <Column id="UPDATE_DATASET_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_addr_upd_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_addr_upd_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_addr_upd_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_fmly_upd_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IF_KIND" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_METHOD" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_ID" type="STRING" size="256"/>
          <Column id="RES_HEADER_SECTION" type="STRING" size="256"/>
          <Column id="RES_COLUMN_SECTION" type="STRING" size="256"/>
          <Column id="RES_RECORD_SECTION" type="STRING" size="256"/>
          <Column id="RES_CODE_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG1_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG2_NAME" type="STRING" size="256"/>
          <Column id="UPDATE_DATASET_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_fmly_upd_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_fmly_upd_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_fmly_upd_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_cphon_head_no" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_re_apply_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IF_KIND" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_METHOD" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_ID" type="STRING" size="256"/>
          <Column id="RES_HEADER_SECTION" type="STRING" size="256"/>
          <Column id="RES_COLUMN_SECTION" type="STRING" size="256"/>
          <Column id="RES_RECORD_SECTION" type="STRING" size="256"/>
          <Column id="RES_CODE_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG1_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG2_NAME" type="STRING" size="256"/>
          <Column id="UPDATE_DATASET_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_re_apply_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_re_apply_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_re_apply_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_re_apply_column" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_crd_info" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CUST_NO" type="STRING" size="256"/>
          <Column id="CRD_NO" type="STRING" size="256"/>
          <Column id="PBLC_APLY_DIV_CD" type="STRING" size="256"/>
          <Column id="PBLC_APLY_DIV_CD_NM" type="STRING" size="256"/>
          <Column id="RREG_PBLC_DT" type="STRING" size="256"/>
          <Column id="CRD_ST_CD" type="STRING" size="256"/>
          <Column id="CRD_ST_CD_NM" type="STRING" size="256"/>
          <Column id="PBLC_SS_CD" type="STRING" size="256"/>
          <Column id="PBLC_SS_CD_NM" type="STRING" size="256"/>
          <Column id="CPRT_ST_CD" type="STRING" size="256"/>
          <Column id="CPRT_ST_CD_NM" type="STRING" size="256"/>
          <Column id="VLID_YM" type="STRING" size="256"/>
          <Column id="MOD_USER_ID" type="STRING" size="256"/>
          <Column id="CRD_TP_YN" type="STRING" size="256"/>
          <Column id="CRD_TP_CD" type="STRING" size="256"/>
          <Column id="CRD_TP_CD_NM" type="STRING" size="256"/>
          <Column id="RS_BZ_NO" type="STRING" size="256"/>
          <Column id="CUST_NM" type="STRING" size="256"/>
          <Column id="NKNM" type="STRING" size="256"/>
          <Column id="EML_ADDR" type="STRING" size="256"/>
          <Column id="ADDR_ERR_YN" type="STRING" size="256"/>
          <Column id="MTR_SS_CD" type="STRING" size="256"/>
          <Column id="MTR_SS_CD_NM" type="STRING" size="256"/>
          <Column id="MTR_SS_TPHN_NO" type="STRING" size="256"/>
          <Column id="VIP_CUST_YN" type="STRING" size="256"/>
          <Column id="WRNG_ST_CD" type="STRING" size="256"/>
          <Column id="WRNG_ST_CD_NM" type="STRING" size="256"/>
          <Column id="WRNG_REG_DT" type="STRING" size="256"/>
          <Column id="CUST_DIV_CD" type="STRING" size="256"/>
          <Column id="CUST_DIV_CD_NM" type="STRING" size="256"/>
          <Column id="CUST_ST_CD" type="STRING" size="256"/>
          <Column id="CUST_ST_CD_NM" type="STRING" size="256"/>
          <Column id="HOME_PHONE" type="STRING" size="256"/>
          <Column id="WORK_PHONE" type="STRING" size="256"/>
          <Column id="MOBIL" type="STRING" size="256"/>
          <Column id="CRD_GNRL_PT" type="INT" size="256"/>
          <Column id="CRD_SPCL_PT" type="INT" size="256"/>
          <Column id="CRD_CPRT_PT" type="INT" size="256"/>
          <Column id="CRD_TOT_PT" type="INT" size="256"/>
          <Column id="CRD_USABLE_POINT" type="INT" size="256"/>
          <Column id="CRD_TOT_ACUM_PT" type="STRING" size="256"/>
          <Column id="CUST_GNRL_PT" type="STRING" size="256"/>
          <Column id="CUST_SPCL_PT" type="STRING" size="256"/>
          <Column id="CUST_CPRT_PT" type="STRING" size="256"/>
          <Column id="CUST_TOT_PT" type="STRING" size="256"/>
          <Column id="PSNG_GRD" type="STRING" size="256"/>
          <Column id="PSNG_GRD_NM" type="STRING" size="256"/>
          <Column id="TON5_ABV_CARG_GRD" type="STRING" size="256"/>
          <Column id="TON5_ABV_CARG_GRD_NM" type="STRING" size="256"/>
          <Column id="TON5_BLW_CARG_GRD" type="STRING" size="256"/>
          <Column id="TON5_BLW_CARG_GRD_NM" type="STRING" size="256"/>
          <Column id="FSTR_SS_CD" type="STRING" size="256"/>
          <Column id="FSTR_SS_CD_NM" type="STRING" size="256"/>
          <Column id="AGRM_APRV_CD" type="STRING" size="256"/>
          <Column id="AGRM_APRV_CD_NM" type="STRING" size="256"/>
          <Column id="APRV_DTIME" type="STRING" size="256"/>
          <Column id="APRV_CHNL_DIV_CD" type="STRING" size="256"/>
          <Column id="APRV_CHNL_DIV_CD_NM" type="STRING" size="256"/>
          <Column id="INPUT_DT" type="STRING" size="256"/>
          <Column id="INPUT_CHNL" type="STRING" size="256"/>
          <Column id="CRD_MASTER" type="STRING" size="256"/>
          <Column id="SERIAL" type="STRING" size="256"/>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="ALT_CHNL_CD" type="STRING" size="256"/>
          <Column id="ALT_CHNL_CD_NM" type="STRING" size="256"/>
          <Column id="MOD_DTIME" type="STRING" size="256"/>
          <Column id="MOD_USER" type="STRING" size="256"/>
          <Column id="MOD_IP" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_smt_callbck" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CALLBACK_SEQ_NO" type="STRING" size="256"/>
          <Column id="CNSL_SEQ_NO" type="STRING" size="256"/>
          <Column id="HOPE_TEL_NO" type="STRING" size="256"/>
          <Column id="LST_CUR_TYP_CD" type="STRING" size="256"/>
          <Column id="SELF_PROC_END_YN" type="STRING" size="256"/>
          <Column id="PROC_CTT" type="STRING" size="256"/>
          <Column id="PROC_GBN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_pwd_chng_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_pwd_chng_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_pwd_chng_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_pwd_chng_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" preload="true"/>
      <Dataset id="ds_if_pwd_chng_column" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_pwd_chng_record" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_cust_info_inq_hist_set" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CUST_NO" type="STRING" size="256"/>
          <Column id="CNSLR_ID" type="STRING" size="256"/>
          <Column id="CNSLR_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <ExportObject id="ExportObject00" exporttype="0" exporteventtype="itemrecord"/>
      <Dataset id="ds_PRIV_CNT_HIS" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ACC_NO" type="STRING" size="256"/>
          <Column id="SYS_CD" type="STRING" size="256"/>
          <Column id="SYS_IP" type="STRING" size="256"/>
          <Column id="USR_ID" type="STRING" size="256"/>
          <Column id="USR_CMP_ID" type="STRING" size="256"/>
          <Column id="USR_PART" type="STRING" size="256"/>
          <Column id="ACC_DAT" type="STRING" size="256"/>
          <Column id="ACC_IP" type="STRING" size="256"/>
          <Column id="ACC_URL" type="STRING" size="256"/>
          <Column id="PER_TSK_CD" type="STRING" size="256"/>
          <Column id="PER_TSK_DT" type="STRING" size="256"/>
          <Column id="PER_TSK_ID" type="STRING" size="256"/>
          <Column id="CAL_FUN" type="STRING" size="256"/>
          <Column id="INQ_CON" type="STRING" size="256"/>
          <Column id="INQ_CNT" type="STRING" size="256"/>
          <Column id="INQ_INFO_LIST" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_rew_record" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="INT" size="256"/>
          <Column id="CUST_NO" type="STRING" size="256"/>
          <Column id="DESTRC_NOTICE_DT" type="STRING" size="256"/>
          <Column id="DESTRC_NOTICE_YN" type="STRING" size="256"/>
          <Column id="DESTRC_NOTICE_MTHD_CD" type="STRING" size="256"/>
          <Column id="DESTRC_NOTICE_MTHD_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_rew_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_rew_column" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_rew_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_rew_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_rew_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_sg_sel_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_sg_sel_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_sg_sel_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_sg_sel_column" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_sg_sel_record" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="INPT_USER_ID" type="STRING" size="256"/>
          <Column id="CAMP_ID" type="STRING" size="256"/>
          <Column id="INPT_DTIME" type="STRING" size="256"/>
          <Column id="MOD_DTIME" type="STRING" size="256"/>
          <Column id="MOD_USER_ID" type="STRING" size="256"/>
          <Column id="CUST_NO" type="STRING" size="256"/>
          <Column id="USE_YN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_sg_sel_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_cb_get_param" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_s2s_agree" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_s2s_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CUST_ID" type="STRING" size="256"/>
          <Column id="CUST_NO" type="STRING" size="256"/>
          <Column id="CUST_NM" type="STRING" size="256"/>
          <Column id="CNSLR_ID" type="STRING" size="256"/>
          <Column id="CNSLR_NM" type="STRING" size="256"/>
          <Column id="GBL_USR_ID" type="STRING" size="256"/>
          <Column id="GBL_USR_NM" type="STRING" size="256"/>
          <Column id="GRP_CD" type="STRING" size="256"/>
          <Column id="PART_CD" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_param_in" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CUST_ID" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_cust_event_pt_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_event_pt_column" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_event_pt_record" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CPTV_EVNT_PT_ID" type="STRING" size="256"/>
          <Column id="EVNT_PT" type="STRING" size="256"/>
          <Column id="VANISH_INTEND_DATE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_cust_event_pt_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_event_pt_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_cust_event_pt_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_custGrd_sel_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_custGrd_sel_column" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_custGrd_sel_record" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CUST_NO" type="STRING" size="256"/>
          <Column id="CUST_GRD_CD" type="STRING" size="256"/>
          <Column id="CUST_GRD_NM" type="STRING" size="256"/>
          <Column id="GRD_APPL_STRT_DT" type="STRING" size="256"/>
          <Column id="GRD_APPL_END_DT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_custGrd_sel_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_custGrd_sel_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_custGrd_sel_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
    </Objects>
    <Bind>
      <BindItem id="item48" compid="Edt_Certification" propid="value" datasetid="ds_if_cust_dtl_record" columnid="OT_CERTIFICATION_YN"/>
      <BindItem id="item49" compid="Cmb_ComCoDivCd" propid="value" datasetid="ds_cust_info" columnid="OT_COM_CO_DIV_CD"/>
      <BindItem id="item26" compid="Edt_NkNm" propid="value" datasetid="ds_cust_info" columnid="OT_NKNM"/>
      <BindItem id="item0" compid="Edt_CustNm" propid="value" datasetid="ds_cust_info" columnid="OT_CUST_NM"/>
      <BindItem id="item13" compid="Cmb_DmSendDiv" propid="value" datasetid="ds_cust_info" columnid="OT_DM_SEND_DIV_CD"/>
      <BindItem id="item21" compid="Edt_WkstNm" propid="value" datasetid="ds_cust_info" columnid="OT_WKST_NM"/>
      <BindItem id="item22" compid="Edt_DeptNm" propid="value" datasetid="ds_cust_info" columnid="OT_DEPT_NM"/>
      <BindItem id="item20" compid="Edt_FaxPhone" propid="value" datasetid="ds_cust_info" columnid="OT_FAX_PHONE_NO"/>
      <BindItem id="item43" compid="Edt_EtcPhone" propid="value" datasetid="ds_cust_info" columnid="OT_ETC_PHONE_NO"/>
      <BindItem id="item5" compid="Edt_CelPhone" propid="value" datasetid="ds_cust_info" columnid="OT_HND_PHONE_NO"/>
      <BindItem id="item4" compid="Edt_OffPhone" propid="value" datasetid="ds_cust_info" columnid="OT_OFF_PHONE_NO"/>
      <BindItem id="item3" compid="Edt_HomePhone" propid="value" datasetid="ds_cust_info" columnid="OT_HOME_PHONE_NO"/>
      <BindItem id="item2" compid="Edt_CustNo" propid="value" datasetid="ds_cust_info" columnid="IO_CUST_NO"/>
      <BindItem id="item8" compid="Edt_HomeMidAddr" propid="value" datasetid="ds_cust_info" columnid="OT_HOME_MID_ADDR"/>
      <BindItem id="item9" compid="Edt_HomeAddr" propid="value" datasetid="ds_cust_info" columnid="OT_HOME_ADDR"/>
      <BindItem id="item11" compid="Edt_OffMidAddr" propid="value" datasetid="ds_cust_info" columnid="OT_OFF_MID_ADDR"/>
      <BindItem id="item12" compid="Edt_OffAddr" propid="value" datasetid="ds_cust_info" columnid="OT_OFF_ADDR"/>
      <BindItem id="item14" compid="Edt_CustSt" propid="value" datasetid="ds_cust_info" columnid="OT_CUST_ST_CD_NM"/>
      <BindItem id="item15" compid="Cal_Bday" propid="value" datasetid="ds_cust_info" columnid="OT_BDAY"/>
      <BindItem id="item16" compid="Rdo_BdayLunsolDiv" propid="value" datasetid="ds_cust_info" columnid="OT_BDAY_LUNSOL_DIV_CD"/>
      <BindItem id="item17" compid="Rdo_MateBdayLunsolDiv" propid="value" datasetid="ds_cust_info" columnid="OT_MATE_BDAY_LUNSOL_DIV_CD"/>
      <BindItem id="item18" compid="Edt_EmlAddr" propid="value" datasetid="ds_cust_info" columnid="OT_EML_ADDR"/>
      <BindItem id="item19" compid="Cal_MateBday" propid="value" datasetid="ds_cust_info" columnid="OT_MATE_BDAY"/>
      <BindItem id="item23" compid="Cal_MryDay" propid="value" datasetid="ds_cust_info" columnid="OT_MRY_DAY"/>
      <BindItem id="item24" compid="Rdo_MryDayLunsolDiv" propid="value" datasetid="ds_cust_info" columnid="OT_MRY_LUNSOL_DIV_CD"/>
      <BindItem id="item25" compid="Rdo_MryDayLunsolDiv" propid="" datasetid="ds_cust_info" columnid="MRY_LUNSOL_DIV_CD"/>
      <BindItem id="item27" compid="Edt_GrpAgrChnl" propid="value" datasetid="ds_cust_info" columnid="OT_GRP_AGR_CHNL_CD_NM"/>
      <BindItem id="item34" compid="Edt_HeadRsBzNo" propid="value" datasetid="ds_cust_info" columnid="OT_HEAD_RS_BZ_NO"/>
      <BindItem id="item35" compid="Msk_TailRsBzNo" propid="value" datasetid="ds_cust_info" columnid="OT_TAIL_RS_BZ_NO"/>
      <BindItem id="item36" compid="Edt_IntgWebId" propid="value" datasetid="ds_cust_info" columnid="OT_INTG_CUST_NO"/>
      <BindItem id="item29" compid="Msk_CustRegDt" propid="value" datasetid="ds_cust_info" columnid="OT_FST_REG_DT"/>
      <BindItem id="item37" compid="Edt_WrngSt" propid="value" datasetid="ds_cust_info" columnid="OT_WRNG_ST_CD_NM"/>
      <BindItem id="item41" compid="Edt_CurPtSet" propid="value" datasetid="ds_cust_info" columnid="OT_CUR_PT_SET"/>
      <BindItem id="item42" compid="Edt_BfIntgPtSet" propid="value" datasetid="ds_cust_info" columnid="OT_BF_INTG_PT_SET"/>
      <BindItem id="item7" compid="Msk_HomeZipCode" propid="value" datasetid="ds_cust_info" columnid="OT_HOME_ZIP_CODE"/>
      <BindItem id="item28" compid="Msk_OffZipCode" propid="value" datasetid="ds_cust_info" columnid="OT_OFF_ZIP_CODE"/>
      <BindItem id="item10" compid="Edt_WebId" propid="value" datasetid="ds_cust_info" columnid="OT_WEB_ID"/>
      <BindItem id="item30" compid="Msk_UsblPt" propid="value" datasetid="ds_cust_info" columnid="OT_TOT_PT"/>
      <BindItem id="item6" compid="Cmb_GndrDiv" propid="value" datasetid="ds_cust_info" columnid="OT_SEX_CD"/>
      <BindItem id="item32" compid="Cmb_CustDiv" propid="value" datasetid="ds_cust_info" columnid="OT_CUST_DIV_CD"/>
      <BindItem id="item1" compid="Msk_InfoModDt" propid="value" datasetid="ds_cust_info" columnid="OT_INPT_DTIME"/>
      <BindItem id="item33" compid="Msk_GrpAgrDt" propid="value" datasetid="ds_cust_info" columnid="OT_FST_GRP_AGR_DTIME"/>
      <BindItem id="item39" compid="Edt_StdCdNm" propid="value" datasetid="ds_cust_info" columnid="OT_RSV_STD_CD_NM"/>
      <BindItem id="item40" compid="Edt_CuikBday" propid="value" datasetid="ds_cust_info" columnid="OT_CUIK_BDAY"/>
      <BindItem id="item44" compid="Edt_AuthnTpCdNm" propid="value" datasetid="ds_cust_info" columnid="OT_AUTHN_TP_CD_NM"/>
      <BindItem id="item46" compid="Edt_AuthnYn" propid="value" datasetid="ds_cust_info" columnid="OT_AUTHN_YN"/>
      <BindItem id="item45" compid="Msk_AuthnDtime" propid="value" datasetid="ds_cust_info" columnid="OT_AUTHN_DTIME"/>
      <BindItem id="item47" compid="Cmb_AuthnSbjtCd" propid="value" datasetid="ds_cust_info" columnid="OT_AUTHN_SBJT_CD"/>
      <BindItem id="item50" compid="Edt_SmtG" propid="value" datasetid="ds_if_sg_sel_record" columnid="USE_YN"/>
      <BindItem id="item51" compid="Edt_OthrAuthnCelPhone" propid="value" datasetid="ds_cust_info" columnid="OT_OTHR_AUTHN_PHONE_NO"/>
      <BindItem id="item31" compid="Edt_CustGrd" propid="value" datasetid="ds_if_custGrd_sel_record" columnid="CUST_GRD_NM"/>
    </Bind>
  </Form>
</FDL>
