<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.2">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="BNS070" classname="Template_pop" inheritanceid="" cachelevel="" position="absolute 0 0 650 719" version="" titletext="IPIN고객정보" onload="BNS070_onload">
    <Layout>
      <Static id="Stt_TdRow1" onclick="Static10_onclick" class="sta_WFDA_B" position="absolute 103 122 631 148" text=""/>
      <Static id="Stt_IntgWebId" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 323 122 413 148" text="통합고객번호"/>
      <Static id="Stt_CustNm" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 20 122 110 148" text="고객명"/>
      <Static id="Stt_TdRow2" onclick="Static10_onclick" class="sta_WFDA_B" position="absolute 103 147 631 173" text=""/>
      <Static id="Stt_PopTitleBg" position="absolute 10 0 640 38" class="sta_POP_titleBG" text=""/>
      <Static id="Stt_PopTitle" text="IPIN 고객정보" position="absolute 26 11 276 26" class="sta_POP_title"/>
      <Static id="Stt_Bday" text="생일" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 20 147 110 173"/>
      <Button id="Btn_Save" taborder="17" text="저장" position="absolute 560 676 620 696" onclick="Btn_Save_onclick"/>
      <Edit id="Edt_CustNm" taborder="3" position="absolute 113 125 313 145" readonly="true"/>
      <Edit id="Edt_IntgWebId" taborder="4" position="absolute 416 125 621 145" readonly="true"/>
      <Static id="Static10" class="sta_WFSA_BG" position="absolute 20 54 630 86" text=""/>
      <Static id="Stt_SrchWebId" text="웹ID" class="sta_WFSA_label" position="absolute 32 64 92 76"/>
      <Button id="Btn_Srch" taborder="2" text="조회" class="btn_WFSA_P" position="absolute 545 60 605 80" onclick="Btn_Srch_onclick"/>
      <Edit id="Edt_SrchWebId" taborder="0" position="absolute 73 60 233 80" class="edt_WFSA" onkeydown="Edt_SrchWebId_onkeydown" maxlength="30" lengthunit="ascii"/>
      <Static id="Stt_EmlAddr" text="E-mail" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 323 147 413 173"/>
      <Edit id="Edt_EmlAddr" taborder="6" position="absolute 416 150 621 170" maxlength="100" lengthunit="ascii"/>
      <Static id="Stt_TdRow3" onclick="Static10_onclick" class="sta_WFDA_B" position="absolute 103 172 631 198" text=""/>
      <Edit id="Edt_CelPhone" taborder="7" position="absolute 113 175 248 195" ontextchanged="Edt_CelPhone_ontextchanged" maxlength="13" lengthunit="ascii"/>
      <Static id="Stt_CustSt" text="고객상태" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 323 172 413 198"/>
      <Edit id="Edt_CustSt" taborder="9" position="absolute 416 175 621 195" readonly="true"/>
      <Static id="Stt_CelPhone" text="휴대폰" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 20 172 110 198"/>
      <Static id="Stt_TdRow4" onclick="Static10_onclick" class="sta_WFDA_B" position="absolute 103 197 631 223" text=""/>
      <Static id="Stt_CustRegDt" text="고객등록일" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 20 197 110 223"/>
      <Static id="Stt_InfoModDt" text="정보수정일" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 323 197 413 223"/>
      <Static id="Stt_TdRow5" onclick="Static10_onclick" class="sta_WFDA_B" position="absolute 103 222 631 248" text=""/>
      <Edit id="Edt_GrpAgrChnl" taborder="13" position="absolute 416 225 621 245" readonly="true"/>
      <Static id="Stt_GrpAgrDt" text="그룹동의일자" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 20 222 110 248"/>
      <Static id="Stt_GrpAgrChnl" text="그룹동의채널" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 323 222 413 248"/>
      <Button id="Btn_Drop" taborder="16" text="탈퇴" position="absolute 488 676 548 696" onclick="Btn_Drop_onclick"/>
      <CheckBox id="Chk_WrngNoYn" taborder="8" text="오번호" position="absolute 252 175 321 195"/>
      <Div id="Div00" taborder="18" style="background:#ffffff00; border:0 double #dcdcdcff #ffffffff; " position="absolute 6 2 640 38">
        <Layout/>
      </Div>
      <Button id="Btn_Close" taborder="56" text="Button00" onclick="Btn_Close_onclick" class="btn_POP_close" position="absolute 607 12 620 24"/>
      <Button id="Btn_SaveCntc" taborder="14" text="접촉저장" class="btn_WFDA_P" position="absolute 304 676 384 696" onclick="Btn_SaveCntc_onclick"/>
      <Tab id="Tab_SaveInfoHist" taborder="57" tabindex="0" scrollbars="autoboth" position="absolute 20 507 630 662" class="tab_WF_type2" onchanged="Tab_SaveInfoHist_onchanged" enable="false">
        <Tabpages>
          <Tabpage id="tabpage1" text="기본정보" onclick="Tab_SaveInfoHist_tabpage1_onclick" url="BNS::BNS071.xfdl" class="tabp_WF_type2">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage2" text="연락처정보" url="BNS::BNS072.xfdl" class="tabp_WF_type2">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage3" text="웹ID정보" class="tabp_WF_type2" url="BNS::BNS073.xfdl">
            <Layout/>
          </Tabpage>
          <Tabpage id="tabpage4" text="인증정보" class="tabp_WF_type2" url="BNS::BNS074.xfdl">
            <Layout/>
          </Tabpage>
        </Tabpages>
      </Tab>
      <Static id="Static04" text="정보변경이력" class="sta_WF_subtitle" position="absolute 26 488 195 500"/>
      <Static id="Static00" text="접촉저장" class="sta_WF_subtitle" position="absolute 26 268 195 280"/>
      <Static id="Stt_TdRow00" onclick="Static10_onclick" class="sta_WFDA_B" position="absolute 103 287 631 313" text=""/>
      <Static id="Stt_BizDtls1_1" text="업무상세1-1" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 20 287 110 313"/>
      <Static id="Stt_BizDtls2_1" text="업무상세2-1" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 323 287 413 313"/>
      <Static id="Stt_TdRow06" onclick="Static10_onclick" class="sta_WFDA_B" position="absolute 103 312 631 338" text=""/>
      <Static id="Stt_BizDtls1_2" text="업무상세1-2" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 20 312 110 338"/>
      <Static id="Stt_BizDtls2_2" text="업무상세2-2" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 323 312 413 338"/>
      <Static id="Stt_TdRow07" onclick="Static10_onclick" class="sta_WFDA_B" position="absolute 103 337 631 363" text=""/>
      <Static id="Stt_BizDtls1_3" text="업무상세1-3" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 20 337 110 363"/>
      <Static id="Stt_BizDtls2_3" text="업무상세2-3" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 323 337 413 363"/>
      <Static id="Stt_TdRow08" onclick="Static10_onclick" class="sta_WFDA_B" position="absolute 103 362 631 388" text=""/>
      <Static id="Stt_BizDtls1_4" text="업무상세1-4" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 20 362 110 388"/>
      <Static id="Stt_BizDtls2_4" text="업무상세2-4" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 323 362 413 388"/>
      <Combo id="Cmb_BizDtls1_1" taborder="67" position="absolute 113 290 313 310" onitemchanged="Cmb_BizDtls1_1_onitemchanged"/>
      <Combo id="Cmb_BizDtls1_2" taborder="68" position="absolute 113 315 313 335" onitemchanged="Cmb_BizDtls1_2_onitemchanged"/>
      <Combo id="Cmb_BizDtls1_3" taborder="69" position="absolute 113 340 313 360" onitemchanged="Cmb_BizDtls1_3_onitemchanged"/>
      <Combo id="Cmb_BizDtls1_4" taborder="70" position="absolute 113 365 313 385" onitemchanged="Cmb_BizDtls1_4_onitemchanged"/>
      <Combo id="Cmb_BizDtls2_1" taborder="71" position="absolute 416 290 616 310" onitemchanged="Cmb_BizDtls2_1_onitemchanged"/>
      <Combo id="Cmb_BizDtls2_2" taborder="72" position="absolute 416 315 616 335" onitemchanged="Cmb_BizDtls2_2_onitemchanged"/>
      <Combo id="Cmb_BizDtls2_3" taborder="73" position="absolute 416 340 616 360" onitemchanged="Cmb_BizDtls2_3_onitemchanged"/>
      <Combo id="Cmb_BizDtls2_4" taborder="74" position="absolute 416 365 616 385" onitemchanged="Cmb_BizDtls2_4_onitemchanged"/>
      <MaskEdit id="Msk_Bday" taborder="75" position="absolute 113 150 313 170" style="padding:0 0 0 3;align:left middle;" type="string" maskchar=" " readonly="true"/>
      <Button id="Btn_UpdHist" taborder="80" text="변경이력" class="btn_WFDA_P" position="absolute 396 676 476 696" onclick="Btn_UpdHist_onclick"/>
      <Static id="Stt_SrchTxt" text="총         건" position="absolute 556 510 624 522" enable="false"/>
      <Static id="Stt_SrchCnt" position="absolute 570 510 602 522" style="align:right top; " text=""/>
      <Edit id="Edt_CustRegDt" taborder="81" readonly="true" position="absolute 113 200 313 220"/>
      <Edit id="Edt_InfoModDt" taborder="82" readonly="true" position="absolute 416 200 621 220"/>
      <Edit id="Edt_GrpAgrDt" taborder="83" readonly="true" position="absolute 113 225 313 245"/>
      <Static id="Static01" text="아이핀고객정보" class="sta_WF_subtitle" position="absolute 26 103 195 115"/>
      <Static id="Stt_TdRow09" onclick="Static10_onclick" class="sta_WFDA_B" position="absolute 103 387 631 472" text=""/>
      <Static id="Stt_BizDtls1_00" text="상담내용" onclick="Static10_onclick" class="sta_WFDA_labelB" position="absolute 20 387 110 472"/>
      <TextArea id="Txa_CnslCtt" taborder="84" position="absolute 113 391 616 468" wordwrap="word" lengthunit="ascii" maxlength="2000" imemode="hangul"/>
    </Layout>
    <Objects>
      <Dataset id="ds_code_array" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="COMBO_NAME" type="STRING" size="256"/>
          <Column id="SQL_ID" type="STRING" size="256"/>
          <Column id="OPTION" type="STRING" size="256"/>
          <Column id="CODE1" type="STRING" size="256"/>
          <Column id="CODE2" type="STRING" size="256"/>
          <Column id="CODE3" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="COMBO_NAME">Cmb_BizDtls1_1</Col>
            <Col id="SQL_ID">BNS070.Get_CmbBizDtls1_SELECT</Col>
            <Col id="OPTION">2</Col>
            <Col id="CODE1"/>
            <Col id="CODE2"/>
            <Col id="CODE3"/>
          </Row>
          <Row>
            <Col id="COMBO_NAME">Cmb_BizDtls2_1</Col>
            <Col id="SQL_ID">BNS070.Get_CmbBizDtls2_SELECT</Col>
            <Col id="OPTION">2</Col>
            <Col id="CODE1"/>
            <Col id="CODE2"/>
            <Col id="CODE3"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_biz_dtl_list" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="BIZ_DTL1_1" type="STRING" size="256"/>
          <Column id="BIZ_DTL2_1" type="STRING" size="256"/>
          <Column id="BIZ_DTL1_2" type="STRING" size="256"/>
          <Column id="BIZ_DTL2_2" type="STRING" size="256"/>
          <Column id="BIZ_DTL1_3" type="STRING" size="256"/>
          <Column id="BIZ_DTL2_3" type="STRING" size="256"/>
          <Column id="BIZ_DTL1_4" type="STRING" size="256"/>
          <Column id="BIZ_DTL2_4" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="BIZ_DTL1_1"/>
            <Col id="BIZ_DTL2_1"/>
            <Col id="BIZ_DTL1_2"/>
            <Col id="BIZ_DTL2_2"/>
            <Col id="BIZ_DTL1_3"/>
            <Col id="BIZ_DTL2_3"/>
            <Col id="BIZ_DTL1_4"/>
            <Col id="BIZ_DTL2_4"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_sel_biz_dtl" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="DTL1_CODE" type="STRING" size="256"/>
          <Column id="ORDER" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_save_cnsl_biz_dtls" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNSL_SEQ_NO" type="STRING" size="256"/>
          <Column id="BIZ_DTLS_SEQ" type="STRING" size="256"/>
          <Column id="BIZ_DV_DTLS_CD1" type="STRING" size="256"/>
          <Column id="BIZ_DV_DTLS_CD2" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_save_cnsl_hist" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CNSL_SEQ_NO" type="STRING" size="256"/>
          <Column id="CUST_ID" type="STRING" size="256"/>
          <Column id="CUST_NM" type="STRING" size="256"/>
          <Column id="WEB_ID" type="STRING" size="256"/>
          <Column id="CUR_TEL_NO" type="STRING" size="256"/>
          <Column id="CNTC_CHNL_CD" type="STRING" size="256"/>
          <Column id="CUST_DV_CD" type="STRING" size="256"/>
          <Column id="BIZ_DV_CD" type="STRING" size="256"/>
          <Column id="CUR_TYP_CD" type="STRING" size="256"/>
          <Column id="CNSL_CTT" type="STRING" size="256"/>
          <Column id="PH_REC_SEQ_NO" type="STRING" size="256"/>
          <Column id="TDNC_DV_CD" type="STRING" size="256"/>
          <Column id="CUST_TDNC" type="STRING" size="256"/>
          <Column id="RSV_SEQ_NO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_tab_proc_yn" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="Tab_SaveInfoHist_tabpage1" type="STRING" size="256"/>
          <Column id="Tab_SaveInfoHist_tabpage2" type="STRING" size="256"/>
          <Column id="Tab_SaveInfoHist_tabpage3" type="STRING" size="256"/>
          <Column id="Tab_SaveInfoHist_tabpage4" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="Tab_SaveInfoHist_tabpage1"/>
            <Col id="Tab_SaveInfoHist_tabpage2"/>
            <Col id="Tab_SaveInfoHist_tabpage3"/>
            <Col id="Tab_SaveInfoHist_tabpage4"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_if_ipin_cust_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IF_KIND" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_METHOD" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_ID" type="STRING" size="256"/>
          <Column id="RES_HEADER_SECTION" type="STRING" size="256"/>
          <Column id="RES_COLUMN_SECTION" type="STRING" size="256"/>
          <Column id="RES_RECORD_SECTION" type="STRING" size="256"/>
          <Column id="RES_CODE_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG1_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG2_NAME" type="STRING" size="256"/>
          <Column id="UPDATE_DATASET_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_ipin_cust_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_ipin_cust_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="OT_V_IPIN_CUST_NO" type="STRING" size="256"/>
          <Column id="OT_V_IPIN_VTRL_RSNO" type="STRING" size="256"/>
          <Column id="OT_V_CUST_NM" type="STRING" size="256"/>
          <Column id="OT_V_IPIN_BDAY" type="STRING" size="256"/>
          <Column id="OT_V_EML_ADDR" type="STRING" size="256"/>
          <Column id="OT_V_CPHN_NO" type="STRING" size="256"/>
          <Column id="OT_V_CPHN_TPHN_ERR_YN" type="STRING" size="256"/>
          <Column id="OT_V_EML_ADDR_ERR_YN" type="STRING" size="256"/>
          <Column id="OT_V_CUST_ST_CD" type="STRING" size="256"/>
          <Column id="OT_V_CUST_ST_NM" type="STRING" size="256"/>
          <Column id="OT_V_CUST_DIV_CD" type="STRING" size="256"/>
          <Column id="OT_V_SEX_CD" type="STRING" size="256"/>
          <Column id="OT_V_JOIN_CHNL_CD" type="STRING" size="256"/>
          <Column id="OT_V_SECS_CHNL_CD" type="STRING" size="256"/>
          <Column id="OT_V_SECS_DTIME" type="STRING" size="256"/>
          <Column id="OT_V_GRP_AGR_YN" type="STRING" size="256"/>
          <Column id="OT_V_INTGR_CUST_NO" type="STRING" size="256"/>
          <Column id="OT_V_GRP_AGR_CHNL_CD" type="STRING" size="256"/>
          <Column id="OT_V_GRP_AGR_CHNL_CD_NM" type="STRING" size="256"/>
          <Column id="OT_V_FST_GRP_AGR_DTIME" type="STRING" size="256"/>
          <Column id="OT_V_WEB_ID" type="STRING" size="256"/>
          <Column id="OT_V_INPT_DTIME" type="STRING" size="256"/>
          <Column id="OT_V_INPT_USER_ID" type="STRING" size="256"/>
          <Column id="OT_V_INPT_IP" type="STRING" size="256"/>
          <Column id="OT_V_MOD_DTIME" type="STRING" size="256"/>
          <Column id="OT_V_MOD_USER_ID" type="STRING" size="256"/>
          <Column id="OT_V_MOD_IP" type="STRING" size="256"/>
          <Column id="OT_RESPON_CODE" type="STRING" size="256"/>
          <Column id="OT_RES_MSG" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_if_ipin_cust_column" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_ipin_cust_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_ipin_cust_record" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="OT_V_IPIN_CUST_NO" type="STRING" size="256"/>
          <Column id="OT_V_IPIN_VTRL_RSNO" type="STRING" size="256"/>
          <Column id="OT_V_CUST_NM" type="STRING" size="256"/>
          <Column id="OT_V_IPIN_BDAY" type="STRING" size="256"/>
          <Column id="OT_V_EML_ADDR" type="STRING" size="256"/>
          <Column id="OT_V_CPHN_NO" type="STRING" size="256"/>
          <Column id="OT_V_CPHN_TPHN_ERR_YN" type="STRING" size="256"/>
          <Column id="OT_V_EML_ADDR_ERR_YN" type="STRING" size="256"/>
          <Column id="OT_V_CUST_ST_CD" type="STRING" size="256"/>
          <Column id="OT_V_CUST_ST_NM" type="STRING" size="256"/>
          <Column id="OT_V_CUST_DIV_CD" type="STRING" size="256"/>
          <Column id="OT_V_SEX_CD" type="STRING" size="256"/>
          <Column id="OT_V_JOIN_CHNL_CD" type="STRING" size="256"/>
          <Column id="OT_V_SECS_CHNL_CD" type="STRING" size="256"/>
          <Column id="OT_V_SECS_DTIME" type="STRING" size="256"/>
          <Column id="OT_V_GRP_AGR_YN" type="STRING" size="256"/>
          <Column id="OT_V_INTGR_CUST_NO" type="STRING" size="256"/>
          <Column id="OT_V_GRP_AGR_CHNL_CD" type="STRING" size="256"/>
          <Column id="OT_V_GRP_AGR_CHNL_CD_NM" type="STRING" size="256"/>
          <Column id="OT_V_FST_GRP_AGR_DTIME" type="STRING" size="256"/>
          <Column id="OT_V_WEB_ID" type="STRING" size="256"/>
          <Column id="OT_V_INPT_DTIME" type="STRING" size="256"/>
          <Column id="OT_V_INPT_USER_ID" type="STRING" size="256"/>
          <Column id="OT_V_INPT_IP" type="STRING" size="256"/>
          <Column id="OT_V_MOD_DTIME" type="STRING" size="256"/>
          <Column id="OT_V_MOD_USER_ID" type="STRING" size="256"/>
          <Column id="OT_V_MOD_IP" type="STRING" size="256"/>
          <Column id="OT_RESPON_CODE" type="STRING" size="256"/>
          <Column id="OT_RES_MSG" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_biz_cmb1_2" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_biz_cmb2_2" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_biz_cmb1_3" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_biz_cmb2_3" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_biz_cmb1_4" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_biz_cmb2_4" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_ipin_upd_env" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="IF_KIND" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_METHOD" type="STRING" size="256"/>
          <Column id="REQ_SERVICE_ID" type="STRING" size="256"/>
          <Column id="RES_HEADER_SECTION" type="STRING" size="256"/>
          <Column id="RES_COLUMN_SECTION" type="STRING" size="256"/>
          <Column id="RES_RECORD_SECTION" type="STRING" size="256"/>
          <Column id="RES_CODE_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG1_NAME" type="STRING" size="256"/>
          <Column id="RES_MSG2_NAME" type="STRING" size="256"/>
          <Column id="UPDATE_DATASET_NAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_if_ipin_upd_data" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_ipin_upd_header" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_ipin_upd_column" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_ipin_upd_common" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_if_ipin_upd_record" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="ds_cphon_head_no" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_PRIV_CNT_HIS" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ACC_NO" type="STRING" size="256"/>
          <Column id="SYS_CD" type="STRING" size="256"/>
          <Column id="SYS_IP" type="STRING" size="256"/>
          <Column id="USR_ID" type="STRING" size="256"/>
          <Column id="USR_CMP_ID" type="STRING" size="256"/>
          <Column id="USR_PART" type="STRING" size="256"/>
          <Column id="ACC_DAT" type="STRING" size="256"/>
          <Column id="ACC_IP" type="STRING" size="256"/>
          <Column id="ACC_URL" type="STRING" size="256"/>
          <Column id="PER_TSK_CD" type="STRING" size="256"/>
          <Column id="PER_TSK_DT" type="STRING" size="256"/>
          <Column id="PER_TSK_ID" type="STRING" size="256"/>
          <Column id="CAL_FUN" type="STRING" size="256"/>
          <Column id="INQ_CON" type="STRING" size="256"/>
          <Column id="INQ_CNT" type="STRING" size="256"/>
          <Column id="INQ_INFO_LIST" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript4.0"><![CDATA[/********************************************************************************** 
 *****	IPIN 고객조회
***********************************************************************************/

include "LIB::CommonLib.xjs"
var SVC_IF_URL 	= "XinterfaceAction.do?method=CommonInterface";

function BNS070_onload(obj:Form, e:LoadEventInfo)
{
	fn_userComboList();
	fn_setDefaultValue();
}

function fn_userComboList()
{
	set_user_code();
	fn_setBizDtlCmb();	
}

// 업무상세콤보세팅
function fn_setBizDtlCmb()
{
	var ds_biz_dtl_1 = eval(Cmb_BizDtls1_1.innerdataset);
	var ds_biz_dtl_2 = eval(Cmb_BizDtls2_1.innerdataset);
	
	// 상세2
	ds_biz_cmb1_2.copyData(ds_biz_dtl_1,false);
	Cmb_BizDtls1_2.innerdataset = "ds_biz_cmb1_2";
	Cmb_BizDtls1_2.codecolumn	= "CODE";
	Cmb_BizDtls1_2.datacolumn	= "CODE_NM";
	Cmb_BizDtls1_2.value		= "";
	
	ds_biz_cmb2_2.copyData(ds_biz_dtl_2,false);
	Cmb_BizDtls2_2.innerdataset = "ds_biz_cmb2_2";
	Cmb_BizDtls2_2.codecolumn	= "CODE";
	Cmb_BizDtls2_2.datacolumn	= "CODE_NM";

	// 상세3			
	ds_biz_cmb1_3.copyData(ds_biz_dtl_1,false);
	Cmb_BizDtls1_3.innerdataset = "ds_biz_cmb1_3";
	Cmb_BizDtls1_3.codecolumn	= "CODE";
	Cmb_BizDtls1_3.datacolumn	= "CODE_NM";
	Cmb_BizDtls1_3.value		= "";
	
	ds_biz_cmb2_3.copyData(ds_biz_dtl_2,false);
	Cmb_BizDtls2_3.innerdataset = "ds_biz_cmb2_3";
	Cmb_BizDtls2_3.codecolumn	= "CODE";
	Cmb_BizDtls2_3.datacolumn	= "CODE_NM";	

	// 상세4			
	ds_biz_cmb1_4.copyData(ds_biz_dtl_1,false);
	Cmb_BizDtls1_4.innerdataset = "ds_biz_cmb1_4";
	Cmb_BizDtls1_4.codecolumn	= "CODE";
	Cmb_BizDtls1_4.datacolumn	= "CODE_NM";	
	Cmb_BizDtls1_4.value		= "";
	
	ds_biz_cmb2_4.copyData(ds_biz_dtl_2,false);
	Cmb_BizDtls2_4.innerdataset = "ds_biz_cmb2_4";
	Cmb_BizDtls2_4.codecolumn	= "CODE";
	Cmb_BizDtls2_4.datacolumn	= "CODE_NM";
}

function fn_setDefaultValue()
{
	Cmb_BizDtls1_1_onitemchanged();
	Cmb_BizDtls1_2_onitemchanged();
	Cmb_BizDtls1_3_onitemchanged();
	Cmb_BizDtls1_4_onitemchanged();	
}

// 조회 버튼클릭
function Btn_Srch_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(Edt_SrchWebId.value) == ""){
		cf_Alert("COME0007", "웹ID");
		Edt_SrchWebId.setFocus();
		return;
	}
	
	fn_srchIpinCust(getTrim(Edt_SrchWebId.value));				
}

// 아이핀 고객조회
function fn_srchIpinCust(strParaWebId)
{	
	ds_if_ipin_cust_env.clearData();
	ds_if_ipin_cust_data.clearData();
	ds_if_ipin_cust_common.clearData();
	ds_if_ipin_cust_header.clearData();
	ds_if_ipin_cust_column.clearData();
	ds_if_ipin_cust_record.clearData();

	// IF ENV DS	
	fun_ds_srch(ds_if_ipin_cust_env, "IF_KIND", 			"WAS");
	fun_ds_srch(ds_if_ipin_cust_env, "REQ_SERVICE_METHOD", 	"ipCustSelC04.do");
	fun_ds_srch(ds_if_ipin_cust_env, "REQ_SERVICE_ID", 		"");
	fun_ds_srch(ds_if_ipin_cust_env, "RES_HEADER_SECTION", 	"STP_IP_CUST_SEL_C04_Rsp");
	fun_ds_srch(ds_if_ipin_cust_env, "RES_COLUMN_SECTION", 	"");
	fun_ds_srch(ds_if_ipin_cust_env, "RES_RECORD_SECTION", 	"");				
	
	fun_ds_srch(ds_if_ipin_cust_data,"req_chnl_code","610050");
	fun_ds_srch(ds_if_ipin_cust_data,"input_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_ipin_cust_data,"input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
	fun_ds_srch(ds_if_ipin_cust_data,"input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));

	fun_ds_srch(ds_if_ipin_cust_data,"in_web_id",strParaWebId);
	fun_ds_srch(ds_if_ipin_cust_data,"in_cust_no","");
	fun_ds_srch(ds_if_ipin_cust_data,"in_hndlr_id","");
	fun_ds_srch(ds_if_ipin_cust_data,"in_hndlr_nm","");		
				
	var	strSvcID = "IF_CSC_ITRT_047";
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_ipin_cust_env:a INTERFACE_DATA=ds_if_ipin_cust_data:a";
	var	strOutDatasets = "ds_if_ipin_cust_common=DS_COMMON ds_if_ipin_cust_header=DS_HEADER ds_if_ipin_cust_column=DS_COLUMN ds_if_ipin_cust_record=DS_RECORD";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBack";
	var strProcessBar = true;
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);		
}

function fn_setCustInfo()
{
	Edt_CelPhone.value = maskPhone(getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_CPHN_NO")));
	
	if(getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_CPHN_TPHN_ERR_YN"))== "Y"){
		Chk_WrngNoYn.value = true;
	}else{
		Chk_WrngNoYn.value = false;		
	}
	
	Tab_SaveInfoHist.tabindex = 0;
	
	// 고객 조회 후 탭 선택시 최초 한번만 처리하도록 한다.
	for(i=0; i < ds_tab_proc_yn.getColCount(); i++)
	{
		ds_tab_proc_yn.setColumn(0,i,"Y");
	}		
}

function fn_clearFormData()
{
	ds_if_ipin_cust_env.clearData();
	ds_if_ipin_cust_data.clearData();
	ds_if_ipin_cust_common.clearData();
	ds_if_ipin_cust_header.clearData();
	ds_if_ipin_cust_column.clearData();
	ds_if_ipin_cust_record.clearData();
	ds_sel_biz_dtl.clearData();
}

function fn_initBizCmb()
{
	Cmb_BizDtls1_1.value = "";
	Cmb_BizDtls1_2.value = "";
	Cmb_BizDtls1_3.value = "";
	Cmb_BizDtls1_4.value = "";
	
	Cmb_BizDtls2_1.value = "";
	Cmb_BizDtls2_2.value = "";
	Cmb_BizDtls2_3.value = "";
	Cmb_BizDtls2_4.value = "";
	
	Txa_CnslCtt.value	 = "";
}

// 접촉이력저장 버튼클릭
function Btn_SaveCntc_onclick(obj:Button,  e:ClickEventInfo)
{	
	if(!fn_ChkValid())	return;
	fn_setCnslSaveDs();		// save dataset 세팅	
	
	var	strSvcID = "U1";
	var	strURL = SVC_USR_URL;	
	var	strInDatasets = "UPDATE_0_IDATA=ds_save_cnsl_hist:a";
		strInDatasets = strInDatasets + " DELETE_1_IDATA=ds_save_cnsl_biz_dtls:a";		
		strInDatasets = strInDatasets + " INSERT_2_IDATA=ds_save_cnsl_biz_dtls:a";			
	var	strArgument = "UPDATE_0_ID=BNS620.Set_CnslHistInfo_UPDATE";
		strArgument	= strArgument + " DELETE_1_ID=BNS620.Set_CnslHistBizDtls_DELETE";		
		strArgument	= strArgument + " INSERT_2_ID=BNS620.Set_CnslHistBizDtls_INSERT";	
	var	strOutDatasets = "";
	var strCallbackFunc = "fn_callBack";
	var strProcessBar = true;	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);
	
	return;

}

// Validation 체크
function fn_ChkValid()
{
	var objCnslDs = this.opener.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];
	var objFlagDs = this.opener.all["ds_srch_flg"];	

	if(getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_IPIN_CUST_NO")) == ""){
		cf_Alert("BNSE0030","아이핀 고객번호","접촉저장");	
		return;	
	}	
/*	
	if(getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_CUST_ST_CD")) == ""){
		cf_Alert("BNSE0036","아이핀 고객정보");	
		Edt_SrchWebId.setFocus();
		return false;
	}
*/		
	if(getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_CUST_ST_CD")) == "03"){
		cf_Alert("BNSE0038");	
		return false;
	}	
	
	// 상담일련번호가 없는 경우
	if(objCnslDs.rowcount < 1){
		cf_Alert("BNSE0023");
		return false;
	}

	// 업무상세 순차적 입력여부 확인
	var strMaxOrdr = ds_sel_biz_dtl.getMax("ORDER");
	
	for(i=1; i<strMaxOrdr; i++)
	{
		var objCmbDtl1 = this.all["Cmb_BizDtls1_" + i];
		if(objCmbDtl1.value == ""){
			cf_Alert("BNSE0002","업무상세1-" + i);
			objCmbDtl1.setFocus();
			return false;
		}
	}
	
	// 업무상세2를 선택하지 않은 경우 확인
	for(i=1; i<=ds_sel_biz_dtl.rowcount; i++)
	{
		var objCmbDtl2 = this.all["Cmb_BizDtls2_" + i];
		if(objCmbDtl2.value == ""){
			cf_Alert("BNSE0003","업무상세2-" + i);
			objCmbDtl2.setFocus();
			return false;			
		}
	}
	
	if(ds_sel_biz_dtl.rowcount < 1){
		cf_Alert("COME0008","업무상세");	
		return false;
	}
	
	return true;	
}
	
function fn_setCnslSaveDs()
{
	ds_save_cnsl_hist.clearData();
	ds_save_cnsl_biz_dtls.clearData();
	
	var objSmryDs = this.opener.all["Tab_SmryInfo"]["tabpage1"].all["ds_inline_no"];	
	// 접촉이력
	var objCnslDs = this.opener.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];
	var strPhRecSeq = "";	
	if(this.opener.objPHN){
		strPhRecSeq = getTrim(this.opener.objPHN.getCallID());
	}
	// 전화시간
	var strCallMkTm 	= "";
	var strCallRcvTm 	= "";
	var strCallClrTm 	= "";
	if(this.opener.objPHN){	
		strCallMkTm		= getTrim(this.opener.objPHN.setCallDT("callMakeTime"));
		strCallRcvTm	= getTrim(this.opener.objPHN.setCallDT("callRecvTime"));
		strCallClrTm	= getTrim(this.opener.objPHN.setCallDT("callClearTime"));
	}	
	
	fun_ds_srch(ds_save_cnsl_hist, "CNSL_SEQ_NO", objCnslDs.getColumn(0,"CNSL_SEQ_NO"));					// 상담일련번호
	fun_ds_srch(ds_save_cnsl_hist, "CUST_ID",ds_if_ipin_cust_header.getColumn(0,"OT_V_IPIN_CUST_NO"));		// 가상고객번호
	fun_ds_srch(ds_save_cnsl_hist, "CUST_NM",ds_if_ipin_cust_header.getColumn(0,"OT_V_CUST_NM"));			// 고객명
	fun_ds_srch(ds_save_cnsl_hist, "WEB_ID",ds_if_ipin_cust_header.getColumn(0,"OT_V_WEB_ID"));				// 웹ID
	fun_ds_srch(ds_save_cnsl_hist, "CUR_TEL_NO",getTrim(objSmryDs.getColumn(0,"INLINE_NO")));				// 통화전화번호
	fun_ds_srch(ds_save_cnsl_hist, "CNTC_CHNL_CD","I");														// 접촉유형(인바운드)
	fun_ds_srch(ds_save_cnsl_hist, "CUST_DV_CD","C");														// 고객구분(개인)
	fun_ds_srch(ds_save_cnsl_hist, "BIZ_DV_CD","BNS");										    			// 업무구분(보너스)
	fun_ds_srch(ds_save_cnsl_hist, "CUR_TYP_CD","01");										    			// 통화결과
	fun_ds_srch(ds_save_cnsl_hist, "CNSL_CTT",getTrim(Txa_CnslCtt.value));										    				// 상담내용
	fun_ds_srch(ds_save_cnsl_hist, "PH_REC_SEQ_NO",strPhRecSeq);											// 녹취일련번호
	fun_ds_srch(ds_save_cnsl_hist, "CNSLR_CUR_STR_DTM",strCallMkTm);										// 전화연결시간
	fun_ds_srch(ds_save_cnsl_hist, "CUST_CUR_STR_DTM",strCallRcvTm);										// 전화받은시간
	fun_ds_srch(ds_save_cnsl_hist, "CUST_CUR_END_DTM",strCallClrTm);										// 전화끊기시간			
	
	// 업무상세
	for(i = 1; i <= ds_sel_biz_dtl.rowcount; i++)
	{
		var objCmbDtl1		= this.all["Cmb_BizDtls1_" + i];		
		var objCmbDtl2		= this.all["Cmb_BizDtls2_" + i];

		ds_save_cnsl_biz_dtls.addRow();
		ds_save_cnsl_biz_dtls.setColumn(i-1,"CNSL_SEQ_NO",objCnslDs.getColumn(0,"CNSL_SEQ_NO"));
		ds_save_cnsl_biz_dtls.setColumn(i-1,"BIZ_DTLS_SEQ",i);
		ds_save_cnsl_biz_dtls.setColumn(i-1,"BIZ_DV_DTLS_CD1",objCmbDtl1.value);
		ds_save_cnsl_biz_dtls.setColumn(i-1,"BIZ_DV_DTLS_CD2",objCmbDtl2.value);
	}	
}

// 변경이력버튼 클릭
function Btn_UpdHist_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_IPIN_CUST_NO")) == ""){
		cf_Alert("BNSE0030","아이핀 고객번호","변경이력 조회");	
		return;	
	}	

	Tab_SaveInfoHist.enable 	= true;
	Tab_SaveInfoHist.tabindex 	= 0;
	this.all["Tab_SaveInfoHist"]["tabpage1"].fn_srchFormData();			// 마스터		
}


// 탈퇴 버튼클릭
function Btn_Drop_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_IPIN_CUST_NO")) == ""){
		cf_Alert("BNSE0030","아이핀 고객번호","탈퇴");	
		return;	
	}
	
	if(getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_CUST_ST_CD")) != "01"){
		cf_Alert("BNSE0037","탈퇴");	
		return;
	}	
				
	if(getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_WEB_ID")) == ""){
		cf_Alert("BNSE0030","웹아이디","탈퇴");	
		return;		
	}
	
	fn_updIpinCustInfo("D");
}



// 저장 버튼클릭
function Btn_Save_onclick(obj:Button,  e:ClickEventInfo)
{
	if(getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_IPIN_CUST_NO")) == ""){
		cf_Alert("BNSE0030","아이핀 고객번호","변경");	
		return;	
	}
	
	if(getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_CUST_ST_CD")) == ""){
		cf_Alert("BNSE0036","아이핀 고객정보");	
		Edt_SrchWebId.setFocus();
		return;
	}
	/*
	if(getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_CUST_ST_CD")) != "01"){
		cf_Alert("BNSE0037","변경");	
		return;
	}	
	*/
	
	if(getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_WEB_ID")) == ""){
		cf_Alert("BNSE0030","웹아이디","변경");	
		return;		
	}
	
	// Email주소 형식체크
	if(getTrim(Edt_EmlAddr.value) != ""){
		if(!fn_ValidEmail(Edt_EmlAddr.value,Edt_EmlAddr)) return;		
	}	
		
	fn_updIpinCustInfo("U");		
}

function fn_updIpinCustInfo(strReqGbn)
{
	// 휴대전화
	var arrClPhn 	= getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_CPHN_NO")).split("-");
	var strClPhnDdd = "";
	var strClPhnFst = "";
	var strClPhnLst = "";
		
	if(arrClPhn.length > 1){	
		if(arrClPhn.length == 3){
			strClPhnDdd	= arrClPhn[0];
			strClPhnFst = arrClPhn[1];
			strClPhnLst = arrClPhn[2];
		}else{
			cf_Alert("COME0029","저장","휴대전화번호");
			Edt_CelPhone.setFocus();
			return;
		}
	}else{
		if(getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_CPHN_NO"))!=""){
			cf_Alert("COME0029","저장","휴대전화번호");
			Edt_CelPhone.setFocus();
			return;
		}
	}
	
	if(strClPhnDdd  != ""){
		// 전화번호 앞자리 체크
		ds_cphon_head_no.clearData();
		ds_cphon_head_no.copyData(gds_CommCode,false);  
		ds_cphon_head_no.filter("GROUPCODE == 'NW108' && USE_YN =='Y'");
		if(ds_cphon_head_no.findRow("CODE",strClPhnDdd) == -1){
			cf_Alert("BNSE0053",strClPhnDdd);
			Edt_CelPhone.setFocus();
			return;
		}
	}
	
	if(strReqGbn == "U"){
		if (!cf_Confirm("COMI0014"))	return;  //저장하시겠습니까?
	}else{
		if (!cf_Confirm("COMI0012","탈퇴"))	return;  //탈퇴 처리하시겠습니까?	
	}
	

	ds_if_ipin_upd_env.clearData();
	ds_if_ipin_upd_data.clearData();
	ds_if_ipin_upd_common.clearData();
	ds_if_ipin_upd_header.clearData();
	ds_if_ipin_upd_column.clearData();
	ds_if_ipin_upd_record.clearData();

	// IF ENV DS	
	fun_ds_srch(ds_if_ipin_upd_env, "IF_KIND", 			"WAS");
	fun_ds_srch(ds_if_ipin_upd_env, "REQ_SERVICE_METHOD", 	"ipCustInsC01.do");
	fun_ds_srch(ds_if_ipin_upd_env, "REQ_SERVICE_ID", 		"");
	fun_ds_srch(ds_if_ipin_upd_env, "RES_HEADER_SECTION", 	"STP_IP_CUST_INS_C01_Rsp");
	fun_ds_srch(ds_if_ipin_upd_env, "RES_COLUMN_SECTION", 	"");
	fun_ds_srch(ds_if_ipin_upd_env, "RES_RECORD_SECTION", 	"");			
	
	fun_ds_srch(ds_if_ipin_upd_data,"req_chnl_code","610050");
	fun_ds_srch(ds_if_ipin_upd_data,"input_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_ipin_upd_data,"input_user_nm",getTrim(GetUserInfo("gUSR_NM")));
	fun_ds_srch(ds_if_ipin_upd_data,"input_user_ip",getTrim(GetUserInfo("gLGIN_IP")));

	fun_ds_srch(ds_if_ipin_upd_data,"in_req_gbn",strReqGbn);		// U: 회원정보갱신, D: 회원탈퇴
	fun_ds_srch(ds_if_ipin_upd_data,"in_req_chnl_cd","610050");
	fun_ds_srch(ds_if_ipin_upd_data,"in_cust_no","");
	fun_ds_srch(ds_if_ipin_upd_data,"in_ipin_cust_no",getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_IPIN_CUST_NO")));
	fun_ds_srch(ds_if_ipin_upd_data,"in_ipin_di_val",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_ipin_ci_val",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_ipin_bday",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_ipin_vtrl_rsno",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_head_ipin_vtrl_rsno",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_tail_ipin_vtrl_rsno",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_cust_st_cd",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_cust_div_cd",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_sex_cd",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_cust_nm",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_cust_nm",null);	
	
	if(Chk_WrngNoYn.value == true){
		fun_ds_srch(ds_if_ipin_upd_data,"in_cphn_tphn_err_yn","Y");
	}else{
		fun_ds_srch(ds_if_ipin_upd_data,"in_cphn_tphn_err_yn","N");	
	}
	
	fun_ds_srch(ds_if_ipin_upd_data,"in_eml_addr_err_yn",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_join_chnl_cd",null);
	
	if(strReqGbn == "D"){
		fun_ds_srch(ds_if_ipin_upd_data,"in_secs_chnl_cd","610050");
	}else{
		fun_ds_srch(ds_if_ipin_upd_data,"in_secs_chnl_cd",null);	
	}
	
	fun_ds_srch(ds_if_ipin_upd_data,"in_secs_dtime",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_eml_addr",getTrim(Edt_EmlAddr.value));
	fun_ds_srch(ds_if_ipin_upd_data,"in_rmk",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_grp_agr_yn",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_grp_agr_chnl_cd",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_fst_grp_agr_dtime",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_intgr_cust_no",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_web_id",getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_WEB_ID")));
	fun_ds_srch(ds_if_ipin_upd_data,"in_web_pw",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_agrm_cd1",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_agrm_cd2",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_agrm_cd3",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_agrm_cd4",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_agrm_cd5",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_agrm_aprv_cd",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_aprv_chnl_div_cd",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_secs_rsn_cntt",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_aprv_dtime",null);	
	fun_ds_srch(ds_if_ipin_upd_data,"in_authn_tp_cd",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_authn_chnl_cd",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_authn_dtime",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_authn_yn",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_authn_tp_cntt",null);	
	fun_ds_srch(ds_if_ipin_upd_data,"in_ipin_sex_cd",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_ipin_ntnl_div_cd",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_ipin_verf_tmday",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_ipin_verf_rqst_val",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_ipin_verf_ip_addr",null);	
	fun_ds_srch(ds_if_ipin_upd_data,"in_fst_join_st_cd",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_svc_cust_st_cd",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_em_rcv_yn",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_sms_rcv_yn",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_join_yn",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_tphn_div_cd","03");		// 전화구분코드 03 휴대폰	
	fun_ds_srch(ds_if_ipin_upd_data,"in_cphn_head_tphn_no",strClPhnDdd);
	fun_ds_srch(ds_if_ipin_upd_data,"in_cphn_mid_tphn_no",strClPhnFst);
	fun_ds_srch(ds_if_ipin_upd_data,"in_cphn_fnl_tphn_no",strClPhnLst);	
	fun_ds_srch(ds_if_ipin_upd_data,"in_dtime",null);
	fun_ds_srch(ds_if_ipin_upd_data,"in_user_id",getTrim(GetUserInfo("gUSR_ID")));
	fun_ds_srch(ds_if_ipin_upd_data,"in_ip",getTrim(GetUserInfo("gLGIN_IP")));
				
	var	strSvcID = "IF_CSC_ITRT_048_" + strReqGbn;
	var	strURL = SVC_IF_URL;	
	var	strInDatasets = "INTERFACE_ENV=ds_if_ipin_upd_env:a INTERFACE_DATA=ds_if_ipin_upd_data:a";
	var	strOutDatasets = "ds_if_ipin_upd_common=DS_COMMON ds_if_ipin_upd_header=DS_HEADER ds_if_ipin_upd_column=DS_COLUMN ds_if_ipin_upd_record=DS_RECORD";
	var	strArgument = "";
	var strCallbackFunc = "fn_callBack";
	var strProcessBar = true;
	
	cf_SVC(strSvcID,strURL,strInDatasets,strOutDatasets,strArgument,strCallbackFunc,strProcessBar);	
}


// 콜백처리
function fn_callBack(svcid,strErrCode,strErrMsg)
{

	if (svcid =="U1"){
		
		//2015.08.15 개인정보접촉이력
		trace("=============개인정보접촉이력  IPIN 고객정보 접촉저장Start===========");
		
		var objSmryDs = this.opener.all["Tab_SmryInfo"]["tabpage1"].all["ds_inline_no"];	
		// 접촉이력
		var objCnslDs = this.opener.all["Tab_CntctHistInfo"]["tabpage1"].all["ds_cnsl_seq_out"];
		var strPhRecSeq = "";	
		if(this.opener.objPHN){
			strPhRecSeq = getTrim(this.opener.objPHN.getCallID());
		}
		// 전화시간
		var strCallMkTm 	= "";
		var strCallRcvTm 	= "";
		var strCallClrTm 	= "";
		
		if(this.opener.objPHN){	
			strCallMkTm		= getTrim(this.opener.objPHN.setCallDT("callMakeTime"));
			strCallRcvTm	= getTrim(this.opener.objPHN.setCallDT("callRecvTime"));
			strCallClrTm	= getTrim(this.opener.objPHN.setCallDT("callClearTime"));
		}
				
		
		var sAccNo = "BNS070"; //개인정보접촉이력 일련번호
		var sPerTCd = "PT1003";  // 수행업무 코드
		var sPerTDt = "ICCS_CSC IPIN 고객정보 접촉저장";  // 수행업무 상세내용
		var sCalFun = "fn_srchIpinCust()";  // 호출함수명 
		var sInqCon = "|" + "CNSL_SEQ_NO="+objCnslDs.getColumn(0,"CNSL_SEQ_NO")
					+ "|" + "CUST_ID=" + ds_if_ipin_cust_header.getColumn(0,"OT_V_IPIN_CUST_NO")
					+ "|" + "CUST_NM="+ds_if_ipin_cust_header.getColumn(0,"OT_V_CUST_NM")
					+ "|" + "WEB_ID="+ds_if_ipin_cust_header.getColumn(0,"OT_V_WEB_ID")
					+ "|" + "CUR_TEL_NO="+getTrim(objSmryDs.getColumn(0,"INLINE_NO"))
					+ "|" + "CNTC_CHNL_CD="+"I"
					+ "|" + "CUST_DV_CD="+"C"
					+ "|" + "BIZ_DV_CD="+"BNS"
					+ "|" + "CUR_TYP_CD="+"01"
					+ "|" + "CNSL_CTT="+getTrim(Txa_CnslCtt.value)
					+ "|" + "PH_REC_SEQ_NO="+strPhRecSeq
					+ "|" + "CNSLR_CUR_STR_DTM="+strCallMkTm
					+ "|" + "CUST_CUR_STR_DTM="+strCallRcvTm
					+ "|" + "CUST_CUR_END_DTM="+strCallClrTm
					+ "|" ;  // 조회조건 
					
		var sInqCnt = ds_save_cnsl_biz_dtls.rowcount;  // 조회건수
		
		var sInInfoList = ds_if_ipin_cust_header.getColumn(0,"OT_V_IPIN_CUST_NO");

		trace("개인정보접촉이력--IPIN 고객정보 접촉저장"+"    "+sAccNo 
														  +"    "+sPerTCd
														  +"    "+sPerTDt
														  +"    "+sCalFun
														  +"    "+sInqCon
														  +"    "+sInqCnt); 
										  
		trace("=============개인정보접촉이력 IPIN 고객정보 접촉저장END==========="); 
		//fn_Privcnthis(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt);
		fn_Privcnthis_info(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInInfoList);
		
		var objFlagDs = this.opener.all["ds_srch_flg"];			
		// CTI사용하지 않는 사용자 저장 여부확인 flag
		objFlagDs.setColumn(0,"CNSL_SAVE_YN","Y");	
	
		if(this.opener.objPHN){
			this.opener.objPHN.setConSaveYn("Y");
			if(this.opener.objPHN.getHangUpSaveYn() == "N"){
				this.opener.objPHN.setHangUpSaveYn("Y");
			}
		}	
		this.opener.all["Tab_CntctHistInfo"]["tabpage1"].fn_setCmpntEnable(false);
		this.opener.all["Tab_CntctHistInfo"]["tabpage1"].Btn_CmpltCnsl.enable = true;
		
		cf_Alert("COMI0003");		
	}

	if(svcid == "IF_CSC_ITRT_047"){
		var strHttpCd 	= ds_if_ipin_cust_common.getColumn(0,"HTTP_RET_CODE");
		var strHttpMsg 	= ds_if_ipin_cust_common.getColumn(0,"HTTP_RET_MSG");
		
		//2015.08.15 개인정보접촉이력
		trace("=============개인정보접촉이력  IPIN 고객정보_조회Start===========");
		
		var sAccNo = "BNS070"; //개인정보접촉이력 일련번호
		var sPerTCd = "PT1002";  // 수행업무 코드
		var sPerTDt = "ICCS_CSC IPIN 고객정보 조회";  // 수행업무 상세내용
		var sCalFun = "fn_srchIpinCust()";  // 호출함수명 
		var sInqCon = "|" + "input_user_id="+getTrim(GetUserInfo("gUSR_ID"))
					+ "|" + "input_user_nm=" + getTrim(GetUserInfo("gUSR_NM"))
					+ "|" + "input_user_ip="+getTrim(GetUserInfo("gLGIN_IP"))
					+ "|" + "in_req_chnl_cd="+"610050"
					+ "|" + "in_web_id="+getTrim(Edt_SrchWebId.value)
					+ "|" ;  // 조회조건 
					
		var sInqCnt = ds_if_ipin_cust_record.rowcount;  // 조회건수
		var sInInfoList = ds_if_ipin_cust_data.getColumn(0,"in_web_id");//고객 식별키
		
		//고객식별키 추가
		//fun_ds_srch(ds_if_frch_data,"in_search_key3",strBnsId);가맹점 사이트 코드
		 
		trace("개인정보접촉이력--IPIN 고객정보 조회 "+"    "+sAccNo 
												  +"    "+sPerTCd
												  +"    "+sPerTDt
												  +"    "+sCalFun
												  +"    "+sInqCon
												  +"    "+sInqCnt); 
												  +"	"+sInInfoList
		trace("=============개인정보접촉이력 IPIN 고객정보 조회END==========="); 
		//fn_Privcnthis(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt);
		fn_Privcnthis_info(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInInfoList);
			
		if(strHttpCd=="0"){
			var strRtnCd	= ds_if_ipin_cust_header.getColumn(0,"OT_RESPON_CODE");
			var strRtnMsg	= ds_if_ipin_cust_header.getColumn(0,"OT_RES_MSG");					
			if(strRtnCd=="00000"){
				fn_setCustInfo();
				fn_initBizCmb();
			}else{
				cf_Alert("COME0035",strRtnMsg);	
			}			
		}else{
			cf_Alert("COME0035",strHttpMsg);
		}	
	}
	
	// 저장	
	if(svcid == "IF_CSC_ITRT_048_U"){
		var strHttpCd 	= ds_if_ipin_upd_common.getColumn(0,"HTTP_RET_CODE");
		var strHttpMsg 	= ds_if_ipin_upd_common.getColumn(0,"HTTP_RET_MSG");
		
		//2015.08.15 개인정보접촉이력
		trace("=============개인정보접촉이력  IPIN 고객정보_저장Start===========");
		
		var arrClPhn 	= getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_CPHN_NO")).split("-");
		
		var sAccNo = "BNS070"; //개인정보접촉이력 일련번호
		var sPerTCd = "PT1003";  // 수행업무 코드
		var sPerTDt = "ICCS_CSC IPIN 고객정보 저장";  // 수행업무 상세내용
		var sCalFun = "fn_srchIpinCust()";  // 호출함수명 
		
		var strYN = '';
		if(Chk_WrngNoYn.value == true){
			strYN = "Y";
		}else{
			strYN = "N";
		}
		
		var sInqCon = "|" + "input_user_id="+getTrim(GetUserInfo("gUSR_ID"))
					+ "|" + "input_user_nm=" + getTrim(GetUserInfo("gUSR_NM"))
					+ "|" + "input_user_ip="+getTrim(GetUserInfo("gLGIN_IP"))
					+ "|" + "in_req_chnl_cd="+"610050"
					+ "|" + "in_req_gbn="+"U"
					+ "|" + "in_ipin_cust_no="+getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_IPIN_CUST_NO"))
					+ "|" + "in_cphn_tphn_err_yn="+strYN
					+ "|" + "in_eml_addr="+getTrim(Edt_EmlAddr.value)
					+ "|" + "in_web_id="+getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_WEB_ID"))
					+ "|" + "in_tphn_div_cd="+"03"
					+ "|" + "in_cphn_head_tphn_no="+arrClPhn[0]
					+ "|" + "in_cphn_mid_tphn_no="+arrClPhn[1]
					+ "|" + "in_cphn_fnl_tphn_no="+arrClPhn[2]
					+ "|" ;  // 조회조건 
					
		var sInqCnt = ds_if_ipin_cust_record.rowcount;  // 조회건수
		var sInInfoList = ds_if_ipin_cust_header.getColumn(0,"OT_V_IPIN_CUST_NO");//고객 식별키
		trace("개인정보접촉이력--IPIN 고객정보_저장"+"    "+sAccNo 
														  +"    "+sPerTCd
														  +"    "+sPerTDt
														  +"    "+sCalFun
														  +"    "+sInqCon
														  +"    "+sInqCnt); 
										  
		trace("=============개인정보접촉이력 IPIN 고객정보_저장END==========="); 
		//fn_Privcnthis(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt);
		fn_Privcnthis_info(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInInfoList);
				
		
		if(strHttpCd=="0"){
			var strRtnCd	= ds_if_ipin_upd_header.getColumn(0,"OT_RESPON_CODE");
			var strRtnMsg	= ds_if_ipin_upd_header.getColumn(0,"OT_RES_MSG");					
			if(strRtnCd=="00000"){
				cf_Alert("TSSI0007","고객정보변경");			
			}else{
				cf_Alert("COME0035",strRtnMsg);	
			}			
		}else{
			cf_Alert("COME0035",strHttpMsg);
		}	
	}
	
	// 탈퇴
	if(svcid == "IF_CSC_ITRT_048_D"){
		var strHttpCd 	= ds_if_ipin_upd_common.getColumn(0,"HTTP_RET_CODE");
		var strHttpMsg 	= ds_if_ipin_upd_common.getColumn(0,"HTTP_RET_MSG");
		
			//2015.08.15 개인정보접촉이력
		trace("=============개인정보접촉이력  IPIN 고객정보_탈퇴Start===========");
		
		var arrClPhn 	= getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_CPHN_NO")).split("-");
		
		var sAccNo = "BNS070"; //개인정보접촉이력 일련번호
		var sPerTCd = "PT1003";  // 수행업무 코드
		var sPerTDt = "ICCS_CSC IPIN 고객정보 탈퇴";  // 수행업무 상세내용
		var sCalFun = "fn_srchIpinCust()";  // 호출함수명 
		
		var strYN = '';
		if(Chk_WrngNoYn.value == true){
			strYN = "Y";
		}else{
			strYN = "N";
		}
		
		var sInqCon = "|" + "input_user_id="+getTrim(GetUserInfo("gUSR_ID"))
					+ "|" + "input_user_nm=" + getTrim(GetUserInfo("gUSR_NM"))
					+ "|" + "input_user_ip="+getTrim(GetUserInfo("gLGIN_IP"))
					+ "|" + "in_req_chnl_cd="+"610050"
					+ "|" + "in_req_gbn="+"D"
					+ "|" + "in_ipin_cust_no="+getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_IPIN_CUST_NO"))
					+ "|" + "in_cphn_tphn_err_yn="+strYN
					+ "|" + "in_eml_addr="+getTrim(Edt_EmlAddr.value)
					+ "|" + "in_web_id="+getTrim(ds_if_ipin_cust_header.getColumn(0,"OT_V_WEB_ID"))
					+ "|" + "in_tphn_div_cd="+"03"
					+ "|" + "in_secs_chnl_cd="+"610050"
					+ "|" + "in_cphn_head_tphn_no="+arrClPhn[0]
					+ "|" + "in_cphn_mid_tphn_no="+arrClPhn[1]
					+ "|" + "in_cphn_fnl_tphn_no="+arrClPhn[2]
					+ "|" ;  // 조회조건 
					
		var sInqCnt = ds_if_ipin_cust_record.rowcount;  // 조회건수
		var sInInfoList = ds_if_ipin_cust_header.getColumn(0,"OT_V_IPIN_CUST_NO");//고객 식별키
		trace("개인정보접촉이력--IPIN 고객정보_탈퇴"+"    "+sAccNo 
														  +"    "+sPerTCd
														  +"    "+sPerTDt
														  +"    "+sCalFun
														  +"    "+sInqCon
														  +"    "+sInqCnt); 
										  
		trace("=============개인정보접촉이력 IPIN 고객정보_탈퇴END==========="); 
		//fn_Privcnthis(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt);	
		fn_Privcnthis_info(sAccNo, sPerTCd, sPerTDt, sCalFun, sInqCon, sInqCnt,sInInfoList);
		
		if(strHttpCd=="0"){
			var strRtnCd	= ds_if_ipin_upd_header.getColumn(0,"OT_RESPON_CODE");
			var strRtnMsg	= ds_if_ipin_upd_header.getColumn(0,"OT_RES_MSG");					
			if(strRtnCd=="00000"){
				cf_Alert("TSSI0007","탈퇴");				
			}else{
				cf_Alert("COME0035",strRtnMsg);	
			}			
		}else{
			cf_Alert("COME0035",strHttpMsg);
		}	
	}				
}

// 탭선택시 
function Tab_SaveInfoHist_onchanged(obj:Tab, e:TabIndexChangeEventInfo)
{
	switch(obj.tabindex)
	{
		case 0 : 
			this.all["Tab_SaveInfoHist"]["tabpage1"].fn_srchFormData();			// 마스터
			break;
		case 1 : 
			this.all["Tab_SaveInfoHist"]["tabpage2"].fn_srchFormData();			// 연락처
			break;
		case 2 : 
			this.all["Tab_SaveInfoHist"]["tabpage3"].fn_srchFormData();			// 웹아이디
			break;			
		case 3 : 
			this.all["Tab_SaveInfoHist"]["tabpage4"].fn_srchFormData();			// 인증정보
			break;		
		default : 
			break;
	}	
}


// 닫기 버튼클릭
function Btn_Close_onclick(obj:Button,  e:ClickEventInfo)
{
	var setDsName = this.getOwnerFrame().setDsArgument;
	this.close();
}

function Edt_SrchWebId_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if (e.keycode == "13" ) Btn_Srch_onclick();	
}

function Edt_CelPhone_ontextchanged(obj:Edit,  e:TextChangedEventInfo)
{
	obj.value = maskPhone(e.posttext);
	obj.setCaretPos(-1);	
}

/********************************************************************************** 
 *****	업무상세콤보
***********************************************************************************/

function Cmb_BizDtls1_1_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	var ds_BizDtls2 = eval(Cmb_BizDtls2_1.innerdataset);

	ds_BizDtls2.filter("HIG_CODE =='" + Cmb_BizDtls1_1.value + "' || CODE == ''");
	Cmb_BizDtls2_1.value = "";

	// 선택한 상세1 리스트 수정
	var intBefRow = ds_sel_biz_dtl.findRow("ORDER","1");
	if(intBefRow != -1){
		ds_sel_biz_dtl.deleteRow(intBefRow);
	}
	
	if(Cmb_BizDtls1_1.value != ""){
		ds_sel_biz_dtl.addRow();
		ds_sel_biz_dtl.setColumn(ds_sel_biz_dtl.rowposition,"DTL1_CODE",Cmb_BizDtls1_1.value);	
		ds_sel_biz_dtl.setColumn(ds_sel_biz_dtl.rowposition,"ORDER","1");		
	}	
}

function Cmb_BizDtls1_2_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	var ds_BizDtls2 = eval(Cmb_BizDtls2_2.innerdataset);

	ds_BizDtls2.filter("HIG_CODE =='" + Cmb_BizDtls1_2.value + "' || CODE == ''");
	Cmb_BizDtls2_2.value = "";
	
	// 선택한 상세1 리스트 수정
	var intBefRow = ds_sel_biz_dtl.findRow("ORDER","2");
	if(intBefRow != -1){
		ds_sel_biz_dtl.deleteRow(intBefRow);
	}
	
	if(Cmb_BizDtls1_2.value != ""){
		ds_sel_biz_dtl.addRow();
		ds_sel_biz_dtl.setColumn(ds_sel_biz_dtl.rowposition,"DTL1_CODE",Cmb_BizDtls1_2.value);
		ds_sel_biz_dtl.setColumn(ds_sel_biz_dtl.rowposition,"ORDER","2");		
	}	
}

function Cmb_BizDtls1_3_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	var ds_BizDtls2 = eval(Cmb_BizDtls2_3.innerdataset);

	ds_BizDtls2.filter("HIG_CODE =='" + Cmb_BizDtls1_3.value + "' || CODE == ''");
	Cmb_BizDtls2_3.value = "";
	
	// 선택한 상세1 리스트 수정
	var intBefRow = ds_sel_biz_dtl.findRow("ORDER","3");
	if(intBefRow != -1){
		ds_sel_biz_dtl.deleteRow(intBefRow);
	}
	
	if(Cmb_BizDtls1_3.value != ""){
		ds_sel_biz_dtl.addRow();
		ds_sel_biz_dtl.setColumn(ds_sel_biz_dtl.rowposition,"DTL1_CODE",Cmb_BizDtls1_3.value);
		ds_sel_biz_dtl.setColumn(ds_sel_biz_dtl.rowposition,"ORDER","3");		
	}	
}

function Cmb_BizDtls1_4_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	var ds_BizDtls2 = eval(Cmb_BizDtls2_4.innerdataset);

	ds_BizDtls2.filter("HIG_CODE =='" + Cmb_BizDtls1_4.value + "' || CODE == ''");
	Cmb_BizDtls2_4.value = "";
			
	// 선택한 상세1 리스트 수정
	var intBefRow = ds_sel_biz_dtl.findRow("ORDER","4");
	if(intBefRow != -1){
		ds_sel_biz_dtl.deleteRow(intBefRow);
	}
	
	if(Cmb_BizDtls1_4.value != ""){
		ds_sel_biz_dtl.addRow();
		ds_sel_biz_dtl.setColumn(ds_sel_biz_dtl.rowposition,"DTL1_CODE",Cmb_BizDtls1_4.value);
		ds_sel_biz_dtl.setColumn(ds_sel_biz_dtl.rowposition,"ORDER","4");		
	}
}

function Cmb_BizDtls2_1_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	if(obj.value != ""){
		for(i=1;i<=4;i++)
		{
			var strCmbNm	= "Cmb_BizDtls2_" + i;
			var objCmbDtl2	= this.all["Cmb_BizDtls2_" + i];			
			if(obj.name != strCmbNm && objCmbDtl2.value == obj.value){
				cf_Alert("COME0027");					
				obj.value = "";
				return;			
			}
		}
	}
}

function Cmb_BizDtls2_2_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	if(obj.value != ""){
		for(i=1;i<=4;i++)
		{
			var strCmbNm	= "Cmb_BizDtls2_" + i;
			var objCmbDtl2	= this.all["Cmb_BizDtls2_" + i];			
			if(obj.name != strCmbNm && objCmbDtl2.value == obj.value){
				cf_Alert("COME0027");					
				obj.value = "";
				return;			
			}
		}
	}	
}

function Cmb_BizDtls2_3_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	if(obj.value != ""){
		for(i=1;i<=4;i++)
		{
			var strCmbNm	= "Cmb_BizDtls2_" + i;
			var objCmbDtl2	= this.all["Cmb_BizDtls2_" + i];			
			if(obj.name != strCmbNm && objCmbDtl2.value == obj.value){
				cf_Alert("COME0027");					
				obj.value = "";
				return;			
			}
		}
	}	
}

function Cmb_BizDtls2_4_onitemchanged(obj:Combo, e:ItemChangeEventInfo)
{
	if(obj.value != ""){
		for(i=1;i<=4;i++)
		{
			var strCmbNm	= "Cmb_BizDtls2_" + i;
			var objCmbDtl2	= this.all["Cmb_BizDtls2_" + i];			
			if(obj.name != strCmbNm && objCmbDtl2.value == obj.value){
				cf_Alert("COME0027");					
				obj.value = "";
				return;			
			}
		}
	}	
}
]]></Script>
    <Bind>
      <BindItem id="item0" compid="Edt_CustNm" propid="value" datasetid="ds_if_ipin_cust_header" columnid="OT_V_CUST_NM"/>
      <BindItem id="item1" compid="Edt_IntgWebId" propid="value" datasetid="ds_if_ipin_cust_header" columnid="OT_V_INTGR_CUST_NO"/>
      <BindItem id="item3" compid="Edt_EmlAddr" propid="value" datasetid="ds_if_ipin_cust_header" columnid="OT_V_EML_ADDR"/>
      <BindItem id="item4" compid="Edt_CelPhone" propid="value" datasetid="ds_if_ipin_cust_header" columnid="OT_V_CPHN_NO"/>
      <BindItem id="item5" compid="Edt_CustSt" propid="value" datasetid="ds_if_ipin_cust_header" columnid="OT_V_CUST_ST_NM"/>
      <BindItem id="item7" compid="Edt_GrpAgrChnl" propid="value" datasetid="ds_if_ipin_cust_header" columnid="OT_V_GRP_AGR_CHNL_CD_NM"/>
      <BindItem id="item10" compid="Cmb_BizDtls1_1" propid="value" datasetid="ds_biz_dtl_list" columnid="BIZ_DTL1_1"/>
      <BindItem id="item11" compid="Cmb_BizDtls1_2" propid="value" datasetid="ds_biz_dtl_list" columnid="BIZ_DTL1_2"/>
      <BindItem id="item12" compid="Cmb_BizDtls1_3" propid="value" datasetid="ds_biz_dtl_list" columnid="BIZ_DTL1_3"/>
      <BindItem id="item13" compid="Cmb_BizDtls1_4" propid="value" datasetid="ds_biz_dtl_list" columnid="BIZ_DTL1_4"/>
      <BindItem id="item14" compid="Cmb_BizDtls2_1" propid="value" datasetid="ds_biz_dtl_list" columnid="BIZ_DTL2_1"/>
      <BindItem id="item15" compid="Cmb_BizDtls2_2" propid="value" datasetid="ds_biz_dtl_list" columnid="BIZ_DTL2_2"/>
      <BindItem id="item16" compid="Cmb_BizDtls2_3" propid="value" datasetid="ds_biz_dtl_list" columnid="BIZ_DTL2_3"/>
      <BindItem id="item17" compid="Cmb_BizDtls2_4" propid="value" datasetid="ds_biz_dtl_list" columnid="BIZ_DTL2_4"/>
      <BindItem id="item2" compid="Msk_Bday" propid="value" datasetid="ds_if_ipin_cust_header" columnid="OT_V_IPIN_BDAY"/>
      <BindItem id="item9" compid="Edt_CustRegDt" propid="value" datasetid="ds_if_ipin_cust_header" columnid="OT_V_INPT_DTIME"/>
      <BindItem id="item18" compid="Edt_InfoModDt" propid="value" datasetid="ds_if_ipin_cust_header" columnid="OT_V_MOD_DTIME"/>
      <BindItem id="item6" compid="Edt_GrpAgrDt" propid="value" datasetid="ds_if_ipin_cust_header" columnid="OT_V_FST_GRP_AGR_DTIME"/>
    </Bind>
  </Form>
</FDL>
